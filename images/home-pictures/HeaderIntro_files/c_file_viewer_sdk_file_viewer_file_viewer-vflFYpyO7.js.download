define(["require","exports","./e_edison","./e_ui_page_files_router","./c_api_v2_noauth_client","./c_file_store_utils","./c_extensions_data_selectors","./c_tslib","./c_portable_delete_snackbars","./c_sdk_file_viewer_action_plugins_utils","./c_core_i18n","./c_src_file_viewer_components","./c_files_view_file_actions_snackbars","./c_file_actions_strings","./c_ui-icon_line_move","./c_action_bar_action_bar_strings","./c_ui-icon_line_copy","./c_ui-icon_line_cursor","./c_ui-icon_line_delete","./e_core_exception","./c_core_exception_info","./c_auth_login_or_register_types","./c_downloads","./c_core_notify","metaserver/static/js/modules/constants/request","./c_file_viewer_utils","./c_loggers_device_type","./c_core_uri","./c_form_row_index","./c_ui_tree_view","./c_sharing_ui_notifications_util","./c_src_utils_logging","./c_share_download_ui_api","./c_account_email","./c_account_email_verify_reasons","./c_core_utils_redesign2023","./c_core_types_preview_type","./c_file_viewer_sdk_file_viewer_experiments","./c_core_browser_detection","./c_dig-illustrations_spot_file-folders","./c_previews_util","./c_history","./c_apex-metrics_src_types","./c_src_file_extension_extension_constants","./c_core_logging_constants","./c_core_logging_video","./c_src_sink_index","metaserver/static/js/modules/constants/page_load","./c_pap-events_previews_delete_file","./c_pap-events_enums_file_type-utils","./c_pap-events_previews_create_folder","./c_photo-editor_plugin_show-edit-plugin","./c_keymaster","./c_sharing_ui_util","./c_bug_reporting_routing","./c_truncate_index","./c_clipboard_v3","./c_ui-icon_line_dropbox","./c_ui-icon_line_rocket","metaserver/static/js/modules/constants/publish","./c_file_viewer_data_store","./c_src_logging_performance","./c_src_mobile_web","./c_integrations_data_selectors","./c_capture_redux_selectors","./c_previews_data_actions","./c_flows_flows_client","./c_docsend_src_utils","./c_src_common_filepath","./c_src_preview-photo-editor_types","./c_flows_approval_approval_io_client","./c_ui-icon_line_edit","./c_src_simple-action-bar_action_bar_types","./c_ui-icon_line_share-arrow","./c_api_v2_redux_files","./c_breadcrumb_index","./c_src_common_format_bytes","./c_info_blade_content_metadata_image_metadata","./c_ui-icon_line_closed-captions","./c_ui-icon_line_more-horizontal","./c_src_simple-action-bar_inline_action_bar","./c_src_highlighted-truncated-string_em-string","./c_size_class_constants","./c_extensions_split_share_button","./c_ui-icon_line_link","./c_share_modal_evolution_utils_logging","./c_team_discovery_data_utils","./c_teams_let_members_invite_non_admin_invite_modal","./c_loggers_join_flow_logger","./c_integrations_notify","./c_spectrum_avatar_avatar_initials","./c_spectrum_avatar_avatar_color_util","./c_spectrum_tooltip","./c_spectrum_facepile_facepile_members","./c_lodash-es_lodash","./c_ui-icon_line_sidebar-show","./c_ui-icon_line_zoom-out","./c_src_components_action-bar-strings","./c_ui-icon_line_crop","./c_ui-icon_line_cut","./c_ui-icon_line_shape-rotate-right","./c_ui-icon_line_flip-vertical","./c_ui-icon_line_slider","./c_ui_hoc","./c_capture_api"],(function(e,t,i,a,n,r,o,s,l,c,d,u,p,_,m,f,g,v,h,S,E,w,b,y,I,T,R,P,A,x,C,M,O,N,D,k,F,L,U,V,B,$,j,z,H,K,W,G,q,Y,J,Q,X,Z,ee,te,ie,ae,ne,re,oe,se,le,ce,de,ue,pe,_e,me,fe,ge,ve,he,Se,Ee,we,be,ye,Ie,Te,Re,Pe,Ae,xe,Ce,Me,Oe,Ne,De,ke,Fe,Le,Ue,Ve,Be,$e,je,ze,He,Ke,We,Ge,qe,Ye,Je){"use strict";function Qe(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(i){if("default"!==i){var a=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return e[i]}})}})),t.default=e,Object.freeze(t)}var Xe,Ze=Qe(G);!function(e){e[e.UNUSED=0]="UNUSED",e[e.UNSUPPORTED=1]="UNSUPPORTED",e[e.IPHONE=2]="IPHONE",e[e.ANDROID_MARKET=3]="ANDROID_MARKET",e[e.IPAD=4]="IPAD"}(Xe||(Xe={})),j.proto3.util.setEnumType(Xe,"open_in_app_urls.OpenInMobileAppPlatform",[{no:0,name:"UNUSED"},{no:1,name:"UNSUPPORTED"},{no:2,name:"IPHONE"},{no:3,name:"ANDROID_MARKET"},{no:4,name:"IPAD"}]);class et extends j.Message{constructor(e){super(),this.platform=Xe.UNUSED,this.iOSAppUrl="",this.iOSAppStoreUrl="",j.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new et).fromBinary(e,t)}static fromJson(e,t){return(new et).fromJson(e,t)}static fromJsonString(e,t){return(new et).fromJsonString(e,t)}static equals(e,t){return j.proto3.util.equals(et,e,t)}}et.runtime=j.proto3,et.typeName="open_in_app_urls.IOSOpenInAppUrls",et.fields=j.proto3.util.newFieldList((()=>[{no:1,name:"platform",kind:"enum",T:j.proto3.getEnumType(Xe)},{no:2,name:"iOS_app_url",kind:"scalar",T:9},{no:3,name:"iOS_app_store_url",kind:"scalar",T:9}]));class tt extends j.Message{constructor(e){super(),this.platform=Xe.UNUSED,this.androidAppUrl="",j.proto3.util.initPartial(e,this)}static fromBinary(e,t){return(new tt).fromBinary(e,t)}static fromJson(e,t){return(new tt).fromJson(e,t)}static fromJsonString(e,t){return(new tt).fromJsonString(e,t)}static equals(e,t){return j.proto3.util.equals(tt,e,t)}}tt.runtime=j.proto3,tt.typeName="open_in_app_urls.AndroidOpenInAppUrls",tt.fields=j.proto3.util.newFieldList((()=>[{no:1,name:"platform",kind:"enum",T:j.proto3.getEnumType(Xe)},{no:2,name:"android_app_url",kind:"scalar",T:9}]));const it=Xe;function at(e){return e.platform===it.IPAD||e.platform===it.IPHONE}function nt(e){return e.platform===it.ANDROID_MARKET}const rt=e=>ot()?i.React$1.createElement(a.Text,Object.assign({color:"faint",tagName:"div"},e),d.intl.formatMessage({id:"EvntjN",defaultMessage:"Tapping Get the app will copy a link and open the content in the app"})):null;function ot(){return U.iOS&&(window.location.pathname.startsWith("/s/")||window.location.pathname.startsWith("/sh/")||window.location.pathname.startsWith("/scl/"))}let st;rt.displayName="CopyUrlLabelText";let lt=!1;const ct=(e,t,i)=>{return ot()&&ie.copyToClipboard(window.location.href),i?void(((null==(n=t)?void 0:n.startsWith("https://itunes.apple.com/"))||(null==n?void 0:n.startsWith("https://app.adjust.com/")))&&a.unsafeRedirect(n)):((e,t,i)=>{if(lt)return;let n=!1;st=()=>n=!0,document.addEventListener("visibilitychange",st);let r=!1;const o=()=>r=!0;window.addEventListener("pagehide",o),null!=i&&a.ShareTibEventLogger.log_unauth("CLICK_MOBILE_OPEN",a.SHARE_ACTION_ORIGIN_TYPE.WEB_MOBILE,{scl_url:i}),function(){const t=document.createElement("iframe");t.src=e||"",t.style.display="none",document.body.append(t)}();const s=Date.now();setTimeout((()=>{lt=!1,st&&document.removeEventListener("visibilitychange",st),window.removeEventListener("pagehide",o),!r&&!n&&Date.now()<s+4700&&(null!=i&&a.ShareTibEventLogger.log_unauth("CLICK_MOBILE_INSTALL",a.SHARE_ACTION_ORIGIN_TYPE.WEB_MOBILE,{scl_url:i}),t&&window.location.replace(t))}),3200),lt=!0})(e,t);var n};function dt(){const e=(navigator.userAgent||"").match(/OS (\d+)_(\d+)_?(\d+)?/);return!e||parseInt(e[1],10)>=9}function ut(e){var t;at(e)?ct(e.iOSAppUrl,e.iOSAppStoreUrl,dt()):nt(e)&&(t=e.androidAppUrl,P.assert(t.startsWith("intent://www.dropbox.com/sm/launch_intent_or_fallback_page"),"intentUrl must use intent:// protocol"),window.location.href=t)}function pt(){(()=>{if(st)document.removeEventListener("visibilitychange",st)})()}var _t,mt,ft;t.AuthMode=void 0,(_t=t.AuthMode||(t.AuthMode={}))[_t.LOGIN=0]="LOGIN",_t[_t.REGISTER=1]="REGISTER",t.CommentTextVariant=void 0,(mt=t.CommentTextVariant||(t.CommentTextVariant={})).DEFAULT="",mt.POST="post_comment_variant",mt.SUBSCRIBE="subscribe_variant",t.LoginOrRegisterKind=void 0,(ft=t.LoginOrRegisterKind||(t.LoginOrRegisterKind={})).COMMENT="comment",ft.DOWNLOAD="download",ft.IMMEDIATE="immediate",ft.SIDEBAR="sidebar",ft.POSTDOWNLOAD="postdownload",ft.POSTSAVEAS="postsaveas";const gt="COPY_ACTION",vt="DOWNLOAD_ACTION",ht="DELETE_ACTION",St="MOVE_ACTION",Et="OPEN_DROPDOWN_ACTION",wt="watermarking_overflow_action",bt="RENAME_ACTION",yt="OPEN_IN_DESKTOP_ACTION",It="REQUEST_APPROVAL_ACTION",Tt="TRANSFER_ACTION",Rt="ADD_TO_COLLECTION_ACTION",Pt="STARRED_ACTION",At="DOCSEND_ANALYTICS_ADD_ON_ACTION",xt="UNZIP_ACTION",Ct="VERSION_HISTORY_ACTION",Mt="RESTORE_ACTION",Ot="STAR_TOOLBAR_BUTTON",Nt="SIGNATURES_ACTIONBAR_DROPDOWN",Dt="OPEN_REPLAY_ACTION",kt="PUBLISH_ACTION",Ft="GO_TO_FOLDER_PLUGIN",Lt="VOICE_OVER_PLUGIN",Ut="VIDEO_EDIT_PLUGIN",Vt="TEXT_EDIT_PLUGIN",Bt="MULTI_VIDEO_EDITOR_PLUGIN",$t="CONVERSION_ACTION",jt="SEND_FOR_SIGNATURE_ACTION",zt="SELF_SIGN_ACTION",Ht=[vt],Kt=[St,gt,bt,ht];var Wt;t.SDKPreviewSurface=void 0,(Wt=t.SDKPreviewSurface||(t.SDKPreviewSurface={})).BROWSE="browse",Wt.SEARCH="search",Wt.INBAND_SHARE="inband-share",Wt.SHARED_LINK="shared-link",Wt.SHARED_CONTENT_LINK="shared-content-link",Wt.SHARED_LINK_EMBED="shared-link-embed",Wt.VERSION_HISTORY="version-history",Wt.HOME="home",Wt.HELLOSIGN="hellosign",Wt.RECENTS="recents",Wt.STARRED="starred",Wt.STANDALONE_PREVIEW="standalone-previews",Wt.PHOTOS="photos",Wt.COLLECTIONS="collections",Wt.SHARED_COLLECTION="shared-collection",Wt.COMMERCE="commerce",Wt.CLIENT_PORTAL="client-portal",Wt.TRANSFER="transfer",Wt.FILE_LOCKING="file-locking",Wt.BACKUP="backup",Wt.UNKNOWN="unknown",Wt.VIDEO_SYNTHESIS="video-synthesis",Wt.VIDEO_HOME="video-home";const Gt=[t.SDKPreviewSurface.SEARCH,t.SDKPreviewSurface.STANDALONE_PREVIEW,t.SDKPreviewSurface.FILE_LOCKING,t.SDKPreviewSurface.RECENTS,t.SDKPreviewSurface.STARRED,t.SDKPreviewSurface.HOME],qt=(e,t)=>Kt.includes(e)&&Yt(t),Yt=e=>Gt.includes(e),Jt=[t.SDKPreviewSurface.BROWSE,t.SDKPreviewSurface.HOME,t.SDKPreviewSurface.RECENTS,t.SDKPreviewSurface.STARRED,t.SDKPreviewSurface.SEARCH,t.SDKPreviewSurface.INBAND_SHARE,t.SDKPreviewSurface.STANDALONE_PREVIEW,t.SDKPreviewSurface.COLLECTIONS,t.SDKPreviewSurface.VIDEO_SYNTHESIS,t.SDKPreviewSurface.VIDEO_HOME],Qt=[t.SDKPreviewSurface.SHARED_CONTENT_LINK,t.SDKPreviewSurface.SHARED_LINK],Xt=e=>{let t=e,i=!1;const a=e.split("_");a.length>1&&(t=a[0],i=!0);const n=parseInt(t,10);return isNaN(n)?null:{bandwidth:n,ignoreVideoPlayerSize:i}},Zt=e=>{const t={maxGoalBufferLength:60,goalBufferLengthRate:1};return"V1"!==e&&"V3"!==e||(t.maxGoalBufferLength=180),"V2"!==e&&"V3"!==e||(t.goalBufferLengthRate=3),t},ei=()=>({enable_fullscreen:!0,keyboard_shortcuts:!0,titlebar_logo_config:{show_logo:!0,base_url:"www.dropbox.com"},preview_types:{[F.PreviewType.SsrDoc]:Object.assign({},u.DEFAULT_CONFIG.preview_types[F.PreviewType.SsrDoc])},partial_prewarm_allowed:L.fileViewerFeatureExperiments.partialPrewarmAllowed,fvsdk_excel_ms_embed_phase:L.fileViewerFeatureExperiments.fvsdkExcelMsEmbedPhase,tags_section_variant:L.fileViewerFeatureExperiments.tagsSectionVariant,img_size_optimization:L.fileViewerFeatureExperiments.imgSizeOptimization,enable_assigned_tasks_plugin:L.fileViewerFeatureExperiments.enableAssignedTasksPlugin,initial_video_bandwidth:Xt(L.fileViewerFeatureExperiments.initialVideoBandwidth),fvsdk_slow_connection_banner:L.fileViewerFeatureExperiments.fvsdkSlowConnectionBanner,replay_previews_permanent_entrypoint:L.fileViewerFeatureExperiments.replayPreviewsPermanentEntrypoint,campaigns_download_sisu:L.fileViewerFeatureExperiments.campaignsDownloadSisu,google_one_tap_variant:L.fileViewerFeatureExperiments.googleOneTapVariant,capture_sdk_integration_voice_overs:["V1","V2"].includes(L.fileViewerFeatureExperiments.captureSdkIntegrationVoiceOversVariant),capture_sdk_integration_voice_overs_variant:L.fileViewerFeatureExperiments.captureSdkIntegrationVoiceOversVariant,capture_sdk_integration_voice_overs_view_button:L.fileViewerFeatureExperiments.captureSdkIntegrationVoiceOversViewButton,publish_previews_permanent_entrypoint:L.fileViewerFeatureExperiments.publishPreviewsPermanentEntrypoint,publish_share_dropdown_entrypoint:L.fileViewerFeatureExperiments.publishShareDropdownEntrypoint,previews_exp_enable_vhs_buffer_based_abr:L.fileViewerFeatureExperiments.previewsExpEnableVhsBufferBasedAbr,previews_exp_video_buffer_length:Zt(L.fileViewerFeatureExperiments.previewsExpVideoBufferLength),previews_exp_video_buffer_more_before_play:L.fileViewerFeatureExperiments.previewsExpVideoBufferMoreBeforePlay,previews_exp_video_edit_flip:L.fileViewerFeatureExperiments.previewsExpVideoEditFlip,video_edit_async:L.fileViewerFeatureExperiments.fvsdkVideoEditAsync,previews_exp_multi_audio_track:L.fileViewerFeatureExperiments.previewsExpMultiAudioTrack,previews_exp_ui_redesign:L.fileViewerFeatureExperiments.previewsExpUiRedesign,previews_exp_video_edit_trim_optimization:L.fileViewerFeatureExperiments.previewsExpVideoEditTrimOptimization,previews_activation_hub:L.fileViewerFeatureExperiments.previewsActivationHub,previews_disable_campaigns_toolkit:L.fileViewerFeatureExperiments.previewsDisableCampaignsToolkit,shaq_code_yellow_no_banner:L.fileViewerFeatureExperiments.shaqCodeYellowNoBanner}),ti={[t.AuthMode.LOGIN]:w.Mode.LOGIN,[t.AuthMode.REGISTER]:w.Mode.REGISTER},ii={[t.LoginOrRegisterKind.COMMENT]:w.LoginOrRegisterKind.COMMENT,[t.LoginOrRegisterKind.DOWNLOAD]:w.LoginOrRegisterKind.DOWNLOAD,[t.LoginOrRegisterKind.IMMEDIATE]:w.LoginOrRegisterKind.IMMEDIATE,[t.LoginOrRegisterKind.POSTDOWNLOAD]:w.LoginOrRegisterKind.POSTDOWNLOAD,[t.LoginOrRegisterKind.POSTSAVEAS]:w.LoginOrRegisterKind.POSTSAVEAS,[t.LoginOrRegisterKind.SIDEBAR]:w.LoginOrRegisterKind.SIDEBAR},ai={[t.CommentTextVariant.DEFAULT]:w.CommentTextVariant.DEFAULT,[t.CommentTextVariant.POST]:w.CommentTextVariant.POST,[t.CommentTextVariant.SUBSCRIBE]:w.CommentTextVariant.SUBSCRIBE};function ni({mode:t,kind:a,sharedLinkUrl:n,encryptionOptions:r,commentParams:o,loggingExtra:l,signupTag:c,implicitTOSVariant:d}){return s.__awaiter(this,void 0,void 0,(function*(){const[{Modal:s},{LoginOrRegisterModal:u}]=yield Promise.all([new Promise((function(t,i){e(["./e_ui_page_files_router"],t,i)})).then((function(e){return e.modal_esnext})),new Promise((function(t,i){e(["./c_auth_login_or_register_modal"],t,i)}))]),p=k.getRedesign2023Variant(ei());s.showInstance(i.React$1.createElement(u,{downloadAction:null,id:"shared-link-immediate-signup-modal",initialMode:ti[t],kind:ii[a],onCancel:()=>{},onAuthenticateSuccess:()=>window.location.reload(),commentParams:o?{stream:o.stream,variant:ai[o.variant]}:void 0,signup_tag:c||"shmodel_modal_register",showGoogleRegistration:!0,googleRegisterProps:n?{signupContinuationUrl:n}:void 0,encryptionOptions:r,loggingExtra:Object.assign({web_redesign:p},l),shouldUseImplicitTOSUXVariants:!0,implicitTOSVariant:d||"V1"}))}))}function ri(e,t){return s.__awaiter(this,void 0,void 0,(function*(){const i={link_key:e.linkKey,link_type:e.linkType,secure_hash:e.secureHash,subpath:e.subPath,rlkey:e.rlkey};e.itemId&&(i.item_id=e.itemId);return function(e){const t="done:";return 0===e.indexOf(t)&&(e=e.slice(t.length)),e}(yield new Promise(((e,n)=>a.WebProgressRequest({url:"/sm/c2d",data:i,subject_user:t,success:e,error:n}))))}))}const oi=({user:e,onConfirm:t,onCancel:n,fileName:r})=>{const[o,s]=i.React$1.useState(!0),l=()=>{null==n||n(),s(!1)};return i.React$1.createElement(a.Modal,{open:o,onRequestClose:l},i.React$1.createElement(a.Modal.Header,{hasBottomSpacing:"title-standard",className:"naming-conventions__header"},i.React$1.createElement("div",{style:{textAlign:"right"}},i.React$1.createElement(a.IconButton,{onClick:l,variant:"transparent"},i.React$1.createElement(a.UIIcon,{src:a.CloseLine}))," "),i.React$1.createElement(a.Title,null,(c=r,e&&e.is_cdm_member?d.intl.formatMessage({id:"bxu2bk",defaultMessage:"Save a copy of ‘{name}’ to your member folder?"},{name:a.Emstring.em_snippet(c,15)}):d.intl.formatMessage({id:"aAhGow",defaultMessage:"Save a copy of ‘{name}’?"},{name:a.Emstring.em_snippet(c,15)})))),i.React$1.createElement(a.Modal.Body,null,i.React$1.createElement("div",null,i.React$1.createElement("div",{style:{width:"60%",margin:"0 auto"}},i.React$1.createElement(V.FileFoldersSpot,null)),i.React$1.createElement(a.Text,null,(t=>{const n=a.Viewer.get_viewer();return e&&e.is_cdm_member?d.intl.formatMessage({id:"bxn/4H",defaultMessage:"This will save a copy of the original file to the <strong>{cdm_tmf_name}</strong> folder in your {team_name} Dropbox account."},{cdm_tmf_name:a.filename(e.cdm_tmf_path),team_name:n.team_name,strong:e=>i.React$1.createElement("strong",null,e)}):d.intl.formatMessage({id:"Qm4Vrc",defaultMessage:"This will save a copy of the original file to your Dropbox account. Changes made to the original file or copy will not be saved to the other."})})()))),i.React$1.createElement(a.Modal.Footer,null,i.React$1.createElement(a.Button,{variant:"opacity",onClick:l},d.intl.formatMessage({id:"Li86mZ",defaultMessage:"Cancel"})),i.React$1.createElement(a.Button,{variant:"primary",onClick:()=>{t(),s(!1)}},d.intl.formatMessage({id:"78AHo5",defaultMessage:"Save"}))));var c};const si=({defaultName:e,invalidNameError:t,isFolder:n,setInvalidNameError:r,setNewContentName:o,disabled:s})=>{let l=e,c="";if(!n){const t=e.lastIndexOf(".");-1!==t&&(l=e.slice(0,t),c=e.slice(t))}return i.React$1.createElement(A.FormRow,null,i.React$1.createElement(A.FormLabel,{htmlFor:"renamer"},d.intl.formatMessage({id:"SNa+Hz",defaultMessage:"Name"})),i.React$1.createElement(a.TextInput,{id:"renamer",defaultValue:l,isInvalid:!!t,onChange:e=>{const t=e.target.value;o(t+c),r(null)},disabled:s,"data-testid":"copy-to-dropbox-modal-renamer"}),t&&i.React$1.createElement(A.FormHelperText,{variant:"alert"},i.React$1.createElement(a.UIIcon,{src:a.WarningLine,size:"small","data-testid":"copy-to-dropbox-modal-renamer-error-label-icon"}),"invalid characters"===t?d.intl.formatMessage({id:"AY2fk5",defaultMessage:"Names can’t contain emoji or these characters: \\ /"}):d.intl.formatMessage({id:"nDDqn3",defaultMessage:"Names can’t contain more than 255 characters"})))};si.displayName="CopyToDropboxRenamer";const li=({id:e,onFolderSelected:t,user:a,isPaired:n,treeRootName:r,folderToHide:o,disabled:s,handleError:l})=>{const c=a.is_team?x.RootIcon.TEAM:x.RootIcon.DROPBOX,d={onFolderSelected:t,mkAjaxRequest:(e,t)=>x.browseGetFolder(a.id,e,t),user:a,is_paired:n,treeRootName:r,rootIcon:c,isRootSelectable:"edit"===a.user_root_permissions,useDIGExpandButton:!0,disabled:s,handleError:l};return i.React$1.createElement("div",{className:"copy_to_dropbox_folder_tree",id:e},a.is_cdm_member?i.React$1.createElement(x.PinnedFolderTreeView,Object.assign({},d,{pinnedFolder:a.cdm_tmf_path,defaultSelectedPath:a.cdm_tmf_path,folderToHide:o})):i.React$1.createElement(x.FolderTreeView,Object.assign({},d,{defaultSelectedPath:"/"})))};li.displayName="CopyToDropboxFolderTreeView";const ci=({user:e,setNewParentFolderPath:t,defaultPath:n,disabled:r,handleError:o})=>{const s=a.Viewer.get_role_title(e),l=i.React$1.useCallback(((e,i)=>{t("/"===e?"":e)}),[]);return i.React$1.createElement(A.FormRow,null,i.React$1.createElement(A.FormLabel,{htmlFor:"folderPicker"},d.intl.formatMessage({id:"dfiZwr",defaultMessage:"Location"})),i.React$1.createElement(li,{id:"folderPicker",user:e,onFolderSelected:l,isPaired:a.Viewer.get_viewer().is_paired,treeRootName:s||d.intl.formatMessage({id:"rLmkyk",defaultMessage:"Dropbox"}),folderToHide:n,disabled:r,handleError:o}))};var di;function ui(e){return"ns_id"in e}function pi(e){return ui(e)?e.filename:e.name}ci.displayName="CopyToDropboxLocationPicker",function(e){e[e.Collection=0]="Collection",e[e.File=1]="File",e[e.Folder=2]="Folder"}(di||(di={}));const _i=(e,t,i,n,r,o,s)=>{const l=n.linkType===a.SharedLinkType.Content?a.ShareTibEventLogger.get_scl_extra_for_logging(n,o):a.ShareTibEventLogger.get_shmodel_extra_for_logging(n,o);let c;c="is_dir"in t?Object.assign(Object.assign(Object.assign({},mi(t)),l),s):l,e?a.ShareTibEventLogger.log(e.id,i,null!=r?r:a.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,c):a.ShareTibEventLogger.log_unauth(i,null!=r?r:a.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,c)};function mi(e){if(e)return"collection_id"in e?function(e){const t={};return t.ns_id=e.ns_id.toString(),t.collection_id=e.collection_id.toString(),t}(e):e.is_dir?function(e){const t={};return e.shared_folder_id?t.ns_id=e.shared_folder_id.toString():e.ns_id?t.ns_id=e.ns_id.toString():e.folder_id&&(t.content_id=e.folder_id.toString()),t}(e):function(e){const t={};return e.file_id&&(t.file_id=e.file_id.toString()),t}(e)}const fi=({name:e,isFolder:t,handleDismiss:n})=>i.React$1.createElement(a.Banner,{type:"success",withLeftIcon:!0},i.React$1.createElement(a.Banner.Message,null,i.React$1.createElement(a.Text,null,d.intl.formatMessage({id:"a+J9Q1",defaultMessage:"Saved <strong>{name}</strong> to your Dropbox account.{line_break}"},{name:e,line_break:i.React$1.createElement("br",null),strong:e=>i.React$1.createElement("strong",null,e)}))),i.React$1.createElement(a.Banner.Actions,null,i.React$1.createElement(a.Button,{variant:"transparent",onClick:n},t?d.intl.formatMessage({id:"AQVYPL",defaultMessage:"Go to folder"}):d.intl.formatMessage({id:"TZmJHy",defaultMessage:"Go to file"}))));fi.displayName="CopyToDropboxSuccessBanner";const gi=({shareToken:e,copyable:t,user:n,onAccept:r})=>{const o=d.intl.formatMessage({id:"X9t5jQ",defaultMessage:"There was a problem completing this request."}),l=t.is_dir,c=pi(t),[u,p]=i.React$1.useState(""),[_,m]=i.React$1.useState(),[f,g]=i.React$1.useState(!0),[v,h]=i.React$1.useState(c),[S,E]=i.React$1.useState(""),[w,b]=i.React$1.useState(null),[y,I]=i.React$1.useState(!0),[T,R]=i.React$1.useState(!1),[A,x]=i.React$1.useState(!1);i.React$1.useEffect((()=>{a.WebMiscActivityLogger.log("show-c2d-modal");s.__awaiter(void 0,void 0,void 0,(function*(){let i;try{i=yield ri(e,n.id)}catch(e){return g(!1),void C.sharingNotificationError(o)}const a=P.URI.parse(i),r=a.getPath().split("/").slice(2).join("/");m(a);const s=r?`${r}/${t.filename}`:`${t.filename}`;p(l?`/${r}`:`/${s}`);const c=(l?r:s).split("/").slice(0,-1).join("/");E("/"!==c&&c?`/${c}`:""),I(!1)}))}),[e,n.id,o,t,l]);const O=i.React$1.useCallback((()=>{a.redirect(_.updateQuery(a.BrowseQueryArg.show_save_to_dropbox_completion_snackbar,"true").toString()),g(!1)}),[_]);i.React$1.useEffect((()=>{!y&&T&&O()}),[y,T,O]);const N=A||T,D=i.React$1.useCallback((()=>s.__awaiter(void 0,void 0,void 0,(function*(){null==r||r(),x(!0);const i=d.intl.formatMessage({id:"GUojRd",defaultMessage:"Saving changes…"}),c=r=>s.__awaiter(void 0,void 0,void 0,(function*(){C.sharingNotificationInProgress(i,!1);const s=yield a.moveAndRenameContent({fq_path:u,is_dir:l},S,v,n.id,{allowOwnershipTransfer:!1,checkFSWs:!1});if(x(!1),a.Snackbar.close("sharing-notification"),"result"in s){const i=s.result.entries[0];if("success"in i){const r=i.success.path_display,o=a.browse_uri_for_fq_path(n,r);if(!l){const e=i.success.name,t=o.getPath().split("/").slice(0,-1).join("/");o.setPath(t),o.updateQuery(a.BrowseQueryArg.select,e)}g(!1);const s={did_name_change:v!==u.substring(1),did_location_change:!!S};_i(n,t,M.TiburonEventName.RenameRelocateContent,e,a.SHARE_ACTION_ORIGIN_TYPE.SAVE_TO_DROPBOX,a.get_href(),s),a.redirect(o.updateQuery(a.BrowseQueryArg.show_save_to_dropbox_completion_snackbar,"true").toString())}else if("failure"in i){const e=i.failure;"too_many_write_operations"in e&&r?c(!1):"relocation_error"in e&&"to"in e.relocation_error&&"malformed_path"===e.relocation_error.to[".tag"]?v.length>255?b("too many characters"):b("invalid characters"):C.sharingNotificationError(o)}}else C.sharingNotificationError(o)}));c(!0)}))),[u,v,S,r,n,t,l,e,o]);return i.React$1.createElement(a.Modal,{open:f,className:"copy-to-dropbox-modal"},y&&i.React$1.createElement(a.Modal.Body,{style:{height:514}},i.React$1.createElement(a.Spinner,{"aria-valuetext":"Loading standard",size:"standard",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}})),i.React$1.createElement("div",{style:{display:y?"none":"block"}},i.React$1.createElement(a.Modal.Header,{hasBottomSpacing:"title-standard"},!w&&!y&&i.React$1.createElement(fi,{name:c,isFolder:l,handleDismiss:()=>{_i(n,t,M.TiburonEventName.GoToContent,e,a.SHARE_ACTION_ORIGIN_TYPE.SAVE_TO_DROPBOX,a.get_href()),y?R(!0):O()}}),i.React$1.createElement(a.Modal.Title,null,l?d.intl.formatMessage({id:"5s8UBs",defaultMessage:"Change folder name and location?"}):d.intl.formatMessage({id:"K9o8Jn",defaultMessage:"Change filename and location?"}))),i.React$1.createElement(a.Modal.Body,null,w&&i.React$1.createElement(a.Banner,{type:"alert",withLeftIcon:i.React$1.createElement(a.UIIcon,{src:a.WarningLine,"data-testid":"copy-to-dropbox-modal-error-banner-icon"})},i.React$1.createElement(a.Banner.Message,null,d.intl.formatMessage({id:"S4sjpG",defaultMessage:"Couldn’t save changes. Try a different name."}))),i.React$1.createElement(si,{defaultName:c,invalidNameError:w,isFolder:l,setInvalidNameError:b,setNewContentName:h,disabled:N}),i.React$1.createElement(ci,{user:n,setNewParentFolderPath:E,defaultPath:u,disabled:N,handleError:()=>{C.sharingNotificationError(o)}})),i.React$1.createElement(a.Modal.Footer,null,i.React$1.createElement(a.Button,{variant:"primary",onClick:D,disabled:(()=>{const e=`${S}/${v}`;return N||y||!!w||!v||u===e})()},A?d.intl.formatMessage({id:"hxyy+5",defaultMessage:"Saving changes…"}):d.intl.formatMessage({id:"bGzsWQ",defaultMessage:"Save changes"})))))};gi.displayName="CopyToDropboxRenamingLocationModal";const vi=({shareToken:e,user:t,file:n},{onSuccess:o,onError:l,onNetworkRequest:c,onModalClose:d},u)=>{if(r.isSharedFile(n)&&!u)p={shareToken:e,copyable:n,user:t},a.Modal$1.showInstance(i.React$1.createElement(gi,Object.assign({},p)));else{!function(e){a.Modal$1.showInstance(i.React$1.createElement(oi,Object.assign({},e)))}({user:t,onConfirm:()=>s.__awaiter(void 0,void 0,void 0,(function*(){try{null==c||c();const i=yield ri(e,t.id);null==o||o(),a.redirect(i)}catch(e){null==l||l(e)}})),onCancel:()=>{null==d||d()},fileName:r.getFilename(n)})}var p},hi=()=>!0,Si=e=>e?{user:e}:void 0,Ei={shouldShowForPreviewSurface:hi,shouldShowForPreviewType:hi,filterValidUser:Si,filterValidFile:e=>(e=>r.isBrowseFile(e)&&!c.isPnmLinkNodeSelected(e)&&c.isLiveFile(e))(e)?e:void 0},wi=Object.assign(Object.assign({},Ei),{filterValidFile:e=>{const t=Ei.filterValidFile(e);return!t||c.isInsideVaultFolder(t)||c.isPnmSuppressMoveSelected(t)?void 0:t}}),bi=Object.assign(Object.assign({},Ei),{filterValidFile:e=>{const t=Ei.filterValidFile(e);return!t||c.isInsideVaultFolder(t)||c.isPnmSuppressMoveSelected(t)?void 0:t}}),yi=Ei;const Ii=Ei;const Ti="HELP_CENTER_PRODUCTIVITY_ENGAGEMENTS",Ri=e=>e.split(";").filter(Boolean),Pi=()=>s.__awaiter(void 0,void 0,void 0,(function*(){try{const e=a.getActiveUserId();if(!e)return[];const t=yield a.getUserMetadata([Ti],e);return Ri(t[Ti]||"")}catch(e){S.reportException({err:e||new Error("Failed to fetch activation hub engagements for user"),severity:E.SEVERITY.NONCRITICAL})}return[]})),Ai=e=>s.__awaiter(void 0,void 0,void 0,(function*(){try{const t=a.getActiveUserId();if(!t)return[];const i=(e=>[...new Set(e.filter(Boolean))].join(";"))(e),n=yield a.setUserMetadata({[Ti]:i},t);return Ri(n[Ti]||"")}catch(e){S.reportException({err:e||new Error("Failed to set activation hub engagements for user"),severity:E.SEVERITY.NONCRITICAL})}return[]})),xi=(e,t)=>t&&e?e:"OFF",Ci=e=>{const{experimentVariant:i,expectedVariant:a,file:n,previewSurface:o}=e;if(!n||!o)return!1;const s=r.getExtension(n),l=o===t.SDKPreviewSurface.SHARED_CONTENT_LINK||o===t.SDKPreviewSurface.SHARED_LINK||o===t.SDKPreviewSurface.INBAND_SHARE,c=!!(wi.filterValidFile(n)&&bi.filterValidFile(n)&&Ii.filterValidFile(n)&&yi.filterValidFile(n));return i===a&&u.activationHubM1FileTypes.includes(s)&&c&&!l};function Mi(e){return{class:"activation",action:"shown",object:"core_attach_activation_hub_m1_generic_entry_point",properties:e}}function Oi(e){return{class:"activation",action:"shown",object:"core_attach_activation_hub_m1_workflows_entry_point",properties:e}}function Ni(e){return{class:"activation",action:"shown",object:"core_attach_activation_hub_m1_rename_entry_point",properties:e}}function Di(e){return{class:"activation",action:"shown",object:"core_attach_activation_hub_m1_search_entry_point",properties:e}}function ki(e){return{class:"activation",action:"click",object:"core_attach_activation_hub_m1_generic_entry_point",properties:e}}function Fi(e){return{class:"activation",action:"click",object:"core_attach_activation_hub_m1_workflows_entry_point",properties:e}}function Li(e){return{class:"activation",action:"click",object:"core_attach_activation_hub_m1_rename_entry_point",properties:e}}function Ui(e){return{class:"activation",action:"click",object:"core_attach_activation_hub_m1_search_entry_point",properties:e}}function Vi(e){return{class:"activation",action:"dismiss",object:"core_attach_activation_hub_m1_generic_entry_point",properties:e}}function Bi(e){return{class:"activation",action:"dismiss",object:"core_attach_activation_hub_m1_workflows_entry_point",properties:e}}function $i(e){return{class:"activation",action:"dismiss",object:"core_attach_activation_hub_m1_rename_entry_point",properties:e}}function ji(e){return{class:"activation",action:"dismiss",object:"core_attach_activation_hub_m1_search_entry_point",properties:e}}function zi(e){return{class:"activation",action:"shown",object:"core_attach_activation_hub_m1_workflows_tour",properties:e}}function Hi(e){return{class:"activation",action:"shown",object:"core_attach_activation_hub_m1_rename_tour",properties:e}}function Ki(e){return{class:"activation",action:"shown",object:"core_attach_activation_hub_m1_search_tour",properties:e}}function Wi(e){return{class:"activation",action:"click",object:"core_attach_activation_hub_m1_workflows_tour",properties:e}}function Gi(e){return{class:"activation",action:"click",object:"core_attach_activation_hub_m1_rename_tour",properties:e}}function qi(e){return{class:"activation",action:"click",object:"core_attach_activation_hub_m1_search_tour",properties:e}}function Yi(e){return{class:"activation",action:"dismiss",object:"core_attach_activation_hub_m1_rename_tour",properties:e}}function Ji(e){return{class:"activation",action:"dismiss",object:"core_attach_activation_hub_m1_search_tour",properties:e}}function Qi(e){return{class:"activation",action:"shown",object:"core_attach_activation_hub_m1_main_drawer",properties:e}}function Xi(e){return{class:"activation",action:"shown",object:"core_attach_activation_hub_m1_copy_drawer",properties:e}}function Zi(e){return{class:"activation",action:"shown",object:"core_attach_activation_hub_m1_comments_drawer",properties:e}}function ea(e){return{class:"activation",action:"shown",object:"core_attach_activation_hub_m1_rename_drawer",properties:e}}function ta(e){return{class:"activation",action:"shown",object:"core_attach_activation_hub_m1_search_drawer",properties:e}}function ia(e){return{class:"activation",action:"shown",object:"core_attach_activation_hub_m1_transfer_drawer",properties:e}}function aa(e){return{class:"activation",action:"shown",object:"core_attach_activation_hub_m1_workflows_drawer",properties:e}}const na=e=>e===u.HubEntryPointType.Generic?Mi:e===u.HubEntryPointType.Download?Oi:e===u.HubEntryPointType.Rename?Ni:e===u.HubEntryPointType.Search?Di:null,ra=e=>e===u.HubEntryPointType.Generic?ki:e===u.HubEntryPointType.Download?Fi:e===u.HubEntryPointType.Rename?Li:e===u.HubEntryPointType.Search?Ui:null,oa=e=>e===u.HubEntryPointType.Generic?Vi:e===u.HubEntryPointType.Download?Bi:e===u.HubEntryPointType.Rename?$i:e===u.HubEntryPointType.Search?ji:null,sa=(e,t)=>{e&&a.logEvent(e(t))},la=a.defineMessages({learnMore:{id:"q0N61R",defaultMessage:"Learn More"},close:{id:"EFB1i3",defaultMessage:"Close"},failText:{id:"aJaUN6",defaultMessage:"Try again or learn some tips and tricks."},successText:{id:"/rOwGT",defaultMessage:"Interested in a shortcut for next time?"}}),ca=()=>s.__awaiter(void 0,void 0,void 0,(function*(){const e=yield Pi();Ai([...e,u.HubEntryPointType.Rename])})),da=(e,t)=>{a.Snackbar.close(e),u.selectDrawer(u.DrawerTypes.Rename,u.ActivationHubTriggerSource.RenameEntryPoint),ca(),sa(ra(u.HubEntryPointType.Rename),{experimentVariant:"V1",fileType:t})},ua=(e,t)=>({actionButtonText:d.intl.formatMessage(la.learnMore),onActionClick:()=>da(e,t),closeButtonText:d.intl.formatMessage(la.close),onCloseClick:()=>((e,t)=>{a.Snackbar.close(e),ca(),sa(oa(u.HubEntryPointType.Rename),{experimentVariant:"V1",fileType:t})})(e,t)}),pa=(e,t)=>(sa(na(u.HubEntryPointType.Rename),{experimentVariant:"V1",fileType:t}),a.Snackbar.complete(i.React$1.createElement(i.React$1.Fragment,null,i.React$1.createElement("div",null,d.intl.formatMessage(_.renameSnackbarSuccessMessage)),i.React$1.createElement("div",null,d.intl.formatMessage(la.successText))),e,ua(e,t)));function _a(e,t,n,o,_){return{rename:({newFilename:l,isRenameFromOverflowMenu:m,onRenameSuccess:f,onRenameFailed:g})=>s.__awaiter(this,void 0,void 0,(function*(){const{file:s}=t();if(!r.isBrowseFile(s))return;const v=!l.includes("/");let h;v&&(c.renameSnackBarInProgress(c.PREVIEWS_SNACKBAR_ID),h=yield a.renameFile(s.fq_path,l,e.id,{checkFSWs:!0}));const S=r.getExtension(s),E=(e=>{const{experimentVariant:t,expectedVariant:i,file:a,previewSurface:n,isRenameFromOverflowMenu:r,userEngagements:o}=e;return r&&!o.includes(u.HubEntryPointType.Rename)&&Ci({experimentVariant:t,expectedVariant:i,file:a,previewSurface:n})})({experimentVariant:null!=_?_:"OFF",expectedVariant:"V1",file:s,previewSurface:n,isRenameFromOverflowMenu:m,userEngagements:yield Pi()});if(!h||h.isError||"success"!==h.result.entries[0][".tag"])return g(),E?void((e,t,n,r)=>{sa(na(u.HubEntryPointType.Rename),{experimentVariant:"V1",fileType:r}),a.Snackbar.show(i.React$1.createElement(a.Snackbar,Object.assign({timeoutDelayMs:5e3,title:i.React$1.createElement(i.React$1.Fragment,null,i.React$1.createElement("div",null,p.renameError(e.error)),i.React$1.createElement("div",null,d.intl.formatMessage(la.failText))),variant:"fail",id:n},ua(n,r))))})(v?(null==h?void 0:h.isError)?h:a.createUndefinedRpcResult():Object.assign(Object.assign({},a.createUndefinedRpcResult()),{error:{".tag":"to",to:{".tag":"malformed_path",malformed_path:{}}}}),s.fq_path,c.PREVIEWS_SNACKBAR_ID,S):void c.renameFailedSnackBar(v?(null==h?void 0:h.isError)?h:a.createUndefinedRpcResult():Object.assign(Object.assign({},a.createUndefinedRpcResult()),{error:{".tag":"to",to:{".tag":"malformed_path",malformed_path:{}}}}),s.fq_path,c.PREVIEWS_SNACKBAR_ID);const w=h.result.entries[0].success;o&&w&&"file"===w[".tag"]&&o(s,{fq_path:w.path_display||s.fq_path,revision_id:w.rev,file_id:w.id}),f(),E?pa(c.PREVIEWS_SNACKBAR_ID,S):c.renameCompleteSnackBar(c.PREVIEWS_SNACKBAR_ID)})),delete:({onDelete:i,onDeleteSuccess:n,onDeleteFailed:s,onDeleteFailedNoPermission:u,onDeleteCancel:p,setDeleteFileModalOpen:_})=>{const{file:m}=t();if(!r.isBrowseFile(m)||c.isPnmLinkNodeSelected(m)||!c.isLiveFile(m))return;if(i(),m.read_only)return a.Snackbar.warn(d.intl.formatMessage({id:"szm+5q",defaultMessage:"You don't have permission to make changes to this file"}),c.PREVIEWS_SNACKBAR_ID),void u();const f={file_id:m.file_id,is_dir:m.is_dir};l.portableDelete({user:e,filesPath:[f],fq_path:m.fq_path},{onNetworkRequest:()=>l.deleteSnackBarInProgress(c.PREVIEWS_SNACKBAR_ID),onSuccess:()=>{l.deleteCompleteSnackBar(c.PREVIEWS_SNACKBAR_ID),o&&o(m),n()},onError:e=>{l.deleteFailedSnackBar(e,c.PREVIEWS_SNACKBAR_ID),s()},onRequestClose:()=>{p()},setDeleteFileModalOpen:_})}}}var ma;function fa(e){return+!!e}function ga(e){return JSON.stringify(Object.assign(Object.assign({},e),{has_cached_data:fa(e.has_cached_data),folder_preview_timeline:JSON.stringify(e.folder_preview_timeline),subfolder_nav_tracking:fa(e.subfolder_nav_tracking),web_timing_data:JSON.stringify(e.web_timing_data)}))}function va(e){const t=Object.assign({},e.extra),i=window.performance.timing;return(null==i?void 0:i.fetchStart)&&(t.time_to_first_byte=i.responseStart-i.fetchStart,t.web_timing_data=i),t.is_edison=String(!!window.RUNNING_IN_EDISON),{device_type:e.deviceType,folder_preview_session_id:e.id,folder_ns_id:e.ns_id||0,web_request_id:e.web_request_id,extra:ga(t)}}function ha(e,t){const{extra:{folder_preview_timeline:i}}=t,n=a.WebTimingUtil.getNow();if(!i.preview_session_ended_ts){switch(e){case ma.attempted:if(i.preview_attempted_ts)return;i.preview_attempted_ts=n;break;case ma.ended:if(i.preview_session_ended_ts)return;i.preview_session_ended_ts=n;break;case ma.renderSucceeded:if(i.render_succeeded_ts)return;i.render_succeeded_ts=n;break;case ma.renderFailed:if(i.render_failed_ts)return;i.render_failed_ts=n}return function(e,t){return a.SilentBackgroundBeaconRequest({url:"/log/folder_preview",data:Object.assign(Object.assign({},va(t)),{event_name:e})})}(e,t)}}!function(e){e.attempted="preview_attempted",e.renderSucceeded="render_succeeded",e.renderFailed="render_failed",e.ended="preview_session_ended",e.appDownloadInterstitialClose="app_download_interstitial_close",e.appDownloadInterstitialContinue="app_download_interstitial_continue",e.appDownloadInterstitialInstall="app_download_interstitial_install",e.appDownloadInterstitialView="app_download_interstitial_view",e.breadcrumbClicked="breadcrumb_clicked"}(ma||(ma={}));const Sa=15;class Ea extends i.React$1.Component{constructor(e){super(e),this.handleAccept=()=>{var e,t;null===(t=(e=this.props).onAccept)||void 0===t||t.call(e);const i=function(e){const t=a.Viewer.get_viewer();if(t.is_paired)switch(e){case"personal":return d.intl.formatMessage({id:"t88rzz",defaultMessage:"Saving to your personal Dropbox..."});case"work":return d.intl.formatMessage({id:"85Xqre",defaultMessage:"Saving to your {team_name} Dropbox..."},{team_name:t.team_name})}return d.intl.formatMessage({id:"GzycA2",defaultMessage:"Copying to your Dropbox account..."})}(this.props.role);y.Notify.success(i),function(e,t,i=!0,n=!1){return s.__awaiter(this,void 0,void 0,(function*(){const r=yield ri(e,t);n?a.open_tab(r,!0):i?a.redirect(r):y.Notify.success(d.intl.formatMessage({id:"YUtmJ+",defaultMessage:"Copy completed."}))}))}(this.props.shareToken,this.props.userId,this.props.redirect,this.props.isSingleFileAction).then((()=>{this.props.shouldReload&&a.reload()})).catch((()=>{this.props.shouldReload&&a.reload()})),this.props.folderPreviewSession&&ha(a.UserAction.SaveToDropboxApprove,this.props.folderPreviewSession),this.setState({open:!1})},this.handleDismiss=()=>{var e,t;null===(t=(e=this.props).onDismiss)||void 0===t||t.call(e),this.props.folderPreviewSession&&ha(a.UserAction.SaveToDropboxCancel,this.props.folderPreviewSession),this.setState({open:!1})},this.state={open:!0}}componentDidMount(){a.WebMiscActivityLogger.log("show-c2d-modal")}render(){const{copyable:e,role:t}=this.props,n=pi(e),r=function(e){return ui(e)?e.is_dir?di.Folder:di.File:di.Collection}(e);return i.React$1.createElement(a.Modal,{open:this.state.open,className:"copy-to-dropbox-modal"},i.React$1.createElement(a.Modal.Header,{hasBottomSpacing:"title-standard"},i.React$1.createElement(a.Modal.Title,{className:"copy-to-dropbox-modal-title"},function(e,t){const i=a.Viewer.get_viewer(),n=i.get_user_by_role(t);if(n&&n.is_cdm_member)return d.intl.formatMessage({id:"zjOueW",defaultMessage:"Save to your member folder?"});if(i.is_paired)switch(t){case"personal":return d.intl.formatMessage({id:"00nqoS",defaultMessage:"Save to your personal Dropbox account?"});case"work":{const t=i.team_name,n=new a.Emstring(t||"").length,r=Math.max(10,15-n);return d.intl.formatMessage({id:"r4Ywvk",defaultMessage:"Save ‘{name}’ to my {team_name} Dropbox"},{name:a.Emstring.em_snippet(e,r),team_name:t})}}return d.intl.formatMessage({id:"zQuTVM",defaultMessage:"Save ‘{name}’ to my Dropbox"},{name:a.Emstring.em_snippet(e,15)})}(n,t))),i.React$1.createElement(a.Modal.Body,{className:"copy-to-dropbox-modal-body"},function(e,t,n){const r=a.Viewer.get_viewer(),o=r.get_user_by_role(t);if(e=a.Emstring.em_snippet(e,Sa),o&&o.is_cdm_member)return d.intl.formatMessage({id:"gkPIfL",defaultMessage:"<strong>{name}</strong> will be saved to the <strong>{cdm_tmf_name}</strong> folder in your {team_name} Dropbox account."},{name:e,cdm_tmf_name:a.filename(o.cdm_tmf_path),team_name:r.team_name,strong:e=>i.React$1.createElement("strong",null,e)});if(r.is_paired)switch(t){case"personal":return d.intl.formatMessage({id:"3jWVWV",defaultMessage:"<strong>{name}</strong> will be saved to your personal Dropbox account and synced to any connected devices."},{name:e,strong:e=>i.React$1.createElement("strong",null,e)});case"work":switch(n){case di.Collection:return d.intl.formatMessage({id:"ECKq7R",defaultMessage:"Files will be instantly saved to your {team_name} Dropbox and downloaded to all the computers linked to your {team_name} account."},{team_name:r.team_name});case di.Folder:return d.intl.formatMessage({id:"NvybH5",defaultMessage:"This folder will be instantly saved to your {team_name} Dropbox and downloaded to all the computers linked to your {team_name} account."},{team_name:r.team_name});default:return d.intl.formatMessage({id:"EFSpqC",defaultMessage:"This file will be instantly saved to your {team_name} Dropbox and downloaded to all the computers linked to your {team_name} account."},{team_name:r.team_name})}}switch(n){case di.Collection:return d.intl.formatMessage({id:"cP3HHk",defaultMessage:"Files will be instantly saved to your Dropbox and downloaded to all the computers linked to your account."});case di.Folder:return d.intl.formatMessage({id:"dt8MMJ",defaultMessage:"This folder will be instantly saved to your Dropbox and downloaded to all the computers linked to your account."});default:return d.intl.formatMessage({id:"V1hruZ",defaultMessage:"This file will be instantly saved to your Dropbox and downloaded to all the computers linked to your account."})}}(n,t,r)),i.React$1.createElement(a.Modal.Footer,null,i.React$1.createElement(a.Button,{variant:"opacity",onClick:this.handleDismiss},d.intl.formatMessage({id:"Ud6Avu",defaultMessage:"Cancel"})),i.React$1.createElement(a.Button,{className:"copy-to-dropbox-modal-primary-button",variant:"primary",onClick:this.handleAccept},d.intl.formatMessage({id:"9aiQNT",defaultMessage:"Save"}))))}}Ea.displayName="CopyToDropboxModal";const wa=d.intl.formatMessage({id:"X9t5jQ",defaultMessage:"There was a problem completing this request."}),ba=({shareToken:e,copyable:t,user:n,onAccept:r,isSingleFileAction:o,origin:l})=>{const c=t.is_dir,u=pi(t),[p,_]=i.React$1.useState(""),[m,f]=i.React$1.useState(),[g,v]=i.React$1.useState(!0),[h,S]=i.React$1.useState(u),[E,w]=i.React$1.useState(""),[b,y]=i.React$1.useState(null),[I,T]=i.React$1.useState(!0),[R,A]=i.React$1.useState(!1),[x,O]=i.React$1.useState(!1);i.React$1.useEffect((()=>{a.WebMiscActivityLogger.log("show-c2d-modal");s.__awaiter(void 0,void 0,void 0,(function*(){let i;try{i=yield ri(e,n.id)}catch(e){return v(!1),void C.sharingNotificationError(wa)}const a=P.URI.parse(i),r=a.getPath().split("/").slice(2).join("/");f(a);const o=r?`${r}/${t.filename}`:`${t.filename}`;_(c?`/${r}`:`/${o}`);const s=(c?r:o).split("/").slice(0,-1).join("/");w("/"!==s&&s?`/${s}`:""),T(!1)}))}),[e,n.id,t,c]);const N=i.React$1.useCallback((()=>{(o?a.open_tab:a.redirect)(m.updateQuery(a.BrowseQueryArg.show_save_to_dropbox_completion_snackbar,"true").toString()),v(!1)}),[m,o]),D=i.React$1.useCallback((()=>{v(!1)}),[]);i.React$1.useEffect((()=>{!I&&R&&N()}),[I,R,N]);const k=x||R,F=i.React$1.useCallback((()=>s.__awaiter(void 0,void 0,void 0,(function*(){let i=null;o&&(i=a.open_tab(a.browse_uri_for_fq_path(n,"/").updateQuery(a.BrowseQueryArg.show_save_to_dropbox_loading_snackbar,"true").toString(),!0)),null==r||r(),O(!0);const u=d.intl.formatMessage({id:"GUojRd",defaultMessage:"Saving changes…"}),_=r=>s.__awaiter(void 0,void 0,void 0,(function*(){C.sharingNotificationInProgress(u,!1);const s=yield a.moveAndRenameContent({fq_path:p,is_dir:c},E,h,n.id,{allowOwnershipTransfer:!1,checkFSWs:!1});if(O(!1),a.Snackbar.close("sharing-notification"),"result"in s){const d=s.result.entries[0];if("success"in d){const r=d.success.path_display,s=a.browse_uri_for_fq_path(n,r);if(!c){const e=d.success.name,t=s.getPath().split("/").slice(0,-1).join("/");s.setPath(t),s.updateQuery(a.BrowseQueryArg.select,e)}const u={did_name_change:h!==p.substring(1),did_location_change:!!E};_i(n,t,M.TiburonEventName.RenameRelocateContent,e,null!=l?l:a.SHARE_ACTION_ORIGIN_TYPE.SAVE_TO_DROPBOX,a.get_href(),u);const _=s.updateQuery(a.BrowseQueryArg.show_save_to_dropbox_completion_snackbar,"true").toString();o?i.location.replace(_):a.redirect(_),v(!1)}else if("failure"in d){const e=d.failure;"too_many_write_operations"in e&&r?_(!1):"relocation_error"in e&&"to"in e.relocation_error&&"malformed_path"===e.relocation_error.to[".tag"]?h.length>255?y("too many characters"):y("invalid characters"):C.sharingNotificationError(wa)}}else C.sharingNotificationError(wa)}));_(!0)}))),[p,h,E,r,n,t,c,e,o,l]);return i.React$1.createElement(a.Modal,{open:g,className:"copy-to-dropbox-modal"},I&&i.React$1.createElement(a.Modal.Body,{style:{height:514}},i.React$1.createElement(a.Spinner,{"aria-valuetext":"Loading standard",size:"standard",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}})),i.React$1.createElement("div",{style:{display:I?"none":"block"}},i.React$1.createElement(a.Modal.Header,{hasBottomSpacing:"title-standard"},!b&&!I&&i.React$1.createElement(fi,{name:u,isFolder:c,handleDismiss:()=>{_i(n,t,M.TiburonEventName.GoToContent,e,null!=l?l:a.SHARE_ACTION_ORIGIN_TYPE.SAVE_TO_DROPBOX,a.get_href()),I?A(!0):N()}}),i.React$1.createElement(a.Modal.Title,null,c?d.intl.formatMessage({id:"5s8UBs",defaultMessage:"Change folder name and location?"}):d.intl.formatMessage({id:"K9o8Jn",defaultMessage:"Change filename and location?"}))),i.React$1.createElement(a.Modal.Body,null,b&&i.React$1.createElement(a.Banner,{type:"alert",withLeftIcon:i.React$1.createElement(a.UIIcon,{src:a.WarningLine,"data-testid":"copy-to-dropbox-modal-error-banner-icon"})},i.React$1.createElement(a.Banner.Message,null,d.intl.formatMessage({id:"S4sjpG",defaultMessage:"Couldn’t save changes. Try a different name."}))),i.React$1.createElement(si,{defaultName:u,invalidNameError:b,isFolder:c,setInvalidNameError:y,setNewContentName:S,disabled:k}),i.React$1.createElement(ci,{user:n,setNewParentFolderPath:w,defaultPath:p,disabled:k,handleError:()=>{C.sharingNotificationError(wa)}})),i.React$1.createElement(a.Modal.Footer,null,o&&i.React$1.createElement(a.Button,{variant:"opacity",onClick:D},d.intl.formatMessage({id:"a2rDhR",defaultMessage:"Close"})),i.React$1.createElement(a.Button,{variant:"primary",onClick:F,disabled:(()=>{const e=`${E}/${h}`;return k||I||!!b||!h||p===e})()},x?d.intl.formatMessage({id:"hxyy+5",defaultMessage:"Saving changes…"}):d.intl.formatMessage({id:"bGzsWQ",defaultMessage:"Save changes"})))))};ba.displayName="CopyToDropboxSaveAsModal";const ya={authenticateForDownload:(t,n)=>{const r="has_seen_download_signup_modal";return t!==w.LoginOrRegisterKind.DOWNLOAD||a.LocalStorage.get(r)?Promise.resolve():new Promise(((o,s)=>{const l=()=>{a.LocalStorage.set(r,!0),o()},c=()=>{a.LocalStorage.set(r,!0),s()};new Promise((function(t,i){e(["./c_auth_login_or_register_modal"],t,i)})).then((({LoginOrRegisterModal:e})=>{a.Modal$1.showInstance(i.React$1.createElement(e,{downloadAction:w.DownloadAction.DIRECT_DOWNLOAD,id:"shared-link-download-signup-modal",initialMode:w.Mode.REGISTER,kind:t,onAuthenticateSuccess:l,onCancel:c,signup_tag:"shmodel_download_register",encryptionOptions:n,loggingExtra:{source:"download_button"}}))}))}))},authenticateForSaveToDropbox:(t,n,r,o)=>{const s=t===a.SharedLinkType.Content?"shared_content_link_register":"shmodel_modal_register";return new Promise(((t,l)=>{const c=e=>t(e.id);new Promise((function(t,i){e(["./c_auth_login_or_register_modal"],t,i)})).then((({LoginOrRegisterModal:e})=>{a.Modal$1.showInstance(i.React$1.createElement(e,{downloadAction:w.DownloadAction.SAVE_TO_DROPBOX,id:"shared-link-immediate-signup-modal",initialMode:w.Mode.REGISTER,kind:w.LoginOrRegisterKind.DOWNLOAD,onAuthenticateSuccess:c,onCancel:l,signup_tag:s,encryptionOptions:n,additionalLoginData:r,additionalRegisterData:r,loggingExtra:{source:"save_to_dropbox"},implicitTOSVariant:o,shouldUseImplicitTOSUXVariants:!0}))}))}))}},Ia={text:void 0,title:void 0,handler:void 0,spriteName:void 0,isDisabled:void 0,userAction:void 0,role:void 0};class Ta extends(a.immutable.exports.Record(Ia)){static buildDirectOption(e,t,i,n,r,o,l){return r||S.reportException({err:new Error("No encryption options for building direct download option"),severity:"non-critical",tags:["sharing-encryption-options"]}),new Ta({text:d.intl.formatMessage({id:"n1Nx/q",defaultMessage:"Direct download"}),title:d.intl.formatMessage({id:"YCxg9M",defaultMessage:"Download"}),handler:()=>s.__awaiter(this,void 0,void 0,(function*(){_i(e,t,M.TiburonEventName.ClickDownload,o,null!=l?l:a.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,i.url),yield function(e,t,i,a,n){return s.__awaiter(this,void 0,void 0,(function*(){const{downloadTestUrl:r,url:o}=e;if(i||S.reportException({err:new Error("No encryption options provided for direct download action"),severity:"non-critical",tags:["sharing-encryption-options"]}),yield ya.authenticateForDownload(t||null,i),r)try{yield O.testDownload(r,a)}catch(e){return void(e instanceof O.TooLargeError?y.Notify.error(d.intl.formatMessage({id:"pcsTpL",defaultMessage:"The zip file is too large."})):y.Notify.error(d.intl.formatMessage({id:"pllUQE",defaultMessage:"Failed to download zip file."})))}try{const e=yield O.fetchDownloadUrl(o,a,n);b.get({url:e})}catch(e){y.Notify.error(d.intl.formatMessage({id:"6OUwIN",defaultMessage:"Failed to download."}))}}))}(i,n,r,o.rlkey,null!=l?l:a.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE)})),spriteName:"download_arrow",userAction:a.UserAction.Download})}static buildToDropboxOption(e,t,n,r,o,l=!1,c,u,p,_,m,f,g,v,h,E,w){c||S.reportException({err:new Error("No encryption options for building to dropbox option"),severity:"non-critical",tags:["sharing-encryption-options"]});const b=()=>{this.logEvent("SAVE_TO_DROPBOX_CONFIRM",r,e,t,h),f&&f()},y=()=>{this.logEvent("SAVE_TO_DROPBOX_CANCEL",r,e,t,h),g&&g()};let I=a.UserAction.SaveToDropbox;(null==n?void 0:n.is_paired)&&(I="personal"===o?a.UserAction.SaveToDropboxPersonal:a.UserAction.SaveToDropboxWork);const T=d.intl.formatMessage({id:"+ijDR3",defaultMessage:"Copy to Dropbox"});return new Ta({text:T,title:T,handler:()=>{this.logEvent("SAVE_TO_DROPBOX",r,e,t,h),function(e,t,n,r,o,l,c,d,u,p,_,m,f,g,v){s.__awaiter(this,void 0,void 0,(function*(){let s,h=!1;const E=a.get_href(),w=e.linkType===a.SharedLinkType.Content?a.ShareTibEventLogger.get_scl_extra_for_logging(e,E):a.ShareTibEventLogger.get_shmodel_extra_for_logging(e,E),b=Object.assign(Object.assign({},w),mi(p));if("anonymous"===n?(o||S.reportException({err:new Error("No encryption options provided for anonymous sharing action"),severity:"non-critical",tags:["sharing-encryption-options"]}),a.ShareTibEventLogger.log_unauth("VIEW_AUTH_PAGE",null!=f?f:a.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,b),s=yield ya.authenticateForSaveToDropbox(e.linkType,o,b,_),h=!0):(s=r?r.id:-1,P.assert(-1!==s,"role isn't anonymous => user cannot be null or undefined!")),r&&ui(t)){if(t.is_dir&&!N.EmailVerification.get_for_user(r).verified_or_show(D.EmailVerificationReasons.FOLDER_PREVIEW_SAVE_FOLDER))return void a.ShareTibEventLogger.log(r.id,"VIEW_VERIFY_EMAIL_MODAL",null!=f?f:a.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,b);if(!N.EmailVerification.get_for_user(r).verified_or_show(D.EmailVerificationReasons.FOLDER_PREVIEW_SAVE_FILE))return void a.ShareTibEventLogger.log(r.id,"VIEW_VERIFY_EMAIL_MODAL",null!=f?f:a.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,b)}const y=()=>{null==u||u(),h&&(v?v():a.reload())},I=()=>{null==d||d()};g?e.linkType===a.SharedLinkType.Shmodel&&r?a.Modal$1.showInstance(i.React$1.createElement(ba,{shareToken:e,copyable:t,user:r,onAccept:I,origin:f,isSingleFileAction:g})):a.Modal$1.showInstance(i.React$1.createElement(Ea,{shareToken:e,copyable:t,userId:s,role:n,onDismiss:y,onAccept:I,folderPreviewSession:l,redirect:!1,isSingleFileAction:g,shouldReload:h})):"ON"===c||"ON"===m?a.Modal$1.showInstance(i.React$1.createElement(gi,{shareToken:e,copyable:t,user:r,onAccept:I})):a.Modal$1.showInstance(i.React$1.createElement(Ea,{shareToken:e,copyable:t,userId:s,role:n,onDismiss:y,onAccept:I,folderPreviewSession:l}))}))}(e,t,o,r,c,p,_,b,y,u,v,m,h,E,w)},isDisabled:l,userAction:I,role:o})}}Ta.logEvent=(e,t,i,n,r)=>{const o=a.get_href(),s=i.linkType===a.SharedLinkType.Content?a.ShareTibEventLogger.get_scl_extra_for_logging(i,o):a.ShareTibEventLogger.get_shmodel_extra_for_logging(i,o),l=Object.assign(Object.assign({},mi(n)),s);(null==t?void 0:t.id)?a.ShareTibEventLogger.log(t.id,e,null!=r?r:a.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,l):a.ShareTibEventLogger.log_unauth(e,null!=r?r:a.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,l)};const Ra=e=>{var{aspectRatio:t,altText:a,inverse:n}=e,r=s.__rest(e,["aspectRatio","altText","inverse"]);let o;switch(t){case"16:9":o="0 0 1696 954";break;case"1:1":o="371 0 954 954";break;case"5:6":o="450 0 795 954"}const l="dig-Illustration dig-Illustration-hero"+(n?" dig-Illustration--inverse":"");return i.react.exports.createElement("svg",Object.assign(Object.assign({role:"presentation"},r),{className:l,viewBox:o,fill:"none",xmlns:"http://www.w3.org/2000/svg"}),i.react.exports.createElement("title",null,a),i.react.exports.createElement("g",{fill:"currentColor"},i.react.exports.createElement("path",{d:"M1529.3 675.801c-22.1 32.2-7.6 74.5-7.9 111-2.3 5.7-5.8-1.9-5.9-4.9-12.9-46-20.1-95.3-40.9-138.3-12.5 33.9 30.2 111.5 37.8 147.4-10 7.4-46.2-70.1-57.8-78.4-1.1 6.2-2.6 11.1.8 16.8 12.1 20.7 24.1 41.3 34.8 62.7-2.9 2.4-4.8 1.1-6.4-1.3-29.1-29.8-51.4-66.3-82.4-93.9-8.2 13.2 47 78.6 58.1 92.3-14.3 4.7-26.8 14.7-39.6 22.6-8.8 6.1-15.5 14.9-17.2 25.9 15.9-4.3 29.7-15.2 44.7-22.2 7.2-4 14.3-8.3 21.4-12.5 3.5-2 3.5-2 7.5 1.2-20.9 26.1-50 52.5-54.3 86.8 10.5-8.5 68.8-89.1 76.2-78.4-6.8 29-20.7 56.7-20.3 87.1 25.8-28.4 36.4-67.9 50.1-103.1 4.6-.1 5.3.4 5.3 4.2.6 13.8-3.6 29.2 3.4 41.7 2-10.4.8-20.9 1.7-31.3 4.7-.3 5.7.1 6.7 4.2 1.6 6.2 3 12.4 4.3 18.6 1.8 8.6 3.9 17.1 8.2 24.9 5.5 10.9 20.1 26.9 19 3.4-2.6-18.6-1-40.9-11.8-56.7-4.6-4.6-9.6-8.9-12.7-14.8 8-2 15 6.2 17.6 12.8 3.5 9.7 15.2 13.6 24.4 10.7 6.5-1.5 29.4-15.9 14.2-19.8-12.5-3.5-25.3-5.3-38.1-6.6-2.7-.3-5.4-.4-8.1-2.8 17.3 1.6 33.2 3.7 49.4 9.1 16.4 4.3 1.3 15.5-6.5 20-10.2 6.6-21 2.9-31.5-1.5 3.4 19.7 8.1 39.1 6.8 59-2.2 11.2-16.5 1.7-20.6-3.6-10.7-11-12.2-25.6-17.4-39.2.7 50.9-18.1 9.1-15.5-14-12 29.5-22.1 61.3-43 86-27.3 15.2 4.1-69.5 5.2-78.6-23.3 21.6-41.8 47.7-62.5 71.5-2.7 2.6-4.5 2.6-8 1-7.8-5.1-.6-16.9 1.7-23.5 8.9-21.8 25.7-39.3 39.2-57.5-17.8 8.5-34.2 20.3-52.8 26.9-17.2.8-3.4-21.1 3.4-26.5 12.6-11.4 27.8-18.2 42.8-26.2-1.2-7.8-88.3-107-44.9-89.7 25.5 23.4 43 53.6 69 76.9-11.3-24-27.4-45.3-36.4-70.4 3-.4 5.1-.7 7.8-1 .2-39.3-.9-78.8 4.1-117.9 3.1-21 15.8-38.7 20-59.7-12.4-6.5-11-12.1-8.4-24.4-13.6-5.7-27.3 6.8-39.7-1.5-8.4-5.9 6-26.9 14-18.3-8 .8-12.3 10.2-11.4 17.4 2.4 1.8 5 .8 7.4.2 10.7-2.4 37-7.5 35.3 10.1-1.8 5.6-3.8 10.9 3.7 14 10.8-23.3 18.1-47.8 26.7-71.9 13.8-15.5-10.5 54.4-13.6 57.1-2.4 4.7-4.3 9.7-6.5 14.9 12.1 2.5 31.9-14 41.6-20.9 20.7-10.3 29.3 5.7 48.4 2.4 12.7-2.9 42.4-1.7 41.2-20-2.1-13.5-22.2-7.5-31.2-15.6-12.8-9.6 8.3-17.6 16.8-17.6 11.2-1 36.4-13 26.3-26.6-7.2-8.6-16.2-13.6-27.7-13.8-4-.3-8.9 1.3-11.2-3.2-10.2-12.2 8.8-29.6-3.8-29 11.3-5-11.9-7.6-12.9-13.4l-.1.1c6.6 2.7 13.4 5.4 18.6 10.4 1.4 1.3 2.7 1.8 4.5 1.8 16.3-.4 21-22.4 15.2-35-5.3-14.1 14-26.7 25.7-30.2 16.5-6.1 39.6-11.5 42.6-31.7-2.1-5.2-2.9-11.2-5.8-15.9l.7-.7c6.4 3.8 6 11.9 8.6 18.2-2.9 19.5-24.3 25.6-40.3 31.7-13 4.1-32.7 16.3-26 32 7 15.8-3.5 37.7-22.6 33.6 3.6 10.4-8.2 18.4-1.2 27.6 16.9-.1 30.7 6.8 40.7 20.1 3.8 4.8 3.6 8.8-.5 13.5-10.4 14.9-29.7 11.3-43.4 20.3-13.4 15.2 34.1 3.2 34.1 29.3-2.1 16.4-34.3 16.1-47.2 18.5-13.3 2.2-24.3-10.4-37.9-4.9-18.2 8.5-32.9 24.9-54.8 23.7-4.8 12.4-9.1 25.4-15.5 37.3-5.3 10.7-7 22.3-7.3 34.1-.7 34.7-.8 69.5-1 104.3 0 2.1 0 4 1.8 5.6 8.2 7.5 14 16.9 19.7 26.4 10.6 15.7 18.1 33.6 31.3 47.4-5.3-17.4-13.1-34.1-19.1-51.3-4-7.8-35.5-107.7-8.6-87 19 39.4 24.4 84 38.1 125.1-.4-25.5-12.1-78.7 11.9-94.7l-.3.1zm-85.2 29.5c1.1 3.2 1.2 5.7 3.6 7.5.7-5.4.7-5.4-3.6-7.5zm115 88.3c-.3.2-.6.5-.9.7 1 2.6 2.9 4.5 5.8 5.7-1.6-2.2-3.3-4.3-4.9-6.4zm-297.9-307.4c-4.5-56.7-7.3-114.5-28.4-168.1-13.3-27.1 3.8-54.6-.1-82.6 13.5 3.5 5 34 4 44.4-2.1 12.8-1.2 25.2 3.2 37.6 9.8 28 16.9 56.8 20.7 86.2 5.1 41.1 5.7 82.9 10.3 123.9 10.2-31 14.2-64.4 23.7-96 3.5-17 9-34.8 3.3-51.9-10.3-37-22.7-75.3-15-114-.1-2.5 2.9-7 4.4-2.9.2 2.6.1 5.1.1 7.7-3.6 45.7 20.2 89.3 15.9 134.7-7 37.9-17.6 75-24 113-4.2 14.6-7.4 29.2-5.5 44.7 5 44.3 13.3 87.9 19.9 131.9 10-24.2 16-50 25.3-74.7 10.2-32.7 7.9-67.5 15.2-101-8.7 4.2-16.4 15.1-26.3 12.1 9.7-7.3 19.7-13.3 27.3-23 7.9-24.6 3.9-53.1 13.5-77.4 2.3.3 2.2 1.8 2.1 3.1-1.9 23.2-3.2 46.2-5.6 69.4 29.3 4.8 29.4-23.9 40.6-42.9 3.8 12-3.8 25.1-8.3 36.1-6.5 17.7-31 3.1-34.2 18.2-6.5 33.6-7.7 68.8-19.3 101.2-11.4 27.3-16.9 56.7-28 84-.8 33 8.6 66.6 10.9 99.7 2.2 19.9 6.8 39.3 11.3 58.8.7 3.8.6 3.9-3.9 6.4-15.5-52-16.7-107.3-24.7-160.8-7.7-57.5-18.2-114.5-24-172.3-2.9-13.6 0-29.4-5.8-42-13.1-16.1-19.1-36.7-35.4-50.3-11.8-10.7-15.7-26.3-22.7-40.1-3.3-7.2-11.7-33.1-7.9-38.3 10.1 24.4 18.3 50.4 32.7 73 14.5 15.4 23.2 34.1 33.4 52.3.4.1.8 0 1.3-.1zM312 592.601c-30.7 19.5 46.7 10.8 55.1 12.8 9.9-.1 11.7-10.3 15.9-17.6-22-4.5-43.1-.1-64.8 2.3 16.3-5.1 34.1-5.5 51.2-5.9-13.5-9.7-76.9-46.6-75.5-61.7 16.4-10.2 64.6 28.1 77.5 40.2-13.7-32.4-30.2-64.3-40.8-98.2-.7-1.8-1.1-3.7.9-5.1 17.2-.4 47.3 61.9 52.3 78.4-.3-20.2-6.3-40.6-3.3-61.1.3-4.3.7-4.3 5-5.2 13.2 33.6 19.4 70.2 17.2 106.5 14.5-24.7 33.9-46.9 60.8-57.8-1.5 24.8-31.8 43.4-50 57.5 22.4-3.8 44.5-4.2 66.8.7 2.6.5 5.5.7 7.7 3.7-5.8 7.8-13.2 13.1-23 14.8 6.1-4.8 16.2-6.2 18.2-14.7-13.3-5.8-82.3-13.2-81.8 8.5 17.5 11.9 42.2 11.2 62.1 6.3-13.3 7.9-29.6 2-44.3 4.4 22.6 15 44.3 29.5 66 43.9l-.3 1.2c-28 .4-51.4-20.1-77.6-27.3 8.9 40.3 22.2 81.4 22.3 123.4-2 34.3-2.5 142.4-9.3 176.9 3.2-95 14-209.9-17.9-300.3-11.5-2.3-19.7-3.3-20.6-16.4-6.1 1.4-8.7 16.5-13 21.7-5.7 10-11.7 19.8-17.8 29.6-1.7 2.8-3.8 5.4-8.5 3.9 3.1-19.4 14.3-35.9 26-51.1-21.9-.7-43.8 1.7-65.1-1.9-9.9-6.3 6.2-13.7 12-15.3-1 1.1-2.2 2-3.4 2.9zm80.3-10.6c-10.8-43.7-25.9-88.2-58.3-120.9l-.9.6c13.7 40.9 31.7 80.6 53.1 118.2 1.3 2.1 2.6 4 6 4.3 0-.9.2-1.7.1-2.2zm-95.1-59.9c1.9 15.6 70.1 61.2 87 63.6-8.1-21.7-66.6-64.3-87-63.6zm104.4 82.7c2.3 9.4 2.7 12.4 13 14 20.4 7.8 40.2 20.1 61.5 24.3-25.7-15.4-47.7-36.2-75.8-47.1.5 3.3.9 6.1 1.3 8.8zm-18.6-122.4c-.1 33.3 6.4 67.2 13.7 99.4 3.7-35.5-2.6-69.7-13.3-103.4-.1 1.4-.3 2.7-.4 4zm24.3 96.1c21.4-12.8 43.4-29.9 52-54.1-23 12.5-40.3 30.1-52 54.1zm-9.8 16.9c-2.8-2-4.3-.7-6.3 1.3-11 5.8-.6 22.3 10.2 19.9-1.2-7.6-6.2-13.8-3.9-21.2zm-48.4 54.2c4.8-4 17.2-25.7 22.1-39-10.4 11.2-17.3 24.5-22.1 39zm42.3-60.8c.4.7 1 1.2 1.8 2.2.6-2.1.5-3.3-2-4.4 0 1.3-.1 1.8.2 2.2z"}),i.react.exports.createElement("path",{d:"M1543.2 577.201c4.5-9.1 28.3-47.1 36-24.6.2 17.1-9.2 33-13.7 49.3-2.2 8.3-8.3 15.7-8.8 24.2 16.3-19.9 34.9-37.6 57.9-49.7 5.1-3.2 24.8-10.2 19.7 2.1-20.2 24.7-44.3 45.7-66 69.2 70-6.4 163.6 26.4 26.8 34 13.7 4.3 27.6 8.7 38.6 18.3 5 4 16.3 17.1 3.5 18.1-19.9-3.4-39.1-12.7-59.1-15.6 11 11.8 19.2 25.2 22.6 41.1 1.1 3.7.9 10.4-4.5 6.6-17.1-13.5-24.7-35.6-38.3-51.8 3.9 18.5 11.9 37.2 9.1 56.2-4.4-.1-6.2-2.5-7.5-5.8-6.7-17.1-12.3-33.6-20.6-50.2 13 10.6 14 27.7 22.5 41.1-.2-19-7.4-36.5-12-55.5 5.8 1.4 7.6 5.8 13.5 7.2 6.7 4.1 12.6 9.1 20.6 10.3 14.5 3.7 29.1 7.3 43.2 12.5 4.8 2.1 14.3 1.1 11-6.3-16-26-53.3-19.7-76.5-34.1.2-.4.3-.8.5-1.1 10.3 2.8 20 6.5 30.9 5.4 18.2-1.1 58.6.7 69.5-15.3-26.3-11.7-55.8-14.4-84.4-12-6.9-.7-16.2 6.9-21.7 1.7 24.9-25.9 52.2-49.3 74.9-77.1-.2-.3-.5-.7-.7-1-14.8 4-26.9 13.5-38.7 22.8-12.8 10.3-23.6 22.6-33.8 35.4-3.3 2.7-5.7 10.7-10.7 8.7-1.7-1-2.5-2.3-1.7-4.2 10.4-29.1 29.5-57 29.6-88.6-32.2 17.8-34.4 59.5-44.6 91-4.9-1.9-5.1-2.1-4-6.2 6-24.4 13.2-49.4 10.8-74.8-20.4 18-19.1 74.5-19.6 101.2-.4.1-.8.3-1.2.4-8.8-21.7-1.6-76.1 9.6-97.4 11.8-22.7 18.4.8 16.5 14.4.3-.1.6 0 .8.1zm17.8 117c3.2 10.3 29.3 49.3 35.2 52.3-2.9-21.1-14.3-44.1-35.2-52.3zm-393.4-208.3c34.3-25.1 8.3 9.9 46.5-4.1 2.3-.8 4.6-2 6.6.6-7 7.6-28 10.2-34.2-1.9-6 3.7-11.7 7.1-17.6 10.8 2.2 15.1 7.2 30 9.9 45.1 2.5 12.2 7.4 23.6 11.1 35.4.9 2.8 2.5 5.5.9 8.8-13.5-27.6-20.9-57.2-28.6-87.1-6.3-.5-13.3.5-17.8-7.6 5.5 4.5 10.5 4.2 16.3 2.5-8-25.1-12.6-54.8-31.3-74.4-20.3-16.2-39.6-33.7-60.8-48.8-3.9-2.8-6.6-6.3-8.9-10.5-6.8-12.9-13.7-25.8-20.7-38.6-4.1-7.3-12-12.4-12.8-21.4-6.9-48-10.9-68.9-53.6-95.4 17 2.1 28.7 18.1 40.5 29.3 16.2 19 13.7 45.7 18.2 68.8.6 3 1.7 6.2 3.6 8.4 13.6 16.3 20.2 36.6 32.8 53.5 21.3 16.6 42.8 32.7 63.8 50-3.2-11.1-9.3-20.4-13.4-31.2-11.4-25.1-31.9-44.3-47.7-66.5-5.1-6.5-7.6-14.1-9.1-22.2-4.7-23.1-9.6-46.1-19.7-67.6 9.9 5 12.3 17.5 16.5 27 4.9 14.3 10.8 28.3 13.8 43.2 1.5 7.6 5.8 13.9 10.5 19.9 17.6 22.8 38.3 44.1 47.3 72.1 14.8 33.5 29.4 65.8 37.9 101.9zm-608.3 42.7c.1-1.1 0-2.9.4-3 7.3-.9 9.1-31.3-1.3-21.8-8.5 5.6-6.3 22.7-13.3 19.7.9-15.2 9.6-36.7.3-50.1-21.5 10.1-11.8 47.8-22.6 42.8.2-26 9.9-52.3 4.1-78.2-10.1 7.3-11.6 20.5-14.8 31.6-2.4 10.8-3.4 21.8-4 32.8-.3 3.5.2 9-5.2 7.1-.9-27.2 4.4-54.9 1-82-.4-.1-.7-.2-1.1-.3-22.6 27.3-7.8 79.6-19 74.3.1-47.4 4.1-94.5 3.6-141.9-11.5 6.6-15.4 25.8-19.7 37.6-11.4 34.5-6.7 73.4-15.8 107.3-4.1-5.4 1-21.8.3-30-3.7 3.6-2.7 7.3-4.2 11.4-6.1 7.3-4.7-15.4-5.5-18.5-1.8.4-3.6.9-6 1.5-2.4-19.3 2.7-38.2-4-56.7-11 17.1-10.1 38.5-11.5 58.1-.1 1.6.6 3.5-1.9 4.8-4.2-19.8-1.4-42 6.8-60.7 19-20.4 14.2 32.8 14.7 41.8 8 3.4 5 10.9 6.9 16.5 2.1-1.8 4-3.4 6.6-5.6 2.6-31.2 5.4-64.2 19.3-93 2.6-5.3 11.5-24 16.8-12.4 2.5 27.1-1.8 53.4-.8 80.7 4.3-5.3 5.2-12.1 10.3-16.7 15-8.4 9.1 22.4 11.4 30.2 3.1-7.4 13.9-30.7 21.5-14.9 3.3 13.5.4 26.2-.3 40.1 22.4-24.1 22.8 5.4 20.5 22.6 29-14 14.9 28.9 6.5 24.9zm92.3-335.2c7.3 2.5 10.1 9.4 16.8 13.1-.2-6.9-13.7-49.7.9-43.8-4.2.7-4.7 5-4.3 8.5 1.9 13.8 3.6 38 12.7 48.4-1.5-16.1 1.5-44.6-8.6-57 14.3 3.2 7.8 58.3 13.6 69.9.3-24.8 7.3-47.9 26.6-64.4 2.7-2.5 5.6-4.8 10-4.6-23.3 16.5-33.3 39.2-32.2 67.9 7-17.6 38.7-51.1 34.5-67.6 15.4 8.9-34.4 60.3-34.5 76.6 18.7-13.3 34.1-33 57.7-37.8 10.6-2.4 16.5 1 7.5 10.5-7.4 15-85.9 31.8-67.7 42.2 12.3-11.2 32.6-14.1 48.5-11.1-11.9-.4-23.5.6-34.7 5.8 11 5.5 29.5 4 38.9-3.6-2-1-3.1-1.6-4.3-2.2 2.7.6 6-.4 7.8 2.8-5.6 8.6-29.5 8.8-39.1 5.9-6.2-3.1-15.3.7-14.8 8.3 1.9 23.8-8.7 46.7-17.1 68.4-15.3 31.9-9.5 70.2-18.3 102.9 1.5-30.8 3.1-61.8 11.2-91.6 3.4-28.4 9.8-56.7 20.5-83.3-11.4-10.8-23.6-22.6-38.8-27.8-4.7-1.5-9.2-3.7-12.5-8.3 16.2 3.5 29 15.3 43.9 22.3-7.8-13.5-37.8-40.3-33.8-56.8 4.4.5 7 3.8 9.8 6.6-2.2-1.1-4.5-2.2-7-3.4 1.4 19 22.6 38.3 33.8 53.2.3-.2.6-.4 1-.5-7.3-24.6-8.9-31.6-28-49.5zm39.1 46.3c.3.4.6.7.8 1.1 20.4-8.6 44.5-13.1 59.7-30.3 5.3-4.7 2.3-10.2-4.5-7.1-22.7 4.8-37.7 23.6-56 36.3zm-14.7 8.1c.2-.2.4-.5.6-.7-.8-.6-1.6-1.1-2.5-1.7-.1.2-.3.4-.4.5.9.7 1.6 1.3 2.3 1.9zm541 564.3c-10.9-38.5-17.3-77.7-21.5-117.3-3.1-19-1.2-50.1-13.1-65.2-1.5-.8-2.2-3.4-2.7-5.4-3.7-11.1-11.9-20.1-15.9-31.1-8.6-18.6-20.5-36.1-33.1-52.2-16.6-16.6-25.5-39.9-27.6-63-.6-11.2-6.5-19.4-14.5-26.4-9.9-6-22.2-7.5-31.8-14.5-3.7-2.4-8.2-2.8-10.9-6.8 12.9 4.2 25.4 12.1 38.9 15.9 15.1 5.7 28.8 20.2 28 37.1-.4 19 5.2 39.3 18 53.5 6.4 6.4 11.8 13.4 16.6 21.1 8 12.6 18.5 23.7 23.9 37.9 16 26.9 29.7 55.6 30.7 87.6 3 41.9 8.2 83.6 18 124.5.3 2 .7 3.8-3 4.3zm91-631.3c28.7-37.5-16.7-45.7-42.2-26.5-9.1 7-16.7 15.4-22.8 25.2-7.6 0-8.4-12.2-17.2-11.1-13.7 1.2-25.9-10.4-17.5-23.8 12.3-12.2 17.2-26.5 3.6-41-14.2-7.2-37.8 28-38.9-19.4-17.3-39.9-69.5-19.9-73.2 17.8-6.1 1.3-3.1-8-2.7-11.1 3.8-11.1 10.5-20.2 20.7-26.2 18-9.7 45.3-5.2 55.6 13.6 5.4 9.3 1.9 19.8 8.8 28.6 4.4-1.8 8.3-4 12.7-5.8 24.4-9.8 41.4 20.5 28.2 38.1-5.6 6-11.2 12.5-8.9 21.3.5 8.6 16.6 2.3 25.9 13.1 6.4-6.9 12.2-14.6 19.5-20.6 22.5-21.8 85.2-11 56.1 27.7 21.4 4.2 24.2 41.7 5.4 41.3 5.4-9 8.7-18.3 4.8-28.4-2.1-9.1-9.7-10.6-17.9-12.8zm-780.6 608.3c-13.3 23.4-16.2 48.4-18.4 73.5-5.1.5-2.1-9.8-2.9-13-1.5-26.7-2.5-55.6-10.2-80.8-7.1 24-2.6 49-.8 73.4.2 2.1.4 4.4-3.3 4.1-4.5-11.7-6-24.3-9.7-36.4.4 19 6.4 37.4 5.1 57.2-2.9-3.3-2.3-7.2-3.3-11.2-2.8-17.1-7.2-34.1-7.2-51.5-.5-5.1 6.1-8.3 8.3-2.6 1.5 4 2.6 8.1 4.5 12.2.6-11-2.4-41.8 7.6-47.7.9 0 2.2 1.6 2.4 2.7 4.5 22.7 6.2 45.2 9.2 68.4 2.3-10 10-51.7 21.9-51 3.5 17.4-2.2 35.8.9 53 2.1-6 16.9-32.7 22.8-19.6 1.9 10.5.7 21.3 1.2 32-.7 6.9 3.7 6.2 1.7 14.6h-5.1c-3.8-15.2 0-31.6-2.5-47.2-.4-.2-.8-.3-1.1-.5-9.9 9.5-14.1 23-16.8 36.1-.8 2.9-.8 2.9-5.3 3.1-1.9-23.3 4.3-45.7 1-68.8zm229-355.3c-13.4.8-23.8 12.9-35.5 18.8-10.6 6.8-20.4 14.7-29.5 23.4-2.9 1.7-8.2 9.4-11.2 5 20.5-32.6 50.6-57.7 76.3-86.1 2.3-2.4 4.7-5.1 5.1-8.9-26.1 1.2-63.6 55.3-78.9 76.5-2.1 2.7-3.5 6.7-7.3 7.2-.2-.3-.4-.6-.7-.9 12-26.8 31-50.4 42.5-77.4l-.9-.6c-29.1 22.8-41.4 59.8-61.8 89.4-.7-13.4 50.1-99.9 64.8-91.1 3.2 10.6-22.4 38.1-24.6 50 18.6-17.8 31.8-43.4 56.3-53.6 4.7-2.1 17.2-3.8 12.6 4.9-22.7 30.1-56.2 51.9-75.5 84.6 8.5-7.4 60.6-50.9 68.3-41.2zm-155.8 114.3c-8.6 5.5-5.9 35.4-8.1 46.2-.6 13.7-2 27.5-1.6 41.2.3 10.4 5 21.2 1.6 31.3-4.2-11.4-1.6-24-6.9-35.7-6.1 6.6-4.7 14.7-5.6 22.8-7 1.6-2.2-13.7-3.6-17.8-1.7-11.4 2.2-27.9-6.3-36.4-6 8-3.8 17.5-4.8 26.3-6.8 1.4-2.6-32.8-5.9-39.1-15.8 11.9-6.1 34.2-13.1 35-7.9-.4 5.6-36-7.1-36.4-9.1 9.4-6.2 33.7-11 46.3-.5 0-1-.1-1.4-.1-.6-7.3-2.1-13.3-5-20.2-7.1 6.8-9.4 15.1-11 23.8-.4-.1-.9-.1-1.3-.2-1.7-8.8 2.9-17 8.4-23.6 5-5.4 7 2.1 9.7 5.6 2.8-7.3 1.1-37.7 13.4-32.2 4.4 1.6 8.8 3.4 8.3 10.3 8.4-14.7 15.1-10.5 15.3 4.5 16.5-7.3 14.7 19.8 16 29.7 2.5-.2 4.6-.3 7.1-.5 2.5-12.1-.8-81 12.9-80.8zm734.5-399.3c7.4-13.3 10.6-29 22.6-38.8 16.1-10.3 26.8 5.9 23.9 21.6 11.4-7.2 17.5-18.2 25.7-28.4 5.8-7.2 14.8-7.1 22.6-3.5 10.8 3.7 14.9 11.6 14.4 22.8 7.8 2.3 14.6-3.1 21.7-5.3 16.4-4.4 34.1 2.9 49.5 8.3 12.5 4.6 12.7 18.5 15.3 29.6 1.4 6-5.8 6.3-10 8.6 9.1-11.1 1.7-17.3-.3-29.8-4.3-11-29.8-13-40.5-14.8-12.4-.9-23.3 11.1-35.8 6.2-5.3-1.3-5.8-5.9-5.5-10.8-.6-11.7-13.1-18.2-23.2-12-9.6 4.3-29.1 46.2-38.1 25.3.2-23.9-11.3-21.4-22.5-4.5-3.7 4.5-13 32.6-19.8 25.5zm135.4 49.6c-15.8.5-21.3 28.8-38.5 20.2 13-6 17.3-21.5 31.5-24.6 15.9-1.9 19.7 20.3 16.4 32.2 5.2-.1 8.3-1.5 12.7-3.2 5.1-1.6 9.5-.1 13.4 3.3 4.8 3.8-.7 6.7-3.3 10.4 15.8.5 18.4-4.8 34.8 5.7 13.4 12.7-15.6 20.4-21.6 28.7-4.7 5.3 2 10.1 3.6 15.2 3.9 11.5-8.3 21.2-16.9 19.3-4.2-.9-8.5-1.2-13.4-1.8 2.8-2.1 5.4-1.5 7.9-1 11.7 2.5 23-10.9 16-21.7-10.5-10.8-.8-15.8 8.5-21.5 5-3.7 19.4-10.8 11.8-17.9-6.8-8.6-40 4.9-33.4-8.8 1.5-1.6 3.8-4 3.1-6.3-2.9-4-8.4-.1-12 .8-5.3 2.6-17.4 1.3-15.5-6.7 2-8.4-4.1-14-5.1-22.3z"}),i.react.exports.createElement("path",{d:"M643.6 296.201c-10 8.7-11.6 21.5-16.6 33-1.1 4.7-8.5 3.1-7.8-1.6.1-14.1 4.1-28.4-2.1-41.7-14.8 13.3-.4 33.6-4.9 50.1-12.1 1.1-7.5-21.6-18.3-21.4-17.9 10.7 21.4 36.1 18.2 48.3-8.3-13.6-21.7-24.9-26.7-40.2-2.1-7.6 7.7-13.2 13.4-8.1 7.3 4.7 5 14.3 11.1 19.6 1.6-11.6-2-22.1-2.6-33.5-.4-16.2 13.7-23.1 15.9-3 1.2 11.5-2.1 21.2-1.1 33.1 7.8-9.8 6.4-24.2 15.9-33.3 2.6-4.6 9.3-2.7 9.5 2.5 1.4 10.8-2.2 19.8-6.9 29.5 5.1-3 14.4-5.8 12.5 3-3.2 7.8-10.2 13.9-15.5 20.4-3.8 2.9-16.6 19.8-20.4 15.8 8.2-9.4 34.1-28.9 33.5-40.6-11.4 5-16.4 17.5-24.8 26-.3-.2-.6-.4-1-.6 2-6.9 7.7-12.3 11-18.6 6.1-11.3 12.8-25.8 7.7-38.7zm740.2 74.1c-14.2-1.9-22.2 17.6-34.4 12.6 13.8-12.2 41.7-29.8 43.2 1.3 22.7-8.7 49.2-12.6 70.8.7 17.9 16-22.8 19.4-31 26-11.7 9.3 16.6 11.4 8.1 21.7-4.4 10.6-21.1 1.8-21.7 11.6-1.1 13.2-21.1 10.4-30.2 15.6 4.3-10.1 22.5-4.3 25.1-15.5 1-6.6 2-7.6 8.6-7.5 5.8 0 9.9-2.2 12.9-7 6.6-8.6-18.4-11.6-7-20.1 9.8-6.6 23.2-6.7 32.3-14.4 9.9-14.6-19.1-16.1-28.1-15.5-9.3-.2-18.2 1.2-26.6 5.2-4.1 2-8.4 3.1-13 2-9.3-1-6.9-10-9-16.7zm-453.3-60.9c-2.9 1.8-4.8 1.1-7.5.3-11.9-1.5-14.9-5.8-23.3-13.7-7.7-9 3-18.8 9.5-25.3-11.4-4.6-30.6-7.9-28.8-23.7 1.3-10.3 7.7-17.8 17.8-20.3 4.8-.9 11.5-2 9.7-8.4-1.6-8-6.7-14.7-10.5-21.7-9.3-15.7 2-31.5 18-35.9 6.1-2.7 6.7-4.1 5.1-10.3-6.5-20.6 15.9-43.4 36.1-35.2-21.5 1.2-38.6 18.5-32 39.7 1.9 8.7-10.1 9.4-15.4 13-36.7 23.2 28.7 56.1-11 63.3-9.3 3.6-13.8 14-13.5 22.5 1.6 11.3 17.6 10.2 25.3 15.9 10.3 5.2-19 19.6-4.3 29.1 6.2 9.1 15.9 7.7 24.8 10.7zm-72.3 60.1c6.4 3.7 13.1 2.7 19.8 5.6 11.1 2.3 12-6.6 32.5-2-4.6 5.4-12.4-1.1-19.5 3.7-5.3 2.2-10.5 3.1-15.8-.2-2.9-1.1-6.8-.6-9.5-1.9-18.5-8.2-37.2 5.2-48.4 19.2-5.3 7.5-12.8 11.8-21.6 14.1-3.9 0-9.3 6.1-12.1 2 1.4-2.6 3.9-3.7 6.6-4.2 14-2.1 22.1-12 30.2-22.4 21-20.3 32.5-9.1 42.2-24.9 5.7-12.7 11.9-25.6 26.2-30 9.8-1.7 19.1 2.8 29.3 3.6 1.9-7.1 5.1-12.9 12.3-15.6 1.3 4.1-7 9.4-8.4 13.9-6.2 9.6-24.3-2.9-33.4 2.9-18.5 6.9-17 25.9-30.4 36.2zm290.6-214.4c-7-1.7-13.3-4.9-19.7.2-15.5 12.2-27.8 26.8-38.6.1-6-11.4-23.8-14.6-31.5-3.4-5.3 8.5-4.7 15.9-14.1 22-10.8 7.4-8-9.3-15.2-9.4-12.6-1.3-14 13.3-11 22.5-5.2-1.2-4.5-7.2-5.2-11.2-1.7-18.2 22.2-17 26.4-3.5 8.4-5 10.2-10.6 12.6-19.6 9.4-22 41.8-7.5 47.7 10.7.5 1.2.8 1.9 2.1 2.7 12.9-5.2 21.6-25.5 38-17 2.9 1.6 6.7 1.5 8.5 5.9zm-545 338.7c2.1-24.1 6.4-48.1 13.4-71.2 2.4-5.7 15.1-45.1 20.4-42.7 5.3 1.7 2.2 12 1.5 16.1-12.2 32.4-22.7 65.9-33.8 98.4l-1.5-.6zm33.8-112.1c-7.8 9-21 51.2-19.5 61.8 5.1-15.7 22.4-47.5 19.5-61.8zm-68.5 94.9c-9.7-28.5-9.4-58-14.9-87-2.7-14.1 6.2-36.9 16.4-13.1-.3.2-.6.4-.9.5-2.3-2.9-4.6-5.9-7.2-9.3-7.4 14.1-1.2 28.2.3 42.6 2.1 15 4 30 6.1 44.9-.6 4.6 8.6 22.7.2 21.4zm437.4-31.8c4 .4 6.4 3 8.3 6.1 4 6-5.4 10.4-8.8 14.4-9.1 8.2-6.5 26 6.6 28.1 4.2.8 8.5 1.4 12.8 1.9 10.3.4 34.6-9.2 40.3 2.4 5 7.6-10.4 8.4-14.4 15.4-7.5 8.8-4.5 12.6 6 15-26.9 1.5-15.1-22.2 2.6-26.5 3.4-1.2 1.9-7.3-1.7-6.8-9 .1-17.8 1.2-26.4 3.5-11.1-2.8-25.2-1.4-32.3-12.1-4.2-6.5-4.2-14.7.4-20.8 5.3-7 17.8-12.9 6.6-20.6zm-21.5-90.4c-1.8 9.2-16.4-5-21.5-6-11.7-5.6-4.2-17.5 1.9-24.5 9.6-12.6-14.2-15.1-8.6-28 3.4-15.8 24.4-27.7 39.8-20.9-14.2 1.6-27.3 6.8-32.9 20.9-5 10.2.8 12.6 7.2 19.2 7.5 9-6 15.9-7.8 24.4-3.1 8.7 7.5 9.8 12.7 13.9 4.5 2.8 4.4 2.9 9.2 1zm399.9 437.3c-2.9-1.4-2.6-3.3-2.6-4.9.8-8.1-7.8-9.7-12.4-15.4-.2 1.1-.4 1.9-.5 2.7-4-2.9-4.3-3.8-2.4-8.2-13.6-11.9-35.5-23.2-33.4-44.3 7.1-23.2 44.2 36.1 46.5 45.5 2.7 8.1 5.3 15.8 4.8 24.6zm-4.8-16.2c-.3-7.5-37-73.2-41.7-50.8-.8 24.9 26.4 35 41.7 50.8zm-806-395.3c6.8 3.7 11.3 33.3 14 42 4 20.2 7.2 40.6 10.6 61 .1 3.7 2 8.1-1.7 10.8-7.4-38-12.3-76.3-22.9-113.8zm564.2-146.3c-18.9 5.5-3.5 21.3-15.6 32.3-2.8 3.3-3.8 3.6-7.4 1.1-6.8-4.7-18.9-1.2-18.8 7.9-.1 3.5 0 7.1 0 11.2-5.4-3.5-2.2-10.2-3-15.5.2-9.1 12.7-11.7 19.4-7.3 3.6 2.3 4 2.1 6.8-1.2 6.4-6 5.2-13.7 4.6-21.7.5-6.7 8.2-12.1 14.4-8.3-.2.6-.3 1-.4 1.5zm-131.7 210.8c-9.9-4.7-25-7.9-23.7-21.9-1.2-17.6 14.6-40.8 33.6-31.1-20.2-1.2-28.1 17.6-28.5 34.8-1.8 11.4 12 12.7 18.6 18.2zm-383.8 86.7c6.1 10.8-.9 23.3-.2 34.7 4.2-7.1 8.2-28.8 17.3-29.5 7.5.4-.1 30.2-4.2 31.1-.8-10.5 8.3-19.6 3.4-29.7-8.8 12.1-13.1 25.7-15.9 40.3-.4 2-.3 4.5-3.3 5.7-1.5-17.4 3.8-35.1 2.9-52.6zm0-.1c-14.4 8.8-7.3 50.1-14.4 65.4-5.7.4-2.4-13.8-3.3-17.8.6-9.6-.6-19.7 1.4-29.1.6 8.6 1.2 17.2 1.8 25.6 2.3-9.9.3-44.9 14.4-44 .1 0 .1-.1.1-.1zm-15.6 55.4c.1 0 .3 0 .4-.1v-6h-.4v6.1zm981.1-270.7c-11.6-7.6-12.4-26.2-5.9-37.1 8.8-7.2 15.4-16 21-25.7 2.1-3.1 1.6-5.2-1.8-8.3 9.5 1.9 7.1 8.4 2.2 14.1-3.1 8.9-10.7 14.1-16.8 20.5-7.7 9.9-5.4 25.2 1.4 35.2.2.2-.1.8-.1 1.3zm-832 117.8c17.4 4.2-13.8 22.1-18.6 26.6-15.1 10.5-26.6 25.5-43.7 32.9 16.3-16.8 35.8-30.8 54.7-44.8 4.1-2.9 13.4-9.8 7.6-14.7z"}),i.react.exports.createElement("path",{d:"M962.7 150.601c-21.6-21.9 32.4-18 18.7-39.7-3.5-5.9-7.4-11.6-5-18.6 4.2-2.2-.3 10.8 8 20.5 13.6 24.2-29.7 14.4-21.8 37.9l.1-.1zm-362.1 298.1c0-23.7 5.4-46.3 11.5-69.3 2 2.8 1.1 4.8.8 6.6-4.2 20.8-7.9 41.7-11.6 62.7h-.7zm972.7-244.8c-45.6-18-43.4 17.4-58.9-6.2l-.1.1c8.5 6.1 8.5 6.6 17.4.5 10.5-5.3 32.5-2.3 41.6 5.6zm0 .1c5 .9 10.9 5.4 9.3 10.9-4.2 12.8-.9 12.8 5 21.9 1.2 1.8 3.4 3 5.2 4.5l.1-.1c-11.1-2.9-19.8-16.8-14.6-27.8 2.2-4.4-2.2-6.7-4.9-9.5-.1 0-.1.1-.1.1zm-59.9 218.9c-12.2.8-24.7 7.2-35.7-1.2 1 0 2.2-.4 3 .1 9.9 5.3 24.9-7.9 32.7 1.3-.1-.1 0-.2 0-.2z"}),i.react.exports.createElement("path",{d:"M1514.4 197.701c-6.1-4.7-12.4-2-19.2-4.8 7-3 14.4-.8 19.1 4.9l.1-.1zm73.8 118.4c7.8-1 15 .7 22 4.1-7.2-1.3-14.7-3.1-22-4.1zm-625.6-165.4c1.7-1 3 .5 4.5 1.2-.2.3-.3.6-.5.9-1.3-.8-2.6-1.5-4-2.2.1 0 0 .1 0 .1zM19 505.401c8.1-24.6 38.5-42.9 60.7-23.3 15.1 14 29.7-5.3 45.6-7.1 11.6-3 19.2 3.8 23.6 14.1 13.9 20.5 45.9-16.4 58.2 30.8-14.5-7.3 4.1-27.3-37.9-20.5-23.5 4.1-22-21.3-33.9-21-15-1.3-25.2 11.3-39.3 12.6-5.6 0-10.6-1.4-14.6-5.5-22.2-20.5-53.8.2-59.9 24.4-.7-.7-1.6-1.6-2.6-2.5.1-.6.1-1.3.1-2zm368.6 319.5c-16.4 14.8-22.9 35.9-31.2 56.3-1.4 3.3-1.3 3.3-5.5 4 1.4-24.3 10.1-47.7 10.7-72.1-.4-.2-.8-.3-1.1-.5-18.8 24.1-21.6 55.6-29.4 84.2-1.1 4.7-1.1 4.8-5.8 5-1.7-33.7 6.8-67.9 3.5-102-8.3 14.9-9.7 32.4-15 48.5-8 26.1-6.5 54.8-14.5 80.3-.4-13 1.6-25.8 2.6-38-31-55.1-32.9-122.7-46.7-183.7-16.4-123.7-10.2-253.4 18.5-374.7 1.9-.5 2.5.5 2.3 2.2-7 31.6-13.9 63.2-17.8 95.3-8.2 77.5-10.2 155.9-4.2 233.6 5.3 49.1 15.6 97.5 24.3 146.1 6.3 26.6 10.7 54.2 23.7 78.4 1.1-8.2 18.3-114.8 32-88.5 3.4 24.7-2.3 49.7-1.9 74.3 3.6-13.5 16.1-65.3 32.6-64.4 3.8 16-4.4 33-3.9 49.4 7.4-12.1 12.6-27.8 26.8-33.7zm-307.5-68.3c19.8-4.7 21.6 108.9 25.7 125 1.3-46.5 3.8-92.9 14.9-138.3.4-2.7 1.7-5.9 4.6-6.3 3.9 3.1 2.1 10.7 2.9 15.3.9 33.4-1.2 67.2 1.1 100.5 4.3-17.8 8.5-36 19.1-51.2 3.5-7.1 19.9-19.3 19.1-3.8 1 21.6-7.6 42.9-8.1 64 4.9-14.1 23.6-52.7 25.9-14.9 1.7 19.5 3.8 39.1 5.2 58.6-.1 1.9-.2 1.9-3.8 2.8-5.7-24.7-4.3-50.1-8.2-75-.4-.2-.8-.3-1.2-.4-12.8 16.8-17.6 38.3-22.8 58.4-.4 1.9-.9 3.3-3.7 3.3.5-34.5 15-68.6 11.9-103-17.4 5.4-28.1 48.5-30.8 65.3-2.1 11.8-3.7 23.8-5.6 35.7-.3 2 .3 4.7-3 4.9 1.1-51.6 2.6-102.4.6-154-16.8 49.4-8.3 104.8-18.8 154.2-5-24.1-6.3-131-25-141.1z"}),i.react.exports.createElement("path",{d:"M260.2 321.901c-61.3 194.5-63 404-27.7 603.7-.4.2-.8.3-1.2.5-16-41-16.1-86.9-20.9-130.3-5.4-45.6-5.1-91.3-4.1-137.1 2-108.6 12.4-217.8 45.5-321.7 2.2-4.6 2.7-15.6 8.4-15.1zm20 12.7c-.4-6.1 1.4-11.9 4.4-17.1 23.6-42.5 46.8-85.5 82.7-119.1 38.2-43.4 84.2-80.3 136.1-105.8 6.3-2 17-9.7 22.9-7.5-110.5 45.4-195 142.9-246.1 249.5zm-12.9-38.8c14-56.3 25.3-112.1 38.6-168.3 3.3-14.1-1.9-34.3 10.2-44.4 1.3 1.9.6 3.7-.2 5.7-7 19.7-2.6 41.5-10.3 61.3-15.1 48.2-17.8 103.6-39.1 148.4-1.3-1.9-2.2-5.4.8-2.7zm120.3 529.2c8.2-.4 10.3 1.2 9.7 9.6-1.3 20.5-10 40.7-10.4 61 3.9-7 20.8-63.6 24.8-29.8.8 15.5 1.6 30.9 2.3 46.4.1 3 .7 6.5-3.8 5.9-2.7-19.2-1.9-38.8-3.7-58.2l-1.2-.3c-6.6 9.3-14 50.1-25.7 47.4-3.5-16.2 23.4-80.8 8-82zm-142.5-530.9c.6-10.8 1.2-21.6-.6-32.4-3.4-25.2-1.8-58-27.8-71.7-46.9-26.9-117.4-10.8-142.7 38.4-3.9-3.9 1.7-9 3.6-12.6 31.7-43.4 94.4-51.5 140.2-27 25.1 10.5 28.8 39.7 30.5 63.8.2 9.8 5.9 36.5-3.2 41.5zM80 756.501c-3.8 20-1.8 40.4-2.2 60.7-.5 29.7 12.8 57 12.2 86.8-6-19.5-8.6-40.3-13.3-60.2-4.8-24.9-2.1-50.5-1.8-75.7.8-3.7-.3-11.5 5.1-11.3.1-.2 0-.3 0-.3z"}),i.react.exports.createElement("path",{d:"M361.9 223.701c-.3-.5-.7-1.2-1.4-2.5 27.6-9.6 56.2-16 82.2-29.9 11-4.1 21.3-11.6 33.3-11.9-17.3 9.2-35.2 17.6-52.9 26.2-19.2 9.7-41.4 10.1-61.2 18.1zm154.4-78.5c-33.3 16.2-68 29-103.8 38.3-5 1.3-10.2 2.2-15.3.5v-1c40.6-7.7 78.8-27.1 118.5-39 .3.3.5.8.6 1.2zm-313.2-41.7c23.2 12.4 46.8 30.6 52.3 57.5 3.3 16.5 15.2 61.7 3.1 73.9.1-14.7 1.2-29.3-1.7-44-3.1-18.7-5.4-38.2-16-54.5-9-14.4-24.9-22.3-37.6-33l-.1.1zM393.3 73.6c-17.2 32.201-21.2 71.101-29.9 106.701-4.1-27.1 8.6-53.9 13.6-80.3 2.6-8 6.8-24.8 16.3-26.4zm40.5-25.4c-17.3 32.7-28.9 68.401-39.1 104.101-.4-.1-.9-.1-1.3-.2 5.7-36.1 15.9-75.7 39.5-104.5.2.2.5.4.9.6zM338 218.201c-9.6-6.5 3.9-113.5 16.3-115-11.2 37.2-15.2 76-16.3 115zm-9.6 42.3c7.8-5.1 16.7-8.5 25.3-11.9 29.1-9.1 54.3-26.4 82.2-38l.6 1.2c-32.5 23.1-70.2 37.3-107.6 49.8-.2-.3-.4-.7-.5-1.1zm-125.2-157.1c-9.9-1.5-20.1-9.6-29.9-5.2-22.4 11.2-36.9 32.6-50.6 52.8 5.6-24.5 29.1-47 51.8-56.5-12.5-4.3-24.7-6-37.5-8.5-10.4-2.7-20.6 2.5-30.9 1.1 24.5-9.1 49.6 2.5 73.7 6.3 6.9 5.6 16.4 4.6 23.4 10zM483.5 33c-22.6 26.4-36.9 56.3-50.4 87.801-.5-.2-.9-.3-1.4-.5 7.6-29.1 24.9-72.6 51.8-87.3zM258.8 589.301c0-3.9 2.6-3.6 4.4-3.8 27.3-3 32.3 27.4 22.1 45.6 12.1 8.1 24 15.8 26.3 31.9-2.1-1.1-3.1-3.1-3.7-5.3-3.3-10.6-12-20.3-23.5-20.7-8.9-2.6-4.8-11.9-1.9-17.8 7.5-22.9.6-32.7-23.7-29.9zm-177.5-247.7c-12.4-13.7 67.7-36 78.3-40.1 14.3-4 30.7-4.5 44.4 1.3-13.5-2.9-27.3-3.6-40.7.7-27.5 10.6-61.2 15.8-82 38.1zm229.7-44.4c18.2-3.3 32.5-14.2 47.8-23.8 11.1-6.3 21.2-11.4 33-17.2-1.1 3.9-1.7 5.9-5.1 7.5-24.4 13.2-46.6 32.8-75.3 34.9-.1-.5-.3-.9-.4-1.4zm253.7-178.2c-38.8 15.7-80.8 17.3-120.8 27.4-4.9-6.1 33.9-9.5 38.6-11.2 27.6-4.1 54.4-11.7 81.7-17.2.2.3.4.7.5 1zm-476.5 464.9c32-2.4 21.4 39.3-4.7 39-14.4.2-16.6-17-14.3-28.2 1.3-8.8 11.1-11.8 19-10.8zm-6.1 37.7c7.1-2.3 12.6-3.6 16.5-10.2 7.6-7.9 6.2-25.7-6.6-26.4-8.6-1-17 2.5-17.9 11.9-1.1 9-1.5 20 8 24.7zm220.5 95.6c-24.4.5-22.9-35.3-.7-34.8 7 0 16.9 10.4 17.1 17.8.2 7.7-8.8 17-16.4 17zm-1.4-26.7c-8.4-7.2-13.1 10.2-11.5 16.5 3.5 14.4 25.6.8 24.3-10.1-.1-7.5-5.7-11.5-12.7-9.3 0 1.1-.1 2.1-.1 2.9zm305.6-586.9c-16.1 2.5-32.4 3.6-48.6 5.5-21.3 1.3-43.8 5.9-64.6-.3 37.9.7 75.4-7.8 113.2-6.5.1.5.1.9 0 1.3zm-465.2 83.8c5.4 27.2-7.3 56.5-21.6 79.3-.5-.2-.9-.4-1.4-.6 8.8-25.8 19.4-51 21.2-78.5.6-.1 1.2-.2 1.8-.2z"}),i.react.exports.createElement("path",{d:"M67.5 168.001c-3-17.8 27.2-74.7 48.9-68.1-26.6 12.9-36.2 41.2-48.9 68.1zm2.1 73.5c-18.3 26.9-24.3 59.7-37 88.7-.1-14.3 22.6-89.6 37-88.7zm11.1 56.4c8.5-26.4 8.3-53.5 10.4-81 3.3 1.9 2.9 5 3.1 8.2-2.5 21.9 4 56.9-13.5 72.8zM249.9 94.5c20.1 23.401 30.5 56.101 30.9 87.301-.4.1-.9.2-1.3.3-3.8-10.6-5.1-21.8-7.6-32.8-3.3-19.9-14.9-36.2-23-54.1.3-.1.6-.4 1-.7zm273.5-67.3c-19.7 23.7-38.8 46.8-58.2 70 1.9-12.7 46.7-67.2 58.2-70zM149.1 625.301c24.6.3 20.2 37.3-3 32.5-13.3-6.9-16.8-33 3-32.5zm.4 30.6c11.5-2.4 15.1-19.1 5.7-26.1-14-10.8-20.1 16.4-8.8 23.4.8-.8 1.5-1.6 2.6-2.8.2 2.2.4 3.8.5 5.5zm23.4-466.2c.8 18.7-19.2 60.9-32.9 70 12.9-23.3 21.7-46.4 32.9-70zm-71.1 90.5c3.5-25.9 5.7-50.6 7.6-76 10.3 17.6-.5 56.8-6 76.3-.5-.1-1-.2-1.6-.3zm220.3-126.1c-10 31.3-7.1 63.7-6.4 96-6.5-10.2-4.6-23.9-5.3-35.6-.6-20.8 1.2-41.7 10.5-60.7l1.2.3zm-174.4 414.4c-17.8-6-10.3-33.5 7.4-28.3 6 1.8 8.9 6.2 8.6 13-.6 18.1-16.5 9.2-16 15.3zm-2.8-4.7c7 .7 11.1-1.9 12.5-8.4.6-4.4 1.8-11.3-3.2-13.5-10.1-.6-14.5 13.8-9.3 21.9zm245.7-282.7c-10 15.8-29.2 22.6-46.2 27.8-13.7 3.6-27 8.1-39.4 15-4.4 2.5-4.6 2.3-8.8 1.8 29.3-19.8 67.6-19.9 94.4-44.6zm-222.4-23c12.9-19.4 23.4-41.6 35.5-61.2 2.5 1 1.6 2.7.9 4.2-8.6 20.4-18.4 43.8-36.4 57zm118.3-128.9c-10.2-24.7-19-49.9-33.2-72.7 16.5 11.2 30.7 52.4 34.4 72.5-.4 0-.8.1-1.2.2zM152.7 97.3c-.8-1-1.7-2-2.6-3.1-19.4 14.001-33.5 35.401-50.5 51.901 3-7.9 47.9-70.3 53.1-48.8zM59 308.901c-.7-6.9 11.7-62.8 19.2-60.4-5.5 20.5-10.1 40.9-17.3 60.6-.6-.1-1.2-.1-1.9-.2zm98.3 5.8c-7.4 21.9-14.5 43.3-17.1 66.3-9.4-4.4 8-63.6 17.1-66.3zm-37 20.3c-10.7 19-17.2 39.3-20.9 61-8.5-7.2 9.6-61.9 20.9-61zm13.9-7.8c-2.8 22.2-13.6 42.7-15.5 65.2-10.1-10.7 10.4-51.5 14.1-65.5.5.2 1 .2 1.4.3zm-37.9 21.7c-13.3 21.2-22 43.5-26.7 67.6-2.3-17.1 10.5-60.6 26.7-67.6zM291.4 98C290 70.7 281.1 56.1 270 32.8c.3-.2.6-.3.9-.5C284.2 50.7 299 74.5 291.4 98zm-92.1 10.901c-20.9 12.6-39.9 26.4-57.5 42.4 8.6-13.5 41.3-43 57.5-42.4zm-41.3 266.1c-8.6-6.2 12.4-59.2 21.2-64.2-9.4 21.1-17.8 41.8-21.2 64.2zm-110.6-236.2c2.7-14.8 15.1-24.4 23.1-36.5 5-5.3 12.4-12.3 20.3-7.5-14.7-.5-32.9 32.9-43.4 44zm282.2 624c-14.8-1.5-14.1-19.6-.7-22.2 17.8 2.3 17.1 20.6.7 22.2zm-6.7-9.6c-.7 14.9 19.4.1 13.7-7.5-5.6-4.7-13.7 1.3-13.7 7.5zM213 47.3c15 11.8 23.6 49.7 20.6 66.101-5.8-22.5-7.3-46.4-20.6-66.1zm323.1 32.3c18.7-10.8 50.8-3.3 72.7-5.3 2.8.3 3.7-.1 6.2 2.3-26.9 1.3-52.9-3.5-78.3 4.4-.2-.4-.4-.9-.6-1.4zM194.3 256.001c9-16.3 18.2-32.3 24.4-49.9 8 5.3-15.8 47.6-24.4 49.9zM506.5 75.3c4.9-6.4 34.3-40.3 41.3-33.4C534 53.2 521.7 65.6 507.3 76c-.3-.3-.5-.5-.8-.7zM65.8 354.901c-8 16.4-15.8 32.6-23.8 49.1-1.8-14.7 9.7-26.7 14.6-39.9 2.6-3.3 3.5-10.6 9.2-9.2zM175.2 40.6c21.3 8.8 31 37.1 35.3 57.6-5.3-3.4-5.6-10.3-8.3-15.4-5.9-16-12.7-31.8-26.9-42.3l-.1.1zm42.6 85.001c-17.6 6-30.5 18.7-44.6 30.2 2.7-12 31.2-31.2 44.6-30.2zM183.2 88.4c-3.5-3.5-5.6-7.9-7.7-12.3-7.1-17.2-22.7-24.6-36.6-34.7 21 8.8 39.7 23.4 44.3 47zM64.3 698.701c6.4 1.1 2.2 7.4 6.4 10.1 6.1-2.1 8.9-8.5 6.7-15.1-4.2-1.1-7.3 2.2-11.2 3.1-1-8.2 12.9-6.9 15.7-1.7 3.3 5.9-3 18.1-9.6 15.6-5.7-1.4-8.9-6-8-12zm-8.1-478.6c-8 12-15.5 23.5-23.2 34.8-1 1.5-1.7 4-4.5 3.4 1.2-8 18.6-32 27.7-38.2zm240.5 12.7c.6 15.5 1.1 31 1.7 46.5-.1.1-.3.2-.4.3-5.7-14.5-4.9-32.1-1.9-47 .1 0 .4.1.6.2zM108.1 51.8c20.3.3 35.4 8.7 43 28.8-19.1-15.8-12.2-23.9-43-28.8zm195.2 14c-2.9-4.4-12-35.3-12-40.5 5.2 4.1 12.7 28.9 12 40.5zm-76.5 161.201c.6 10.3-11 34.2-18.3 37.9 6.3-13.2 12.3-25.6 18.3-37.9zm-40.6 132c-4-11.5 3.1-34.2 13.4-43.8-7 14.7-10.8 27.5-13.4 43.8zm-129.7 179.9c-.5.2-1.1.4-2 .8-.2-13.7 9.3-13.4 16.5-4.4 3.8 5.1-1.9 11.8-7.5 8.5-2.4-1.3-4.5-3.1-7-4.9zm11.3-2.6c.3-5.5-8.7-5.7-8.3-.3-.1 7.7 8.3 7 8.3.3zm164.2-388.5c-12.8 3-23.5 10.4-35.7 15.7 5.1-7.8 25.3-16.7 35.7-15.7zm-25 204.2c-1.7-5.2 1.3-26 5.9-28.1 1.1 3.8-2 19.7-5.9 28.1zm-161.1-143.5c9.2-10.9 21.4-16.8 35-20.1-12.3 5.5-24.4 11.5-35 20.1zm16.1-26.9c4.9-6.1 25.3-10.5 41.5-8.5-15 1.1-27.8 3.7-41.5 8.5zM319.5 54.7c-2.2-10.2-4.3-20-6.4-29.9 5.3 4 8.7 19.5 6.4 29.9zM223 311.301c1.9 6.6 3.8 13.3 5.7 19.9-4.8-5.8-6-12.6-5.7-19.9zm17.6-140.2c-5.1-.4-10.2-.7-15.3-1.1v-.1c5 .6 10.9-1.5 15.3 1.2zm-23.7 139.7c-2.5-2.2-4.9-4.4-7.5-6.7 3.9.7 6.7 2.6 7.5 6.7zm23.7-139.7h5.1v.9c-1.8-.3-3.4-.6-5.1-.9z"}),i.react.exports.createElement("path",{d:"M175.4 40.5h-3.9c1.8-1.5 2.8-1 3.8.1l.1-.1zm1417.3 200.801c1.4.3 2.8.5 4.2.8l-.3.9c-1.2-.6-2.5-1.2-3.8-1.8l-.1.1zm-685.2 413.2v-7.4c-53.9 1.3-107.6-2.5-161.4-2.6-17.9.4-35.8 2.7-53.7 4.1-23.7-4.3-49.1-1.7-73.6-3.5-2.5-5.5 10.5-1.8 13.3-2.6 37.2-.3 74.3 3.5 111.4-.6-2.7-17.1-8-33.6-11.3-50.6-.4-6.8-12.8-29-.6-29.3 20.2-1.3 40.7-9.9 60.7-3.8-2.5 2-2.4 3.8-1.5 5.9 8.2 23.4 10.7 48.2 18.1 72.1 19.6.9 39.2-.2 58.8.2 5.1-.1 3.9 3.4 3.6 7.5-1.2-1.8-1.9-2.9-2.9-4.4-20.9-.2-42-.6-62.9-1.6-3.1-1.1-2.8 5-5.3 1.4-6.8-26.2-11.7-53.1-19.1-79.2-17 1.7-34.1 3.4-51.8 5.2 6.1 25.7 12.5 51 18.6 76.9 34.3.2 68.6 1 102.9 1.8 18.5.1 37.1 1.2 55.6.4 5.1.2.9 9 1.6 12.8-14 .4-27.3.3-41.3.3-1.8 0-3.1.4-4.1 2.1-20.2 31.7-41.2 62.7-61.6 94.2-33.8 56-71.8 109.3-107.2 164.2-1.3-.6-2.4-1.1-3.5-1.6 55.5-86.4 112.7-172.8 170.6-258-17.1-4.3-35.1-.9-52.7-2.1-36.2-.9-71.9-2.5-108.1 1 18 27 33.4 55.8 50.9 83.2 6.4 9.1 10.7 19.1 15.7 28.8.9 1.7.8 1.8-.6 4.6-7.9-8.8-9.7-21.9-17.7-31-14.4-20.8-25.2-43.8-39.6-64.6-15.8-26.1-8.1-19.7-37.3-21.1-.6-1.8.2-2.2 1.6-2.2 20.9-1.2 41.8-1.1 62.8-1.5 57.2-2.6 114.3 1.3 171.6 1zm-101.3-18.3c-7.3-25.6-9.8-52.8-19.6-77.3-.1 24.9 11.5 51.8 15.7 77.3h3.9zm215.2 17.7c-1.4-.1-2.8-.3-4.6-.4-1.7 4-3.5 8.2-5.6 13-1.2-3.3-.7-5.7.3-8.1 11-26.7 20.6-54.1 31-80.8.1 5.2-1.5 10.1-2.5 15.6 10.1.4 19.9-2.6 30-3.7 2.4-5.2 4.8-10.5 7.1-15.8 5.3 2-1.1 11.6-1 15.8-11.5 52-38.4 98.7-63.6 145.1 3.3 3.9 8.4 4.6 12.2 7.4-29.6 12-11.7-11-35.7 32.1-3.4 9.4-28.2 44.1-23.7 49.7 21.4 34.5 43.5 67.7 69.7 98.8-.9.7-1.6 1.4-2.7 2.3-28.2-30.2-50.1-64.2-71.6-99.4-2.1 5.3-8.1 9.6-6.1 15.2 7.8 15.2 17.6 29.3 26 44.2-2.9 2.2-4.7 2-6.4-1.1-7.8-13.7-15.2-27-23.2-40.9-8.5 13.8-17.5 27-27.4 39.8-5 4.9-19.5 35.7-26.2 28.9 16.2-24.7 34-48.5 48.4-74.5.8-1.4.5-2.6-.3-3.9-5.4-9.5-10.8-19-14.6-29.2 3.7-4.5 14.5 23.3 18 27.4 1.5-2.4 2.7-4.1 3.7-5.8 4.9-8.4 4.5-5.2.3-13.4-4-8.7-9.2-17-12-26.1 3.1-4.1 15.2 24.7 18.2 28.4 13.3-22.4 26.1-44.1 39-66-5.7-5.5-39.4 5.5-43.8.5 3.4-4.4 16.8-1.3 22.8-4 13.6-.5 21.8 2.3 30.8-11-1.4-.9-2.6-1.7-3.8-2.5l.4-.4c1.2.6 2.4 1.2 4.1 2 12.7-20.7 23.4-42.5 34.3-64.2 1.2-2.2-1.4-3.6 0-5.4-6.3-2.3-12.6-3.9-17.7-8l-.1.1c6.9 2.4 13.2 4.8 20.4 7.3 4.3-9.1 6.6-18.3 10-27.1-8.1-3.4-16.9-.4-25-4.7 8.4.9 16.9 1.8 25.7 2.7 1.1-3.5 2.2-7.2 3.5-11.2-10.4-.6-20.2-1.2-30.4-1.7-1.2 3-2.3 5.8-3.3 8.6 1.9.7 3.3 1.3 4.7 1.8h-5.5c-2.8 6.9-5.5 13.7-8.2 20.6 1.6.8 2.8 1.4 4.1 2.1l.3-.1zm18-59.2c-3 8.5-6.4 16.5-9.2 25.3 10.5.4 20.4.7 30.4 1 3.1-9.9 6-19.5 9-29.3-10.5-.5-20 4.2-30.2 3zm-27.4 141.7c-2.8 1.8-4.8 3.7-5.6 6.8 5.6.8 8.2.2 11.4-2.8-2-1.3-3.9-2.6-5.8-4z"}),i.react.exports.createElement("path",{d:"M782.3 799.301c3.6-.2 4.8 4 6.2 6.5 4.8 11.2 11.5 21.2 18.2 31.2 6.8 10.2 13.7 20.2 20.5 30.3 1.8 2.6 1.7 2.6 0 6.4-16.8-23.8-34.2-47.1-44.9-74.4zm94 64.6c-4.1-1.7-4.4-2.5-2.2-5.4 8.1-10.7 16.3-21.4 24.4-32.2 3.4-2.9 9.8-18.2 13.9-15.7-9.7 19.2-23.6 35.7-36.1 53.3zm-48.5-338.3c.2 3.3.4 6.5.7 9.9-6.2 1-2.8-7.3-3.6-11.1 8.1-1 16.4 0 24.6-.1 4.2.1 4.9.6 6.4 4.7 11.4-.5 8.1 11.7 7.7 19.2-5 .9-1.8-12.7-3.4-16.3-1.5-.1-2.9-.2-4.8-.4v12.1c-5.1 1.7-3-14-3.7-17.4-8.1-.3-15.9-.4-23.9-.6zm-9.1-35c7.5 5.8-6.5 12.5.7 13.9 9-8 32.5-4.9 24.3 10.5-1.5 1.9-3 4-5.7 3.5.3-3.7 4.6-5.7 5.1-9.5 2.2-8.1-15.7-6.9-19.4-3.1-4.4 4.1-11.7-3.9-7-7.6 2.1-2.4 2.9-4.9 2-7.7z"}),i.react.exports.createElement("path",{d:"M792.3 494.501c5.1-5.8 8.1-2.2 11.6 1.6 4.2 3.5 1.5 7.9.1 12.1 12 8.9 31.9-8.4 30.2 6.3-2.1-.3-1.3-2.4-2.3-3.7-56.2 8.3-9.7-19.7-39.6-16.3zm26.5-4c-4.7-2.5-10.1-3.6-15.1-5.2 0-.3.1-.5.1-.8 4.4-.4 7.5 2.9 11.9 2.9 1.7.2 3.2 1.1 3 3.3 0-.1.1-.2.1-.2zm206.9 165.1c-1.4-.6-2.8-1.1-4.3-1.7l-.1.1c1.4.6 2.8 1.1 4.2 1.7l.2-.1z"})),i.react.exports.createElement("path",{d:"M906.5 633.7c44.2-58.2 10.5-45 81.4-42.4 3.8-.9 3.7-.9 5 2.5 15.7 38.8 21.7 80.5 24.3 122.1 1.8 18.4-25.1 29.1-40.3 29.7-5.4 1.3-20.6-2.3-22.4 3.4-5.6 18.9-11.8 37.5-15.7 56.8-1.2 5.1-1.7 5.8-6.7 5.4-14.8-1.2-30-.9-43.4-8.2-37.2-14.7-75.3-27.1-111.5-44.4-9.6-5.1 1.6-16.1 2.9-23.3 4.9-20.6 17.7-40.3 38.1-48.2 10.9-6.4 23.6-5.8 35.5-9.7 18.6-3.1 36.3-10.4 55-11.7 4.3.1 5.3-4.7 8.5-6.7 1.8-1.5 2-3.2 1.3-5.3-3.6-6.9-2.1-18.9-12-20zm-10.1-33.6c-6.2-4.9-5.3-13-3.4-19.7 5.9-13.6 10.2-27.6 10-42.6.3-2.8-.6-7.2 2.2-8.7 6.2.2-3.3 36.4 2.4 38.8 5.2 2-11.7 23.7-11.2 32.2z",fill:"#007891"}),i.react.exports.createElement("path",{d:"M811.9 545.901c-4.5-4.5 4-9 7.9-9.8 7.1-1 13.4-4.1 19.5-7.5 2.5-1.4 5-.9 6.6 1.5 6.8 8.9 13.4 17.4 23.2 23.4 7.6-26.4 10.9-19.6 34.6-25.8-.5-4.4-4.5-5.9-6.4-9.1-19.1 14.6-24.7 4.1-29.6-14.8-13.1-4 5.4-15.5 2.8-23.4-1.8-5.6-.9-11.1-.5-16.7.5-4.9 7.8-5.5 11.5-3.3 15.5 8.6 22.3 22.2 21 39.5-.6 7.8.7 15.1 3.5 22.2.8 2 1.9 3.8.2 5.6 3.4 7.1 6.6 14 9.9 21 9.5-6.3-9.9-16.2-4.2-34.6 3-5.2 5.3 12 18.7 15.9 35.7-14.8 40.5 12.7 52 38.7.9 4.9 14.5 26.7 3.4 24.4-13-1.6-26.4-.8-39.2-3.9-7-1.2-5.6-1.3-8.8 3.5-14.6 14.7-21.7 34.7-36.2 49.5-3.8 4-8.6 4.3-14 4.3-14.4 3-15.4-12.7-16.7-23.1-25.9 20-13.9 21.9-51 14.3-5.3-18.1.8-38.4 1.4-57.1 1-4.2-4.2-5.8-5-10-2.9-8-9.8-16.4-4.6-24.7zm93.3-7.3c-1.5 7.9-1 18.6-4.4 26.9-5.3 9-8.7 20.1-5.2 30.3 3.9-9.4 9.8-17.7 12.5-27.6-6.1-5.9-1.6-22-2.9-29.6zm-62.4 28.8c.1 9.7 1.3 18.5 3.4 27.9 4.4-7.3 13-11.4 11.2-20.3-4.6-2.4-9.4-4.9-14.6-7.6zm-9.8 301.8c-10-37.4-31-70.3-43.8-106.4 12 0 21.9 8.1 33.2 11.2 9.4 3.5 18.9 6.4 28.3 9.8 6.3 3.2 16.2 4 18.1 11.9 5.5 22.8 2.8 46.5 6.4 69.5 1.9 13.9 24.7 36.6-.6 40.9-18.9 2.1-27.3 12.4-48.3 11.1-2.7.4-5.1.2-7.6-1.3-7.5-.9-15-.3-19.5-8-9.6 1.7-16-5.3-4.4-9.9 15.8-4.8 25.3-18.9 38.2-28.8z",fill:"#E39D77"}),i.react.exports.createElement("path",{d:"M890.4 475.699c-8.1.8-13.6-2.9-17.8-10.1-.5 2.6-.8 4.4-1.2 6.9-6.3-6.6 3.7-26.3 11.2-29.2 16.4-10.7 35.8-7.2 51.9 2.2 14.8 9.4 14.6 28.3 12.1 43.6-2.9 12.6 9.9 19 14.6 28.9 3.7 5.5 4.9 12.3 8.7 17.6 1 1.2 1.5 2.3.8 4-2.5.3-4.4-.4-6.1-2.5-15.6-22.1-29.1 14.1-50.1-14.2.7 9.7 4.5 17.5 7.5 25.8-14.5 3.2-21.7-28.9-24.6-39.6-.9-11.7-.2-23-7-33.4z",fill:"#7A3B24"}),i.react.exports.createElement("g",{fill:"#1E1919"},i.react.exports.createElement("path",{d:"M780.9 907.2c4.1-.8 11.7-.8 14.6-.1 8.3 2.4 2.6-9.2 11.4-16.3-1.2 4.4-2.1 7.9-3.2 12.2 6.7-.7 11.3-5.5 18-6.6 8-3.4 27.7-21.1 24.4-29.4-7.3-32.2-19.3-63.1-29-94.6l.9-.3c10.8 24.9 17.9 51.3 25.9 77.2 3.1 8.5 7.8 17.4 3.2 26.2-1.4 2.7-3.6 5.1-5.8 7.1-5.9 7 6.9 19.7 12.5 24.4-4.6 8.6 32.8-3.3 35 7.4-11.9 5.3-25.8 1.7-36.5 4.9-15.3 2.2-32.1 3.7-47.1-.8-2.6-1-4.7-3.3-6.8-5.4-4.2-5.5-14 .9-17.5-5.9zm28.5 6.6c-7.6-6.7 6.6-7 8.2-13.1-5 .3-10 4.5-14.9 6.3-2.2 1.1-2.4 2.9-1.6 5.1 5.1 2.7 9.1 1.3 15 2.5-3.2-3.3.1-5 1.1-7.6-3.7 1.8-8.5 1.8-7.8 6.8zm40.4-2.1c-4.4-13-19.6-6.6-29.4-5.6 1.5 4-4 4.6-3.1 8.2 1.2.1 2.4.1 3.7.2-.4-4.4.7-5.8 5-6.4-1.1 1.9-2.3 3.8-3.8 6.3 2.4.4 4 .6 5.7.9-1.1-4.4-1-4.5 2.2-5.1-.3 1.3-.5 2.6-.8 4 7 4 13.2-.8 20.5-2.5zM835.2 889c-4.3 5.7-10.6 8.9-14.9 14.4 7.8-1.6 15.5-2.4 24.3-.8-3.5-5-6.3-9.1-9.4-13.6zm70.9-354.6c2.6 7.4-2.5 31.5 2.2 33.7 5.1-13.2 8.1-27 18.9-37-16.3-11.5-16.2-46.8-14.8-65.3 2.7 17-.7 59.4 19.6 65.1-6.8 6.5-12.5 13.2-15.6 22.3-7.1 17.9-14.9 35.1-23.6 52.3-1.7.5-2.1-1-2.6-2.4-6.9-15.8-9.4-34.5-22.1-47 14.8 6.9 17.7 29.9 24.7 43.6.3 0 .6.1.9.1 4.6-9.9 9.3-19.7 14-29.8-3.7-1.9-4.2-5-4.1-8.4 1.2-6.2-1.1-23.7 2.5-27.1v-.1zm-74.5 31.3c-2.2 1.7-4.4 3.3-5.9 5.6-1 1.1-2.2 1.8-3.7 1.2-4-3 1.3-8.7 1.9-12.4-.3-.1-.5-.3-.8-.4-1.8 2.2-3.5 4.4-6 7.4-2-6.4 9.1-7.6 5.6-13.1-4.1 1.6-6.8 4.9-10.2 8 .6-4.1 1.7-5.2 9.5-9.7-.2-1.7-.3-2.5-.7-4.6-3.8 2-5.8 3.2-9.7 5.6 2.7-6.9 11.3-5.8 15.2-11.2-5.1-1.5-8.8 3.5-13.8 2.1 6.1-3.7 14.1-5.4 22-4.7-4 3.6-9.7 4.9-11.6 11.5 4.9-3.4 6.8-6.8 13-7.4-3.9 4.2-10.1 5.6-11.1 12.8 4.1-3 5.3-7.3 10.7-6.7-7.5 5.3-11.2 12.5-13 21 4.7-2.6 6.2-8.2 10.2-11.2 1.8 2.2 3.4 4.2 5.1 6.3.2-.2.4-.3.7-.5-1.6-1-3.2-2-5-3.2-1.2.9-2.7 1.7-2.3 3.8l-.1-.2z"}),i.react.exports.createElement("path",{d:"M903 532.2c1.1 9.9-.4 20.3-.9 30.4-.3 2.1-.2 4.9-1.5 6.2-4.2 7.4-4.5 14.8-7.5 23.5-3.3-7.1 2-14.7 3.8-21.7 1.9-7.6-8.7-12.4-9.8-19.5 5.6 3.7 6.6 10.2 12.2 14.1 2-11.2 1.9-22.1 3.7-33zm3.2 2.4c-8.7-22.8-10.6-48.4-8.4-72.5 2.2 27.6-1 57.5 15.8 81.4-.2.2-.5.4-.7.6-2.6-3-4.6-6.3-6.8-9.7l.1.2zm51.4 32.5c-6.7 7.4-11.7 16.4-19.4 22.7-.3-.2-.5-.3-.8-.5 1.8-6.1 13.5-22.2 20.2-22.2z"}),i.react.exports.createElement("path",{d:"M912.2 529.9c-4.7-7.9-8.7-38.5-6.7-46 1.3 14.9 3.7 31.1 6.7 46zm-18.3-45.7c-6.6-11.9-6.1-24.4-2.7-37-.4 12.4-1.4 24.9 2.7 37zm29.8 9.8c3.6 13.6 7.6 26.2 21 33.7-11.1-2.2-24.2-23.2-21-33.7zm-63.5 88.3c3.9 13.1 8 26 11.3 39.1-.3.2-.6.3-.9.5-.5-.6-1.4-1.1-1.5-1.8-2.5-12.4-7.8-25.9-8.9-37.8zm-15.6 14.6c1.8 9.7-1.1 18.9-2.3 29-3-7.8 1.1-20.2 1.1-29.1.4 0 .8.1 1.2.1zm93.1-147.2c6 8.4 6.7 28 5.4 37.9-1.1-12.9-1.3-25.2-5.4-37.9zM906.5 475c-4.2-12.1-1.6-24.3-2.6-36.3.4 0 .7 0 1.1-.1.5 12.1 1 24.1 1.5 36.4zm41.5 26.5c-8.3-7.6-17.1-14.9-17.1-27.5 3.7 10.5 9.3 19.5 17.1 27.5zm-65.1-52.8c.4 0 .8-.1 1.1-.1-1.5 8.1-3 16.1-2.3 24.8-4.7-6.4-.6-17.6 1.3-24.8l-.1.1zm56.4 54.1c-7.6-6.9-12.2-17.6-13.3-27.7 2.8 10.3 8.2 18.5 13.3 27.7zm-12.2-35c-2.9-8.9-5.7-17.9-8.6-26.9 5.1 8.2 7 17.5 8.6 26.9z"}),i.react.exports.createElement("path",{d:"M883 448.6c-5.2 5.6-6.4 13.7-5.8 21.3-3-5.1-.5-16.8 4.8-22.4.3.4.6.8.9 1.3 0-.1.1-.2.1-.2zm47.3-.9c5.7 6.5 7.3 14.4 7.9 22.7-1.8-7.9-3.7-15.7-7.9-22.7zm-98.8 118.1c4.9 3.9 3.9 10.4 3.9 15.9-.3 0-.6.1-.8.1-.7-5.4-1.9-10.9-3-16.1l-.1.1zm45.5-80c1.1-.2 2.1-.4 3.4-.7-1.1 1.2-2 2.2-3 3.4-1.1-.1-2.7-.3-4.5-.5 3.2-1.8-.6-4.9 1.7-7.8.9 2.1 1.6 3.8 2.4 5.6zm42.5-27c-1.7-5.8-3.4-11.7-5.4-18.3 3.9 6.1 5.1 12.1 5.4 18.3zm34 60.9c2.8 2.5 5.6 4.9 8.3 7.4l-.7.7c-2.7-2.5-5.8-4.6-7.6-8.1zm-10.9-12.6c3 2.4 6.1 4.7 7.6 8.4l.1-.1c-2.6-2.8-5.1-5.6-7.7-8.3zm-71-3.5c-.8-.5-1.3-.8-1.7-1 .4-1.5.8-3.1 1.3-5 1.4 2.1 1.7 3.8.4 6zm.5 7.6c1.8-.4 3.5-.9 5.7-1.4-1.9 2.1-1.9 2.1-5.7 1.4zm2.9-13.6c-.2-1.2-.4-2.5-.7-4.4 2.1 2 2.1 2 .7 4.4zm61.7 9.5c1 1.3 2 2.6 3.1 3.8-.3.2-.6.3-.8.5-.7-1.5-1.4-3-2.1-4.4l-.2.1zm2.9-27.7c-.5-1.8-1-3.5-1.5-5.3.2-.1.5-.1.7-.2.3 1.9.6 3.7.8 5.5zm-.4 23.4c1.1 1.4 2.2 2.8 3.4 4.2l.1-.1c-1.2-1.3-2.3-2.8-3.5-4.1z"}),i.react.exports.createElement("path",{d:"M953.6 519.6c-1.1-1.4-2.2-2.8-3.4-4.2l-.1.1c1.2 1.4 2.3 2.8 3.5 4.1zM936.8 507c-.9-1.1-1.8-2.2-2.7-3.2.3-.2.6-.4.9-.5.5 1.2 1.1 2.5 1.8 3.7zm2.8-27.6c.1 1.2.1 2.5.2 3.7h-.2v-3.7zm4 238.6c-7.9 27.3-22.9 52.5-32.4 79.5-11.2 2.6 29-72.2 31.6-79.8.3.1.6.2.8.3zm-18.9-36.9c-14.5-1.3-28.9-4.5-43.5-1 4.1-3.3 4.1-3.3 23.9-3.3 5.6-4 10.2-12.1 16.6-13.7-2.6 5.7-6.5 10-11.1 14.2 4.7 2.3 10 .8 14.1 3.8zm38.2 59.1c.7-2.2 5.8-31.6 8.7-20.7-1.9 6.1-.3 20.3-8.7 20.7zm-32.8-70.7c9.9 1.5 19.5 7.1 29.1 10.3-3.7 0-25.8-8-29.1-10.3zm2.9-44c8.8 4.3 17.6 9.8 24.8 17-8.2-5.7-17.1-10.5-24.8-17zm.1 0c-2.6-.1-3.8-2.3-5.4-3.8 2.5.3 4.1 1.8 5.4 3.8z"})))};function Pa(e){return e.canDownloadRoles.length>0}Ra.displayName="RemoteWorkHeroIllustration";const Aa=({encryptionOptions:e,logUserAction:n,isFolder:r,shareToken:o,linkUrl:s,handleClick:l,implicitTOSVariant:c})=>{const[u,p]=i.React$1.useState(!0),_=()=>{p(!1),null==n||n("post_download_signin_modal_close","post_download_signin_modal")},m=d.intl.formatMessage({id:"RfGyPH",defaultMessage:"Close"});return i.React$1.createElement(a.Modal,{open:u,isCentered:!0,onRequestClose:_},i.React$1.createElement(a.Modal.Header,{hasBottomSpacing:"title-standard",className:"naming-conventions__header"},i.React$1.createElement(Ra,{aspectRatio:"16:9"})),i.React$1.createElement(a.Modal.Body,{hasVerticalSpacing:!0},r?i.React$1.createElement(a.Title,null,d.intl.formatMessage({id:"gGscZD",defaultMessage:"Your folder is downloading"})):i.React$1.createElement(a.Title,null,d.intl.formatMessage({id:"I4X18Q",defaultMessage:"Your file is downloading"})),i.React$1.createElement("div",null,i.React$1.createElement(a.Text,null,d.intl.formatMessage({id:"F2Wlhv",defaultMessage:"In the meantime, sign up for Dropbox to have secure access to all your files. "}))),i.React$1.createElement(a.Text,{tagName:"span"},d.intl.formatMessage({id:"NoO24L",defaultMessage:"Collaborate with friends, family, and coworkers from any device."}))),i.React$1.createElement(a.Modal.Footer,null,i.React$1.createElement(a.Button,{variant:"transparent",onClick:_},m),i.React$1.createElement(a.Button,{variant:"opacity",onClick:()=>{l(w.Mode.LOGIN,t.AuthMode.LOGIN,o,s,e,c)}},d.intl.formatMessage({id:"N0xz5m",defaultMessage:"Sign in"})),i.React$1.createElement(a.Button,{variant:"primary",onClick:()=>{l(w.Mode.REGISTER,t.AuthMode.REGISTER,o,s,e,c)}},d.intl.formatMessage({id:"5KEf7W",defaultMessage:"Sign up"}))))};function xa(e){var t;const n="dbx_previews_log_out_download_modal";if(function(e){const t=window.localStorage.getItem(e);if(!t)return!0;const i=JSON.parse(t);if((new Date).getTime()>i)return window.localStorage.removeItem(e),!0;return!1}(n)){a.Modal$1.showInstance(i.React$1.createElement(Aa,Object.assign({},e))),e.isFolder?Ca(e.shareToken,e.linkUrl):null===(t=e.logUserAction)||void 0===t||t.call(e,"show_post_download_signin_modal","download");const r=(new Date).getTime()+864e5;window.localStorage.setItem(n,JSON.stringify(r))}}const Ca=(e,t)=>{const i=e&&e.linkType===a.SharedLinkType.Content?a.ShareTibEventLogger.get_scl_extra_for_logging(e,t):a.ShareTibEventLogger.get_shmodel_extra_for_logging(e,t);return a.ShareTibEventLogger.log_unauth("VIEW_POST_DOWNLOAD_SIGNIN_SIGNUP_MODAL",a.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE,i)},Ma=e=>a.Snackbar.sync(d.intl.formatMessage({id:"Adz4fH",defaultMessage:"Saving to your personal Dropbox..."}),!1,e);var Oa=Object.freeze({__proto__:null,saveCopySnackBarInProgress:Ma,saveCopyFailedSnackBar:(e,t,i)=>a.Snackbar.fail(p.renameError(e.error),i)});function Na(e,i,a,n,r,o,s){if(n)if(i("save_to_dropbox"),a)vi({file:e,user:a,shareToken:n},{onNetworkRequest:()=>{Ma(c.PREVIEWS_SNACKBAR_ID),i("save_to_dropbox_approve")},onModalClose:()=>{i("save_to_dropbox_cancel")}},s);else{const e=new URL(window.location.href);e.searchParams.set("copy_to_dropbox","true"),window.history.replaceState(e.href,"",e.href),ni({mode:t.AuthMode.REGISTER,sharedLinkUrl:e.href,kind:t.LoginOrRegisterKind.DOWNLOAD,encryptionOptions:r,loggingExtra:{source:"save_to_dropbox"},signupTag:o})}}function Da(n,s,l,c,d,u,p){const _="has_seen_download_signup_modal";if(c===w.LoginOrRegisterKind.DOWNLOAD&&!a.LocalStorage.get(_)){const t=()=>{a.LocalStorage.set(_,!0)},n=()=>{a.LocalStorage.set(_,!0)};return void new Promise((function(t,i){e(["./c_auth_login_or_register_modal"],t,i)})).then((({LoginOrRegisterModal:e})=>{a.Modal$1.showInstance(i.React$1.createElement(e,{downloadAction:w.DownloadAction.DIRECT_DOWNLOAD,id:"shared-link-download-signup-modal",initialMode:w.Mode.REGISTER,kind:c,onAuthenticateSuccess:t,onCancel:n,signup_tag:"shmodel_download_register",encryptionOptions:l,loggingExtra:{source:"download_button"}}))}))}o.downloadSingleFile({href:n.href,source:"PREVIEWS",isFswm:r.isSharedFile(n)});const m=(e,i,a,n,r)=>{ni({mode:i,kind:t.LoginOrRegisterKind.DOWNLOAD,encryptionOptions:r,loggingExtra:{source:"post_download_modal"}}),null==d||d(i===t.AuthMode.LOGIN?"post_download_signin_modal_login":"post_download_signin_modal_register","post_download_signin_modal")};if(!s){!(n.href.indexOf("scl/fi/")>=0)&&p?a.publishEvent(a.CampaignEvents.DOWNLOAD_BUTTON_CLICKED,{context:{file_extension:r.getExtension(n),file_name:r.getFilename(n),file_path:r.isSharedFile(n)?n.href:void 0}}):xa({encryptionOptions:l,logUserAction:d,isFolder:!1,shareToken:u,linkUrl:n.href,handleClick:m})}}var ka=Object.freeze({__proto__:null,saveToDropbox:Na,downloadActiveFile:Da});function Fa(e,t,{allowCopyToDropbox:i,shareToken:a,encryptionOptions:n,sharePermission:r,authModalKind:o}){return{copyToDropbox:!i||r&&!Pa(r)?()=>{}:({logModalConfirm:i,logModalCancel:r})=>{const{file:o}=t();Na(o,(e=>{"save_to_dropbox_approve"===e?i():"save_to_dropbox_cancel"===e&&r()}),e,a,n)},downloadFile:()=>{const{file:i}=t();Da(i,e,n,o,void 0,a)}}}let La;function Ua(){(function(){const e=document;return null!=e.fullScreen?e.fullScreen:null!=e.webkitIsFullScreen?e.webkitIsFullScreen:null!=e.mozFullScreen?e.mozFullScreen:null!=e.msFullscreenElement||null!=e.fullscreenElement})()||(null==La||La(),$a())}function Va(){null==La||La(),za()}function Ba(){var e;e=Ua,document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),document.addEventListener("mozfullscreenchange",e),function(e){window.addEventListener("popstate",e)}(Va)}function $a(){var e;e=Ua,document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e),document.removeEventListener("mozfullscreenchange",e),function(e){window.removeEventListener("popstate",e)}(Va),La=()=>{}}function ja({onExitFunction:e}){!function(e){La=e}(e),function(){const e=document.body;null!=e.requestFullscreen?e.requestFullscreen():null!=e.msRequestFullscreen?e.msRequestFullscreen():null!=e.mozRequestFullScreen?e.mozRequestFullScreen():null!=e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}(),Ba()}function za(){$a(),function(){const e=document;e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()}()}function Ha(e){return{enterFullScreen:(t,i)=>{i||ja({onExitFunction:t}),e&&e(!0)},exitFullScreen:t=>{t||za(),null==e||e(!1)}}}function Ka(){return{print:(e,t)=>{var i;t===F.PreviewType.SsrDoc?(i=e,a.safe_open_tab_and_redirect(i)):t===F.PreviewType.Image&&function(e){const t=window.open("about:blank");if(!t)throw new Error(d.intl.formatMessage({id:"X9xK6f",defaultMessage:"Could not open new window"}));window.setTimeout((()=>{const i=t.document.createElement("style");i.innerHTML="\n      @page { margin: 0;}\n      img { max-width: 100%; max-height: 100%}\n    ",t.document.head.appendChild(i);const a=t.document.createElement("img");a.src=e,a.onload=()=>{t.print()},a.onerror=()=>{t.close()},t.document.body.appendChild(a)}),50)}(e)}}}function Wa(e){return!(e&&e.canPrintRoles&&0===e.canPrintRoles.length)}function Ga(e,t,i,a,n){return{closeViewer:e?()=>{e()}:void 0,flipToNextFile:t,showAuthModal:n,flipToPreviousFile:i,restorePreviousVersion:a}}function qa(e,t,i,a,n,r,o){return{closeViewer:i?()=>{i()}:void 0,openVersionHistory:()=>{const i=t();B.redirectToVersionHistory(i.file,e)},flipToNextFile:a,flipToPreviousFile:n,restorePreviousVersion:r,updateFiles:o?()=>o():void 0}}function Ya(e,t,i,a,n,r){return{closeViewer:i?()=>{i()}:void 0,flipToNextFile:a,flipToPreviousFile:n,restorePreviousVersion:r}}function Ja(e,t,i){return{closeViewer:e?()=>{e()}:void 0,flipToNextFile:t,flipToPreviousFile:i}}const Qa=[F.PreviewType.HTML];function Xa(e,t,i,a){if(e&&t&&i)return e.open_in_app_data;if(U.iOS&&a){const t=encodeURIComponent(e.fq_path),i=encodeURIComponent(a.id);return{platform:it.IPHONE,iOSAppUrl:`dbapi-5://1/viewPath?path=${t}&userId=${i}`,iOSAppStoreUrl:"https://itunes.apple.com/us/app/dropbox/id327630330?mt=8e"}}if(U.is_android()){const e="/dl/home/mobile?mobile_app_fallback";return{platform:it.ANDROID_MARKET,androidAppUrl:e}}}const Za=["ON"],en=()=>Za.includes(L.fileViewerFeatureExperiments.enableFvsdkPdfEditor);function tn(e){const t=e/60;if(t<2)return"0-2 minutes";if(t<5)return"2-5 minutes";if(t<10)return"5-10 minutes";if(t<30)return"10-30 minutes";const i=t/60;return i<1?"30 minutes - 1 hour":i<5?"1-5 hours":"5+ hours"}const an=e=>"."+r.getExtension(e),nn=e=>z.AUDIO_EXTS.includes(an(e)),rn=e=>z.TRANSCODE_VIDEO_EXTS.includes(an(e));const on=e=>{const t=P.URI.parse(e).getQuery();return(t.t||"")+":"+(t.e||"")},sn=({href:e})=>!!e&&(e.includes("/sh/")||e.includes("/scl/fo/")),ln=(e,t)=>{return!!("ON"===L.fileViewerFeatureExperiments.fvsdkTextEditing&&e&&(null==t?void 0:t.canDownloadRoles.length)&&!U.is_mobile_or_tablet()&&(i=an(e),z.HTMLIFIED_PREVIEW_EXTS.includes(i)||z.NON_GENERATED_HTML_EXTS.includes(i)));var i};function cn(e,t){return{subscribe(i){var a;const n=t(),r=(null==n?void 0:n.file.file_id)===i?null===(a=null==n?void 0:n.sharedLinkInfo)||void 0===a?void 0:a.url:void 0;B.BeaconPresenceHelpers.transmitBeaconData({prevBeaconFileData:null,beaconFileData:new B.BeaconFileData(i,r),user:null!=e?e:null,passSessionId:void 0})},unsubscribe(i){var a;const n=t(),r=(null==n?void 0:n.file.file_id)===i?null===(a=null==n?void 0:n.sharedLinkInfo)||void 0===a?void 0:a.url:void 0;B.BeaconPresenceHelpers.shutdown({beaconFileData:new B.BeaconFileData(i,r),user:null!=e?e:null,async:!0})}}}const dn=({activePreviewFile:{file:e,sharePermission:i},previewSurface:a})=>{var n;return a!==t.SDKPreviewSurface.VERSION_HISTORY||r.isSharedFile(e)&&!!(null===(n=null==i?void 0:i.canViewMetadataRoles)||void 0===n?void 0:n.length)};function un(e){return{getQueryStringParameter(e){const t=a.get_uri().getQuery();return e in t?t[e]:null},getAllQueryStringParameters:()=>$.DBHistory.get_uri().getQuery(),setQueryStringParameter(e,t){const i=$.DBHistory.get_uri();null!==t?i.updateQuery(e,t):i.removeQuery(e),$.DBHistory.push_state(i.getPath(),i.getQuery())},onQueryStringParameterChange(e,t){const i=`/${a.get_uri().getPath().split("/")[1]}`,n=(i,a)=>{let n=null;if(e in a){const t=a[e];n=t instanceof Array?t.length?t[0]:null:null!=t?t:null}t(e,n)};return $.DBHistory.add_callback(i,n,!0),()=>$.DBHistory.remove_callback(i,n)},openFile(t,i){if(i){const i=a.preview_uri_for_fq_path(e,t);a.replace_location(i)}else{const i=a.get_browse_root(e)+P.URI.encode_parts(t);a.replace_location(i)}},redirect(e,t){t?a.safe_open_tab_and_redirect(e):a.redirect$1(e)},reload(){a.reload()},replaceState(e){const t=$.DBHistory.get_uri();$.DBHistory.replace_state(t.getPath(),e)}}}const pn=e=>{var{altText:t,inverse:a}=e,n=s.__rest(e,["altText","inverse"]);const r="dig-Illustration dig-Illustration-spot"+(a?" dig-Illustration--inverse":"");return i.react.exports.createElement("svg",Object.assign(Object.assign({role:"presentation"},n),{className:r,viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg"}),i.react.exports.createElement("title",null,t),i.react.exports.createElement("g",{fillRule:"evenodd",clipRule:"evenodd"},i.react.exports.createElement("path",{d:"M177 132c-32.7.9-65.7 2.7-98.1 6.7-3.3.3-6.7.7-10.1 1.2-19.4 2.4-36.9 3.1-56.1 6.5-4.1 1.1-20.5 1.5-8.2 5.3 13.8 3.4 26.8 8.2 40.3 11.7 16.5 4.4 30.8 7.7 47.4 11.3 17.1 4.8 33.6 10.3 50.9 14 3.6 1 6.9 1.8 10.6 2.8 3 .4 4.3 2.3 5.5-.3 2.9-7.4 5.4-14.9 8.6-22.2 1.5-3.2 4.9-8.5 6.3-12.4 1.5-3.2 3.5-10.2 6.8-12.1 31.9-16.6 29.8-11.3-3.9-12.5z",fill:"#CD2F7B"}),i.react.exports.createElement("path",{d:"M319.9 165.1c-6.6.4-15.9 1.9-22.3 3-8.1 1.1-10.6 1.2-18.2 4.5-4.3 1.4-16.4 15-22.2 17.8-2.6 1.5-8.6 7.3-8.9 9.8 2.6 8.5 14 2.9 18.8-.5 4.7-2.4 11.8-5.6 16.1-8.9 2.7-3.2 7.4-1.9 9.5-.5-1 1.9-3.6 5.8-4.6 8.3-.5 1.1-.4 1.1-2.5 1.4-6.7.5-11.5 9.3-7.3 15 1.3 2.1-.1 4.4-.6 8.1-.7 2.8-1.1 10.7 1.1 12 6 6.1 10.9-5.1 12.4-10.6.6-1.7.8-4.9 1.9-5.2.3.1 3.8.4 4 .6.1.1 0 1-.2 2-.4 5.4-1.8 14.2 2.3 20.8 5.9 2.2 9.6-1.4 9.1-8.6-.5-6.2 1.8-10.7 5.2-15.2 1-.1 3.5.8 3.6 1.2-.9 1.6-5.3 8-6 10.5-.6 3.4-2.5 14.9 3.9 12.6 1.7-.5 2.2-1.2 3.8-4.3 3.1-6 5.9-10 9.5-14.6 5.4 1.1 13.9 3.8 18.2 3.5 2.5.2 12.5-.5 14.1 0 1 .4 9.7.2 10.4.8 6 3.5 6.1 5.1 10.9 12.9 9.5 17.6 16.4 31.7 26.8 49.2 3.2 4.6 3 9.5 5.2 3.6 3.7-8 9-13.5 13.6-22.4 5.3-9 9.8-21.5 12.2-30.7 2.8-8.4 2.3-8.8-2.8-15.5-24.9-34.2-28.3-35.2-67.6-46.8-6.2-2.6-16.6-5.8-23-7.9-1.8-.4-8.2-4-9.5-3.6-1.1 0-1.4-.1-2.3-.6-4-1.5-9.3-1.8-14.6-1.7z",fill:"#B06330"}),i.react.exports.createElement("path",{d:"M128.1 144.4c-18.4 1.5-37.2 1.7-57.1 1.8-17.5 1.5-42.6.6-59.5 2.6-2.4-.1-1.5 1.1-.2 2.5 1.5 1.2 5.4 1.7 7.1 1.1 3.5-.1 6.7.1 10.9-.3 12.5-.6 25.9.1 38.5-1.1 6-.7 12.8.2 19-.3 2.2-.4 2.3-.4 3.9-.1 12.4.4 24.9-1 37.3-1.3 2.8-.5 2.3-.6 5.3 0 4.4-.1 7.5-.4 10.5-.1 8.4-.5 17.8.5 26.9-.2 0-.1 7.5-.3 7.6-.4.6-.2.7-.8.1-2.5-.6-1.9-.7-1.9-3.8-1.8-2.9.2-7.1.3-9.8.6-6 0-13-.7-19.3-.4-3.7.7-6-.5-10.1.1-2.8.7-4.7-.5-7.3-.2zm46.6 7.6c.1.5.4.6.5.1 0-.5-.7-.6-.5-.1zm144.8 26.9c-1.7 4.4-1.9 13.8-.8 17.2.5 1.2.2 1.4-.6 1.4-2.7-.7-9.1-2.5-9.5-6.4-.1-1.1-.8-2.1-1.2-1.8-3.8-.9-2.6-7.2-2-10.3-.3-.3-1.1-1.4-1.3-1.4-.9.7-1.9 8.1-.5 9.1-3.3 1.3-7.7 1.8-9.8 1.8 1.6 3.2 7.3 1 10.7 0 2.6 2.2 3.8 5 6.3 7.4-5.3 4.8-7.8 3.8-14.4 3.8-1.4-1.4-7.1-7.6-3.6-1.9.5.7.9 1.4 1 1.5.1.1-.7.2-2.6.2-2.5 0-2.9 0-3.6.4-1.3 1-2.3 1.2 1.4 1.1 3.9.1 8.2 1.7 12 .8-.1 1.9-.2 5.7-.3 7.6 1.6 1.6 2.9 3.3 2.5-1.7-.1-4.4-.1-4.6-.8-5.3l-.6-.6c5-.3 11.2.9 15.1-.9 5.9-2.9 8.6-7.9 16.3-8.9-.1-1.8-1-.9-2.8-.6-3.2.7-4.8 1.4-7.6 3.2-2.4 1.6-2.5 1.6-2.6 1.3-.4-2.5-.5-10.6.6-14 .4-1.4.7-2.6.7-2.8-.4-1-1.5-2.9-2-.2zm-40.3 3.3c-1.5.8 11.6 12.6 6.1 5.2-.6-.4-6.1-6-6.1-5.2zm-23.3 8.8c.1 2-.4 3-2.7 4-1.6.8-3.9 3.2-5.5 4.8 1.6 2.1 5.6-3.4 7.3-3.7 2.8-.9 3.4-4.7.9-5.1zm5.9 1.6c-.8 1.7 7.4 7.2 7.8 6.1.2-.2-4.6-6.1-6-5.4-.1.3-1.9-1.3-1.8-.7zm52.5 5.4 1.7.8c-1.4 1.2-4.9 1.1-7.5 1.1.7-.1 3.2-3.5 3.8-3 .2.2 1.1.7 2 1.1zm-31 4.9c-1.3-.1-6.8.9-3.2 2.2.9-.2 7.9-.6 8.6-.2-.2 1.9-.3 3.5-.2 6.2 0 3.9.5 3.7-2.9 5-2 .9-2.5.2-3.1.4-.2.2-.3.2-.9-.1-7.1-2.9-.2 2.8 3 3.3 1.1-2.5 15.4 4.2 8.7-2.4-1.3-.2-5.2.7-2.8-1.1V205c-1.5-2.3-5.1-2.5-7.2-2.1zm14.8 3.2c-1.1 3.2-.7 8.3 2.1 9.4 1.4.2-2.2-6.4-.8-8.7.7-3.3-.5-3.5-1.3-.7zm83 12.1c-.6 2.3-12.5 14.8-5.5 13 .8-.9 8.4-11.4 9.3-14.2-1.6-1-2.6-1.5-3.8 1.2zm-8.1-1.7c-.8 1.1-4.7 15.5-1.5 12 .4-2 1.2-5.8 2-8.3.8-2.4 1.8-4.4-.5-3.7zm-67 .7c-2.6.2-6.3.5-8.7.9-.3.6 1.3 2.8 2.3 2.7 2 .7 1.2 1.3 5.2 2.4 2.7.8 2.8 1.2 4 2.2.2 0 .5.9.7.2.2-.4.3-.4-1.1-2-1.3-1.8-4.8-2.4-6.5-2.6-1.5-.5 8.2-1.8 10-1.3 2.1.2 2.3.1 1.7-1.1-.8-2.2-5.4-1.3-7.6-1.4zm11.3 1.5c-.9 4 6.8 5.1 8.3 5.7 1 0 2.7 1.4 3 .1-.1-2.1-2.3-3.4-4.2-3.5-.6.3-5.3-2.2-7.1-2.3zm-.1 5.4c-.6.7 7 9.9 7.3 7.8-.4-.5-5.1-8.4-7.3-7.8zm-40.2.9c-.1.2.7.9 1.1.9.5 1.4-1 8.5.3 9 1.5 1.3.5-4.9 1.1-6.1.6-2.7-.4-4-2.5-3.8zm19.1 6.2c1.3 1.9 2.1 7.9 2.1 10-.2.9 1.2 1.9 2 1.2.3-.3.3-.6.1-2.9-.4-4.7.1-8.5-4.2-8.3zm14.1 1.5c1.7 1.5-.2 9.7 2.2 10.2 1.5.7.5-1.5.8-4 .1-4.5-.7-5.8-3-6.2z",fill:"#1E1919"}),i.react.exports.createElement("path",{d:"M394.9 149.5c-12.3 1.8-31 5.4-37.2 16.5.4.8.8.8 1.8-.3 6.9-7.1 21.7-12.5 37-13.7 3.5-.3 4.1-.1 2.4-2.7-1.3-.1-2.3 0-4 .2zm-210.2 13.1c-3.2-.5-1.8 2.6.3 2.7 6 .5 11.4 1.1 17.5 1.2 11.1.3 21.9 3.1 29 2.9 0-2 .4-3.6-3-3.2-5-.5-11.6-1.4-15.6-1.6-2.6-.7-13.9-.5-15.9-.5-4.4-.3-7.6-1.4-12.3-1.5zm-24.8 10.2s-1.7.1-3.7.2c-4.6.1-5 .2-4.2 1.4.7 1 .7 1 5.6 1 7.4-.2 11.6.5 18.4 1.2 1.9 0 12.7 1.6 12.8.7 0-.3-.4-1.2-.9-1.9-1.5-1.6-7.6-.6-9.6-1.1-5-.4-13.8-1.5-18.4-1.5zm213.5 2.3c-1.8 1.5-12.3 8-6.7 9.5 1.4-.9 1.9-2.7 3.8-4 2.5-2 1.1-1.9 3.8-3.5.9-.6 1.7-1.1 1.7-1.2-.2-.6-1.4-2-2.6-.8zm-177.8 1.1c-1.3 3.3 5.4 3 7.8 3.5 3 .1 8.4 2 5.1-2.2-1.5-.3-10.4-1.4-12.9-1.3zm244.8 55.4c2.2 5.3 9.9 10.7 12.1 16.2.9 1.8 1.8 3.1 2.9 4.4-3.8 10-1.3 36.6-2.5 48-.3 2.7-.6 20.8.1 21.8.2.6 1.8 1.3 3.2 1.4 1.7.1 1.7.2 1.4-2.5-.6-13.3.4-35 .7-48.8.3-2.2.7-14.6 1.1-13.7 6.2 9.3 13.5 18.6 21.5 26.3 4 3.9 9 11.2 11.4 15.2.5 1.1 3.3 4.3 3.7 5.2-.3 1.1 3.8 2.6 4 2.2-6.3-11.4-16-22.5-25.2-32-5.2-5.9-9.3-12.5-13.7-19.1-1.7-2.2-1.2-3.1-2.6-3.9-2.3-2.7-4.6-8.7-8.6-11.8-3.8-2.9-5.8-8.9-9.5-8.9zm-32.9 60.3c.6 6.9-3.9 11.7-6.4 16.9-.9 2.1-.9 3.9-1.7 5.4-.3.9.7 1.7 1.1 2.5 1.3 1.5-.6-2.1 2.1.5 5 4.6 10 11.6 14.6 17 4.3 5.3 9.1 11.4 11.8 17.6 1.1 3.1 3.2 6.5 5 9.2 1 1.5 1.4 4.3 2.8 5.3.8.9 4.6 2.9 3.3.7-1.4-3.6-3.9-7.6-5.8-11-1.6-3.9-2.6-5.5-4.9-9.3-7.3-11-15-19.8-24.3-29.6 5-4.9 5.3-11 9.5-17.7 0-.9.1-2.9-.3-3.3-.7-.6-5.8-5.4-6.8-4.2zm33 28.4c-2 4 .1 11.6.4 16.4.4 5.1 2 8.3 2.7 13.5.2.6.2.7.9.7.8 0 .8-.1.5-1-1.3-5.5-2.2-11.9-2.7-17.9-.7-3.5-.2-8.3-.2-11.9-.2-.5-1.7-.5-1.6.2z",fill:"currentColor"})))};pn.displayName="PaperAirplaneSpotIllustration";class _n extends i.react.exports.Component{constructor(e){super(e),this.editorToString={preview:d.intl.formatMessage({id:"N5Byoz",defaultMessage:"Dropbox Preview"}),word:d.intl.formatMessage({id:"Y9FcUQ",defaultMessage:"Word for the web"}),excel:d.intl.formatMessage({id:"o3mRdr",defaultMessage:"Excel for the web"}),powerpoint:d.intl.formatMessage({id:"RTj2SO",defaultMessage:"PowerPoint for the web"}),gdoc:d.intl.formatMessage({id:"+HsOFj",defaultMessage:"Google Docs"}),gsheet:d.intl.formatMessage({id:"cpuRML",defaultMessage:"Google Sheets"}),gslides:d.intl.formatMessage({id:"PcJCVL",defaultMessage:"Google Slides"})},this.state={set_routing_dest:!1}}componentDidMount(){a.logUserAction({actionEvent:a.UserActionEventType.DYNAMIC_ROUTING_MODAL_IMPRESSION,userId:this.props.user.id,docPathOrId:this.props.file.file_id,data:{webOpenId:this.props.openId,origDest:this.props.currentEditor}})}componentWillUnmount(){if(!this.state.set_routing_dest){const e="Dismissed";a.logUserAction({actionEvent:a.UserActionEventType.DYNAMIC_ROUTING_MODAL_IMPRESSION,userId:this.props.user.id,docPathOrId:this.props.file.file_id,data:{webOpenId:this.props.openId,origDest:this.props.currentEditor,routingDest:e}});const t=W.getMetricsReporter$1(),i={origin:this.props.currentEditor,destination:e};t.createStats({ns:a.CLOUD_DOCS_AMP_NAMESPACE,name:"web/dynamicRoutingEvent"},i).record(1),this.setState({set_routing_dest:!1})}}render(){const e=this.editorToString[this.props.editorWithLock],t=this.editorToString[this.props.currentEditor];let n,r,o,s=d.intl.formatMessage({id:"ILSqGs",defaultMessage:"Want to see the latest version and edit?"});"preview"===this.props.currentEditor?(r=d.intl.formatMessage({id:"vX9MC5",defaultMessage:"Open in {editor_with_lock_string}"},{editor_with_lock_string:e}),n=d.intl.formatMessage({id:"MaUI+x",defaultMessage:"Right now people are working on this file in {editor_with_lock_string}. You can see updates and edit there."},{editor_with_lock_string:e})):this.props.isLockEditorEnabled?(r=d.intl.formatMessage({id:"jpCK4T",defaultMessage:"Edit in {editor_with_lock_string}"},{editor_with_lock_string:e}),n=d.intl.formatMessage({id:"1Y/1oL",defaultMessage:"Because this file is already open in {editor_with_lock_string}, you can only see updates and edit there."},{editor_with_lock_string:e})):(s=d.intl.formatMessage({id:"RtkW2p",defaultMessage:"You can’t edit this file right now"}),n=d.intl.formatMessage({id:"yOUn8S",defaultMessage:"Someone is working on this file in {editor_with_lock_string}. However, your admin has disabled access to {editor_with_lock_string} in your organization."},{editor_with_lock_string:e}));const l=(e,t)=>{a.logUserAction({actionEvent:a.UserActionEventType.DYNAMIC_ROUTING_MODAL_IMPRESSION,userId:this.props.user.id,docPathOrId:this.props.file.file_id,data:{webOpenId:this.props.openId,origDest:this.props.currentEditor,routingDest:e}});const i=W.getMetricsReporter$1(),n={origin:this.props.currentEditor,destination:e};i.createStats({ns:a.CLOUD_DOCS_AMP_NAMESPACE,name:"web/dynamicRoutingEvent"},n).record(1),this.setState({set_routing_dest:!0});const r=window.self;a.getCloudEditorUrl(this.props.user.id,this.props.file.file_id).then((i=>{a.openCloudEditorUrl(i,r,this.props.file.file_id,this.props.user.id,e,t)})).catch((e=>{a.handleError(e)}))},c=()=>{l(this.props.editorWithLock,!1)};if(this.props.showViewOnlyMode){const e=()=>{l(this.props.currentEditor,!0)},a=d.intl.formatMessage({id:"nLLL8d",defaultMessage:"View-Only in {current_editor}"},{current_editor:t});o=i.react.exports.createElement("div",{className:"link-text"},i.react.exports.createElement("span",{role:"link",className:"link-span",tabIndex:0,onClick:e},a))}else if(!this.props.isLockEditorEnabled){const e=d.intl.formatMessage({id:"DWwxhG",defaultMessage:"View-Only in Preview"});o=i.react.exports.createElement("div",{className:"link-text"},i.react.exports.createElement("span",{role:"link",className:"link-span",tabIndex:0,onClick:()=>a.Modal$1.close()},e))}let u;return u=this.props.isLockEditorEnabled?i.react.exports.createElement("div",{className:"edit-buttons"},i.react.exports.createElement(a.Button$1,{className:"main-button",onClick:c},i.react.exports.createElement(a.Text,{isBold:!0,inverse:!0},r)),o):i.react.exports.createElement("div",{className:"edit-buttons"},o),i.react.exports.createElement(a.Modal$1,{id:"dynamic-routing",className:"dynamic-routing-modal",buttonComponent:u,displayCloseButton:!0,style:"clean"},i.react.exports.createElement("div",{className:"default-dyn-routing-modal"},i.react.exports.createElement("div",{className:"modal-image"},i.react.exports.createElement(pn,null)),i.react.exports.createElement(a.Text,{size:"large",variant:"paragraph",className:"main-text"},s),i.react.exports.createElement(a.Text,{size:"standard",variant:"paragraph",className:"sub-text"},n)))}}_n.displayName="DynamicRoutingModalWithoutCss";const mn=a.requireCssWithComponent(_n,["/static/metaserver/static/css/cloud_docs/dynamic_routing-vflBnaAAl.css"]);function fn(e){a.Modal$1.showInstance(i.react.exports.createElement(mn,Object.assign({},e)))}const gn=3503728,vn={[a.MicrosoftEditors.WORD]:!0,[a.MicrosoftEditors.EXCEL]:!0,[a.MicrosoftEditors.POWERPOINT]:!1,[a.GoogleFileTypes.GOOGLE_DSS_SLIDES]:!1,[a.GoogleFileTypes.GOOGLE_DSS_DOC]:!1,[a.GoogleFileTypes.GOOGLE_DSS_SHEET]:!1,preview:!1};var hn;!function(e){e.pptx="pptx",e.docx="docx",e.xlsx="xlsx"}(hn||(hn={}));const Sn={[gn]:{[hn.pptx]:a.GoogleFileTypes.GOOGLE_DSS_SLIDES,[hn.docx]:a.GoogleFileTypes.GOOGLE_DSS_DOC,[hn.xlsx]:a.GoogleFileTypes.GOOGLE_DSS_SHEET},661085:{[hn.pptx]:a.MicrosoftEditors.POWERPOINT,[hn.docx]:a.MicrosoftEditors.WORD,[hn.xlsx]:a.MicrosoftEditors.EXCEL}},En={[gn]:a.CloudDocProviderIntegration.GDD_INTEGRATION};function wn(e,t,i){return s.__awaiter(this,void 0,void 0,(function*(){const n=i;a.getLockProviderAsync(e.id,t.file_id).then((o=>{const s=o.app_id;if(s&&Sn[s][n]&&(r.isBrowseFile(t)||r.isSharedFile(t))){const r=a.get_uri().getQuery().web_open_id,o=function(e,t){if(!e)return;switch(e.toLowerCase()){case"google_docs":case"gdoc":return a.GoogleFileTypes.GOOGLE_DSS_DOC;case"google_slides":case"gslides":return a.GoogleFileTypes.GOOGLE_DSS_SLIDES;case"google_sheets":case"gsheet":return a.GoogleFileTypes.GOOGLE_DSS_SHEET;case"wopi":return i=t,z.PRESENTATION_EXTS.map((e=>e.slice(1))).includes(i)?a.MicrosoftEditors.POWERPOINT:function(e){return["doc","docm","docx"].includes(e)}(t)?a.MicrosoftEditors.WORD:a.MicrosoftEditors.EXCEL;case"paper":return t;case"word":case"excel":case"powerpoint":return e;default:return}var i}(a.get_uri().getQuery().from_editor,i)||"preview",l={editorWithLock:Sn[s][n],currentEditor:o,file:t,user:e,showViewOnlyMode:vn[o],openId:r,isLockEditorEnabled:!0};e.is_team?a.getTeamSettings(e.id).then((e=>{const t=e.settings;if(En.hasOwnProperty(s)){const e=En[s];l.isLockEditorEnabled=t[e][".tag"]===a.IntegrationCreateAndEdit[".tag"]}("preview"!==l.currentEditor||l.isLockEditorEnabled)&&fn(l)})):fn(l)}}))}))}function bn(e,t,i){return{triggerDynamicRoutingModalCheck:()=>{const n=t();n.file.file_id&&!function(e){return(null==e?void 0:e.linkType)===a.SharedLinkType.Shmodel}(i)&&wn(e,n.file,r.getExtension(n.file))}}}function yn(e){return{class:"previews",action:"save",object:"edit_mode",properties:e}}function In(e){return{class:"file_actions",action:"download",object:"file",properties:e}}function Tn(e){return{class:"previews",action:"watermark",object:"file",properties:e}}function Rn(e){return{class:"previews",action:"edit",object:"watermark",properties:e}}var Pn;function An(e){return{class:"navigation",action:"navigate_to",object:"edit",properties:e}}t.WorkflowsEvent=void 0,(Pn=t.WorkflowsEvent||(t.WorkflowsEvent={})).WatermarkApplySaveAsCopy="watermark_apply_save_as_copy",Pn.WatermarkStart="watermark_start",Pn.WatermarkSuccess="watermark_success",Pn.WatermarkFailed="watermark_failed",Pn.WatermarkCancel="watermark_cancel",Pn.WatermarkAddImage="watermark_add_image",Pn.WatermarkRotate="watermark_rotate",Pn.WatermarkUpdatePosition="watermark_update_position",Pn.WatermarkUpdateColor="watermark_update_color";function xn(e){return{class:"previews",action:"cancel",object:"edit_mode",properties:e}}function Cn(e){return{class:"previews",action:"comment",object:"file",properties:e}}function Mn(e){return{class:"previews",action:"comment",object:"comment",properties:e}}const On=["newest","oldest","unread","timestamp","page"];var Nn;!function(e){e.ADD_COMMENT="add_comment",e.DELETE_COMMENT="delete_comment",e.REPLY_COMMENT="reply_comment",e.EDIT_COMMENT="edit_comment",e.RESOLVE_COMMENT="resolve_comment",e.UNRESOLVE_COMMENT="unresolve_comment",e.SUBSCRIBE_COMMENTS="subscribe_comments",e.UNSUBSCRIBE_COMMENTS="unsubscribe_comments",e.DISABLE_COMMENTS="disable_comments",e.ENABLE_COMMENTS="enable_comments",e.SHOW_RESOLVED_COMMENTS="show_resolved_comments",e.HIDE_RESOLVED_COMMENTS="hide_resolved_comments",e.SORT_COMMENTS="sort_comments",e.REQUEST_APPROVAL="request_approval",e.ENABLE_CONTINUOUS_ANNOTATIONS="enable_continuous_annotations",e.DISABLE_CONTINUOUS_ANNOTATIONS="disable_continuous_annotations",e.ADD_COMMENT_START="add_comment_start",e.ADD_COMMENT_CANCEL="add_comment_cancel",e.REPLY_COMMENT_START="reply_comment_start",e.REPLY_COMMENT_CANCEL="reply_comment_cancel",e.MARK_THREAD_READ="mark_thread_read",e.MARK_THREAD_UNREAD="mark_thread_unread"}(Nn||(Nn={}));const Dn="preview",kn=(e,i,n,o)=>s.__awaiter(void 0,void 0,void 0,(function*(){var l,d,p;n.previewType=(null!==(d=null!==(l=n.previewType)&&void 0!==l?l:i.extra.preview_type)&&void 0!==d?d:null===(p=n.file)||void 0===p?void 0:p.preview)?u.resolvePreviewType(n.file.preview):void 0,"background"===e?((e,t)=>{s.__awaiter(void 0,void 0,void 0,(function*(){const{file:i,previewType:n}=t,{event:o,context:s}=e.extra,l=i?r.getExtension(i):void 0,d=(e,t)=>{a.logEvent(yn({eventState:e,fileType:c.getPapFileType(l),fileSize:null==i?void 0:i.bytes,actionElement:t,actionScreen:"video_edit",actionSurface:"preview",previewType:c.getPapPreviewType(n)}))};switch(o){case H.BackgroundEvent.EditVideoSaveSucceeded:d("success",s);break;case H.BackgroundEvent.EditVideoSaveFailed:d("failed",s)}}))})(i,n):"user_action"===e?(((e,i)=>{s.__awaiter(void 0,void 0,void 0,(function*(){const{previewSurface:n,file:o,previewType:s}=i,l=e.action,d=e.context,p=r.getExtension(o),_={fileType:Y.getFileTypeFromString(p),fileSize:o.bytes,previewType:s?c.getPapPreviewType(s):void 0,actionElement:c.PreviewActionElement.PREVIEW_TITLEBAR};switch(l){case H.UserAction.FlipNext:a.logEvent({class:"previews",action:"next",object:"file",properties:{eventState:"start",actionScreen:"keyboard"===e.context?e.context:n,fileSize:null==o?void 0:o.bytes,fileType:c.getPapFileType(p)}});break;case H.UserAction.FlipPrevious:a.logEvent({class:"previews",action:"previous",object:"file",properties:{eventState:"start",actionScreen:"keyboard"===e.context?e.context:n,fileSize:null==o?void 0:o.bytes,fileType:c.getPapFileType(p)}});break;case H.UserAction.ZoomIn:case H.UserAction.ZoomOut:a.logEvent(function(e){return{class:"previews",action:"zoom",object:"file",properties:e}}({eventState:"success",actionScreen:e.context,actionElement:e.action,fileSize:null==o?void 0:o.bytes,fileType:c.getPapFileType(p)}));break;case H.UserAction.ToggleFullscreenOn:a.logEvent(function(e){return{class:"previews",action:"open",object:"fullscreen",properties:e}}({actionScreen:e.context,fileSize:null==o?void 0:o.bytes,fileType:c.getPapFileType(p)}));break;case H.UserAction.ToggleFullscreenOff:a.logEvent(function(e){return{class:"previews",action:"close",object:"fullscreen",properties:e}}({actionScreen:e.context,fileSize:null==o?void 0:o.bytes,fileType:c.getPapFileType(p)}));break;case H.UserAction.Print:a.logEvent(function(e){return{class:"previews",action:"print",object:"file",properties:e}}({eventState:"success",actionScreen:e.context,fileSize:null==o?void 0:o.bytes,fileType:c.getPapFileType(p)}));break;case H.UserAction.OpenDocSidebar:a.logEvent(function(e){return{class:"previews",action:"open",object:"sidebar",properties:e}}({eventState:"success",actionScreen:e.context,fileSize:null==o?void 0:o.bytes,fileType:c.getPapFileType(p)}));break;case H.UserAction.CloseDocSidebar:a.logEvent(function(e){return{class:"previews",action:"close",object:"sidebar",properties:e}}({eventState:"success",actionScreen:e.context,fileSize:null==o?void 0:o.bytes,fileType:c.getPapFileType(p)}));break;case H.UserAction.FindInDocStart:a.logEvent(function(e){return{class:"previews",action:"open",object:"search_box",properties:e}}({eventState:"start",actionScreen:e.context,fileSize:null==o?void 0:o.bytes,fileType:c.getPapFileType(p)}));break;case H.UserAction.DownloadStart:a.logEvent(In(Object.assign(Object.assign({},_),{eventState:"start",actionSurface:n,actionElement:d})));break;case H.UserAction.DownloadFailed:a.logEvent(In(Object.assign(Object.assign({},_),{eventState:"failed",actionSurface:n})));break;case H.UserAction.DownloadSuccess:a.logEvent(In(Object.assign(Object.assign({},_),{eventState:"success",actionSurface:n})));break;case H.UserAction.OpenInMenu:a.logEvent(function(e){return{class:"previews",action:"select",object:"open_in_menu",properties:e}}(Object.assign(Object.assign({},_),{actionSurface:"preview"})));break;case H.UserAction.OpenSendForSignature:a.logEvent(function(e){return{class:"previews",action:"select",object:"add_signatures_menu",properties:e}}({actionSurface:n}));break;case H.UserAction.OpenActionBarMeatball:a.logEvent(function(e){return{class:"previews",action:"select",object:"action_bar_meatball_menu",properties:e}}({actionSurface:n}));break;case H.UserAction.Delete:a.logEvent(q.PAP_Delete_File(Object.assign(Object.assign({},_),{eventState:"start",actionSurface:n})));break;case H.UserAction.DeleteSuccess:a.logEvent(q.PAP_Delete_File(Object.assign(Object.assign({},_),{eventState:"success",actionSurface:n})));break;case H.UserAction.DeleteFailed:case H.UserAction.DeleteFailedNoPermission:a.logEvent(q.PAP_Delete_File(Object.assign(Object.assign({},_),{eventState:"failed",actionSurface:n})));break;case H.UserAction.DeleteCancel:a.logEvent(q.PAP_Delete_File(Object.assign(Object.assign({},_),{eventState:"canceled",actionSurface:n})));break;case H.UserAction.Rename:a.logEvent(q.PAP_Rename_File(Object.assign(Object.assign({},_),{eventState:"start",actionSurface:n})));break;case H.UserAction.RenameFailed:a.logEvent(q.PAP_Rename_File(Object.assign(Object.assign({},_),{eventState:"failed",actionSurface:n})));break;case H.UserAction.RenameSuccess:a.logEvent(q.PAP_Rename_File(Object.assign(Object.assign({},_),{eventState:"success",actionSurface:n})));break;case H.UserAction.SelectSaveAs:a.logEvent(function(e){return{class:"previews",action:"select",object:"save_as",properties:e}}(Object.assign(Object.assign({},_),{actionScreen:d})));break;case H.UserAction.Star:a.logEvent(a.PAP_Star_File(Object.assign(Object.assign({},_),{eventState:"success"===e.state?"success":"failed",actionSurface:d})));break;case H.UserAction.Unstar:a.logEvent(function(e){return{class:"filesystem_item_actions",action:"unstar",object:"file",properties:e}}(Object.assign(Object.assign({},_),{eventState:"success"===e.state?"success":"failed",actionSurface:d})));break;case H.UserAction.GoToFolder:a.logEvent(function(e){return{class:"previews",action:"open",object:"folder",properties:e}}({actionScreen:n}));break;case t.WorkflowsEvent.WatermarkStart:a.logEvent(Tn({eventState:"start",actionScreen:d,fileSize:null==o?void 0:o.bytes,fileType:c.getPapFileType(p)}));break;case t.WorkflowsEvent.WatermarkSuccess:a.logEvent(Tn({eventState:"success",fileSize:null==o?void 0:o.bytes,fileType:c.getPapFileType(p)}));break;case t.WorkflowsEvent.WatermarkFailed:a.logEvent(Tn({eventState:"failed",fileSize:null==o?void 0:o.bytes,fileType:c.getPapFileType(p)}));break;case t.WorkflowsEvent.WatermarkCancel:a.logEvent(Tn({eventState:"canceled",fileSize:null==o?void 0:o.bytes,fileType:c.getPapFileType(p)}));break;case t.WorkflowsEvent.WatermarkRotate:a.logEvent(Rn({actionElement:"rotate"}));break;case t.WorkflowsEvent.WatermarkAddImage:a.logEvent(Rn({actionElement:"add_image"}));break;case t.WorkflowsEvent.WatermarkUpdatePosition:a.logEvent(Rn({actionElement:"update_position"}));break;case t.WorkflowsEvent.WatermarkUpdateColor:a.logEvent(Rn({actionElement:"update_color"}));break;case H.UserAction.VersionHistory:a.logEvent(function(e){return{class:"previews",action:"select",object:"version_history",properties:e}}(Object.assign(Object.assign({},_),{actionElement:null!=d?d:c.PreviewActionElement.PREVIEW_TITLEBAR})));break;case H.UserAction.SelfSign:a.logEvent(a.PAP_NavigateTo_Sign({destinationSurface:"pdf"===p?"pdf_edit_signature_box":"dropbox_sign_edit",actionElement:"preview_top_nav",previewType:c.getPapPreviewType(s),fileType:c.getPapFileType(p),fileSize:null==o?void 0:o.bytes,actionSurface:"preview"}));break;case H.UserAction.SendForSignature:a.logEvent(a.PAP_NavigateTo_Sign({destinationSurface:"dropbox_core_signature_screen",actionElement:"preview_top_nav",previewType:c.getPapPreviewType(s),fileType:c.getPapFileType(p),fileSize:null==o?void 0:o.bytes,actionSurface:"preview"}));break;case H.UserAction.SelectSidebarPage:a.logEvent(function(e){return{class:"previews",action:"select",object:"doc_page",properties:e}}({actionScreen:d,fileSize:null==o?void 0:o.bytes,fileType:c.getPapFileType(p)}));break;case H.UserAction.OpenFileMenu:a.logEvent(function(e){return{class:"previews",action:"select",object:"file_menu",properties:e}}(Object.assign(Object.assign({},_),{actionSurface:"preview"})));break;case H.UserAction.OpenEditMenu:a.logEvent(function(e){return{class:"previews",action:"select",object:"edit_menu",properties:e}}(Object.assign(Object.assign({},_),{actionSurface:"preview"})));break;case H.UserAction.OpenViewMenu:a.logEvent(function(e){return{class:"previews",action:"select",object:"view_menu",properties:e}}(Object.assign(Object.assign({},_),{actionSurface:"preview"})));break;case H.UserAction.OpenHelpMenu:a.logEvent(function(e){return{class:"previews",action:"select",object:"help_menu",properties:e}}(Object.assign(Object.assign({},_),{actionSurface:"preview"})));break;case H.UserAction.AddToCollection:a.logEvent(function(e){return{class:"previews",action:"add",object:"file_new_collection",properties:e}}(Object.assign(Object.assign({},_),{eventState:"start",actionSurface:"preview"})));break;case H.UserAction.Info:a.logEvent(function(e){return{class:"previews",action:"select",object:"info",properties:e}}(Object.assign(Object.assign({},_),{actionSurface:"preview"})));break;case H.UserAction.FileActivity:a.logEvent(function(e){return{class:"previews",action:"select",object:"activity",properties:e}}(Object.assign(Object.assign({},_),{actionSurface:"preview"})));break;case H.UserAction.OpenWithPDFEditor:a.logEvent(An({destinationSurface:"pdf_edit",actionElement:d,previewType:c.getPapPreviewType(s),fileType:c.getPapFileType(p),fileSize:null==o?void 0:o.bytes,actionSurface:"preview"}));break;case H.UserAction.OpenWithImageEditor:a.logEvent(An({destinationSurface:"image_edit",actionElement:d,previewType:c.getPapPreviewType(s),fileType:c.getPapFileType(p),fileSize:null==o?void 0:o.bytes,actionSurface:"preview"}));break;case H.UserAction.HelpCenter:a.logEvent(function(e){return{class:"previews",action:"select",object:"help_center",properties:e}}(Object.assign(Object.assign({},_),{actionSurface:"preview"})));break;case H.UserAction.PrivacyLegal:a.logEvent(function(e){return{class:"previews",action:"select",object:"privacy_legal",properties:e}}(Object.assign(Object.assign({},_),{actionSurface:"preview"})));break;case H.UserAction.CookieCCPA:a.logEvent(function(e){return{class:"previews",action:"select",object:"cookies_preference",properties:e}}(Object.assign(Object.assign({},_),{actionSurface:"preview"})));break;case H.UserAction.ReportIssue:a.logEvent(function(e){return{class:"previews",action:"select",object:"report_issue",properties:e}}(Object.assign(Object.assign({},_),{actionSurface:"preview"})));break;case H.UserAction.OpenActivityFilterMenu:a.logEvent(function(e){return{class:"previews",action:"select",object:"activity_filter_menu",properties:e}}(Object.assign(Object.assign({},_),{actionElement:c.PreviewActionElement.PREVIEW_LEFT_SIDEBAR})));break;case H.UserAction.AddActivityFilter:a.logEvent(function(e){return{class:"previews",action:"add",object:"activity_filter",properties:e}}(Object.assign(Object.assign({},_),{actionElement:c.PreviewActionElement.PREVIEW_LEFT_SIDEBAR,filterElement:c.getPapFilterElement(d)})));break;case H.UserAction.AddTag:a.logEvent(function(e){return{class:"tagging",action:"add",object:"tag",properties:e}}({tagTypeEnum:"user_generated_tag",taggingSource:d,fileObjId:o.file_id}));break;case H.UserAction.RemoveTag:a.logEvent(function(e){return{class:"tagging",action:"remove",object:"tag",properties:e}}({tagTypeEnum:"user_generated_tag",taggingSource:d,fileObjId:o.file_id}));break;case a.UserAction.InviteViaEmail:a.logEvent(function(e){return{class:"previews",action:"select",object:"share_with_dropbox",properties:e}}(Object.assign(Object.assign({},_),{actionSurface:"preview"})));break;case a.UserAction.Transfer:a.logEvent(function(e){return{class:"previews",action:"select",object:"send_a_copy",properties:e}}(Object.assign(Object.assign({},_),{actionSurface:"preview"})));break;case a.UserAction.ShareWithAnalytics:a.logEvent(a.PAP_NavigateTo_Docsend(Object.assign(Object.assign({},_),{actionSurface:"preview"})));break;case a.UserAction.SendForSignatureAction:a.logEvent(a.PAP_NavigateTo_Sign(Object.assign(Object.assign({},_),{actionSurface:"preview"})));break;case H.UserAction.ToggleSidebarOn:e.selected_pane===u.COMMENTS_PLUGIN_ID?a.logEvent(function(e){return{class:"previews",action:"select",object:"comments",properties:e}}(Object.assign(Object.assign({},_),{actionSurface:"preview"}))):e.selected_pane||e.previous_selected_pane!==u.COMMENTS_PLUGIN_ID||a.logEvent(function(e){return{class:"previews",action:"close",object:"comments",properties:e}}(Object.assign(Object.assign({},_),{actionSurface:"preview"})))}}))})(i.extra,n),((e,t)=>{s.__awaiter(void 0,void 0,void 0,(function*(){const{previewSurface:i,file:n,previewType:o}=t,s=e.action,l=e.context,d=n?r.getExtension(n):void 0;switch(s){case H.UserAction.EditVideoAttempt:a.logEvent(An({destinationSurface:"video_edit",actionElement:l,previewType:c.getPapPreviewType(o),fileType:c.getPapFileType(d),fileSize:null==n?void 0:n.bytes,actionSurface:"preview"}));break;case H.UserAction.EditVideoCancel:case H.UserAction.EditVideoDiscardChangesClicked:a.logEvent(xn({eventState:"start",actionScreen:i,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}));break;case H.UserAction.EditVideoDiscardChangesCancel:a.logEvent(xn({eventState:"canceled",actionScreen:i,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}));break;case H.UserAction.EditVideoDiscardChangesConfirmed:a.logEvent(xn({eventState:"success",actionScreen:i,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}));break;case H.UserAction.EditVideoRedo:a.logEvent({class:"previews",action:"redo",object:"edit_mode",properties:{actionScreen:i,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}});break;case H.UserAction.EditVideoUndo:a.logEvent({class:"previews",action:"undo",object:"edit_mode",properties:{actionScreen:i,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}});break;case H.UserAction.EditVideoReplaceOriginalClicked:a.logEvent(yn({eventState:"start",fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d),actionElement:"replace_original",actionScreen:"video_edit",previewType:c.getPapPreviewType(o),actionSurface:"preview"}));break;case H.UserAction.EditVideoReplaceOriginalCancel:a.logEvent(yn({eventState:"canceled",fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d),actionElement:"replace_original",actionScreen:"video_edit",previewType:c.getPapPreviewType(o),actionSurface:"preview"}));break;case H.UserAction.EditVideoSaveCopyClicked:a.logEvent(yn({eventState:"start",fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d),actionElement:"save_a_copy",actionScreen:"video_edit",previewType:c.getPapPreviewType(o),actionSurface:"preview"}));break;case H.UserAction.EditVideoSaveCopyCancel:a.logEvent(yn({eventState:"canceled",fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d),actionElement:"save_a_copy",actionScreen:"video_edit",previewType:c.getPapPreviewType(o),actionSurface:"preview"}));break;case H.UserAction.EditVideoNewFolderAttempt:a.logEvent(J.PAP_Create_Folder({eventState:"start",actionScreen:l,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}));break;case H.UserAction.EditVideoNewFolderCancel:a.logEvent(J.PAP_Create_Folder({eventState:"canceled",actionScreen:l,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}));break;case H.UserAction.EditVideoNewFolderSuccess:a.logEvent(J.PAP_Create_Folder({eventState:"success",actionScreen:l,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}));break;case H.UserAction.EditVideoNewFolderFailure:a.logEvent(J.PAP_Create_Folder({eventState:"failed",actionScreen:l,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}));break;case H.UserAction.ClosedCaptionsClick:a.logEvent(function(e){return{class:"previews",action:"select",object:"audio_video_closed_captioning",properties:e}}({actionScreen:l,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}));break;case H.UserAction.AudioVideoSettingsMenuOpened:a.logEvent(function(e){return{class:"previews",action:"select",object:"audio_video_settings_menu",properties:e}}({actionScreen:l,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}));break;case H.UserAction.QualitySettingsSubmenuOpened:a.logEvent(function(e){return{class:"previews",action:"select",object:"audio_video_quality_menu",properties:e}}({actionScreen:l,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}));break;case H.UserAction.PlaybackRateSubmenuOpened:a.logEvent(function(e){return{class:"previews",action:"select",object:"audio_video_speed_menu",properties:e}}({actionScreen:l,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}));break;case H.UserAction.SetVolume:case H.UserAction.SetMuted:a.logEvent(function(e){return{class:"previews",action:"change",object:"audio_video_volume",properties:e}}({actionScreen:l,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}));break;case H.UserAction.AudioVideoSeeked:a.logEvent(function(e){return{class:"previews",action:"select",object:"audio_video_scrub",properties:e}}({eventState:"success",actionScreen:l,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}));break;case H.UserAction.AudioTrackChanged:a.logEvent(function(e){return{class:"previews",action:"change",object:"audio_video_track",properties:e}}({actionScreen:i,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}));break;case H.UserAction.AudioTrackSubmenuOpened:a.logEvent(function(e){return{class:"previews",action:"select",object:"audio_video_track_menu",properties:e}}({actionScreen:i,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}));break;case H.UserAction.ChangePlaybackPosition:switch(e.playback_control){case"forward":a.logEvent(function(e){return{class:"previews",action:"select",object:"audio_video_fast_forward",properties:e}}({actionScreen:l,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}));break;case"backward":a.logEvent(function(e){return{class:"previews",action:"select",object:"audio_video_rewind",properties:e}}({actionScreen:l,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}));break;case"select_next_frame":a.logEvent(function(e){return{class:"previews",action:"select",object:"audio_video_adjust_frame_forward",properties:e}}({actionScreen:l,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}));break;case"select_prev_frame":a.logEvent(function(e){return{class:"previews",action:"select",object:"audio_video_adjust_frame_backward",properties:e}}({actionScreen:l,fileSize:null==n?void 0:n.bytes,fileType:c.getPapFileType(d)}))}}}))})(i.extra,n),(e=>{switch(e.action){case Nn.ADD_COMMENT_START:a.logEvent(Cn({actionSurface:Dn,eventState:"start"}));break;case Nn.ADD_COMMENT_CANCEL:a.logEvent(Cn({actionSurface:Dn,eventState:"canceled"}));break;case Nn.ADD_COMMENT:"true"===e.hasAnnotation?a.logEvent({class:"previews",action:"comment",object:"file_area",properties:{actionSurface:Dn,eventState:"success"}}):a.logEvent(Cn({actionSurface:Dn,eventState:"success"}));break;case Nn.REPLY_COMMENT_START:a.logEvent(Mn({actionSurface:Dn,eventState:"start"}));break;case Nn.REPLY_COMMENT_CANCEL:a.logEvent(Mn({actionSurface:Dn,eventState:"canceled"}));break;case Nn.REPLY_COMMENT:a.logEvent(Mn({actionSurface:Dn,eventState:"success"}));break;case Nn.DELETE_COMMENT:a.logEvent({class:"previews",action:"delete",object:"comment",properties:{actionSurface:Dn,eventState:"success"}});break;case Nn.EDIT_COMMENT:a.logEvent(function(e){return{class:"previews",action:"edit",object:"comment",properties:e}}({actionSurface:Dn,eventState:"success"}));break;case Nn.RESOLVE_COMMENT:a.logEvent(function(e){return{class:"previews",action:"resolve",object:"comment",properties:e}}({actionSurface:Dn,eventState:"success"}));break;case Nn.ENABLE_COMMENTS:a.logEvent(function(e){return{class:"previews",action:"select",object:"comments_enable",properties:e}}({actionSurface:Dn,eventState:"success"}));break;case Nn.DISABLE_COMMENTS:a.logEvent(function(e){return{class:"previews",action:"select",object:"comments_disable",properties:e}}({actionSurface:Dn,eventState:"success"}));break;case Nn.SHOW_RESOLVED_COMMENTS:a.logEvent(function(e){return{class:"previews",action:"select",object:"comments_show_resolved",properties:e}}({actionSurface:Dn,eventState:"success"}));break;case Nn.HIDE_RESOLVED_COMMENTS:a.logEvent(function(e){return{class:"previews",action:"select",object:"comments_hide_resolved",properties:e}}({actionSurface:Dn,eventState:"success"}));break;case Nn.SUBSCRIBE_COMMENTS:a.logEvent(function(e){return{class:"previews",action:"select",object:"comments_subscribe",properties:e}}({actionSurface:Dn,eventState:"success"}));break;case Nn.UNSUBSCRIBE_COMMENTS:a.logEvent(function(e){return{class:"previews",action:"select",object:"comments_unsubscribe",properties:e}}({actionSurface:Dn,eventState:"success"}));break;case Nn.SORT_COMMENTS:a.logEvent(function(e){return{class:"previews",action:"select",object:"comments_sort",properties:e}}({actionSurface:Dn,commentsSortOrder:(t=e.sortType,On.find((e=>e===(null==t?void 0:t.toLowerCase()))))}));break;case Nn.MARK_THREAD_READ:a.logEvent(function(e){return{class:"previews",action:"select",object:"comments_mark_as_read",properties:e}}({actionSurface:Dn}));break;case Nn.MARK_THREAD_UNREAD:a.logEvent(function(e){return{class:"previews",action:"select",object:"comments_mark_as_unread",properties:e}}({actionSurface:Dn}))}var t})(i.extra)):Fn(e,n,i,o)})),Fn=(e,t,i,n)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{previewSurface:o,previewType:s,file:l}=t,d=l?r.getExtension(l):void 0,u=(e,t)=>{const r={class:"previews",action:"preview",object:"file",properties:{eventState:e,actionScreen:o,fileType:c.getPapFileType(d),fileSize:null==l?void 0:l.bytes,previewType:s?c.getPapPreviewType(s):void 0,startType:"initial",actionId:i.file_preview_session_id,contentIdentifier:l.file_id,previewFailureReason:t,timeSinceStartMs:parseInt(i.extra.time_to_primary_mark,10)||void 0}};a.logEvent(r),n(r)};switch(e){case H.SessionEventType.FilePreviewAttemptStarted:u("start");break;case H.SessionEventType.FilePreviewRenderSucceeded:u("success");break;case H.SessionEventType.FilePreviewSupportDenied:u("failed","unimplemented");break;case H.SessionEventType.FilePreviewDownloadFailed:u("failed","network_error");break;case H.SessionEventType.FilePreviewRenderFailed:u("failed","rendering_error")}})),Ln=[H.SessionEventType.FilePreviewSupportConfirmed,H.SessionEventType.FilePreviewSupportDenied,H.SessionEventType.FilePreviewDownloadAttempted,H.SessionEventType.FilePreviewDownloadSucceeded,H.SessionEventType.FilePreviewDownloadFailed,H.SessionEventType.FilePreviewRenderSucceeded,H.SessionEventType.FilePreviewRenderFailed,H.SessionEventType.FilePreviewSessionEnded],Un=e=>s.__awaiter(void 0,void 0,void 0,(function*(){a.SilentBackgroundBeaconRequest(e)})),Vn=e=>Object.assign(Object.assign(Object.assign(Object.assign({device_type:e.device_type},e.extra.source_context&&{source_context:e.extra.source_context}),e.extra.preview_type&&{preview_type:e.extra.preview_type}),e.extra.action&&{action:e.extra.action}),e.extra.redesign2023Variant&&{redesign2023Variant:e.extra.redesign2023Variant}),Bn=(e,t,i,a,n={})=>{W.getMetricsReporter$1().createStats({ns:i,name:e},Object.assign(Object.assign(Object.assign({},n),a&&Vn(a)),{deployment:Ze.YAPS_DEPLOYMENT,is_edison:String(!!window.RUNNING_IN_EDISON)})).record(t)},$n=(e,t,i,a,n={})=>{W.getMetricsReporter$1().createStats({ns:i,name:e},Object.assign(Object.assign(Object.assign({},n),a&&Vn(a)),{deployment:Ze.YAPS_DEPLOYMENT,is_edison:String(!!window.RUNNING_IN_EDISON)})).recordDuration(t,j.TimeUnit.MILLISECONDS)},jn=(e,t)=>{const i=t.extra.file_preview_timeline?JSON.stringify(Object.assign({},...Object.entries(JSON.parse(t.extra.file_preview_timeline)).map((([e,t])=>({[e+"_ts"]:t}))))):void 0,n={is_edison:String(!!window.RUNNING_IN_EDISON)},r={device_type:t.device_type,event_name:e,extra:JSON.stringify(Object.assign(Object.assign(Object.assign({},n),t.extra),{initial_request_id:I.REQUEST_ID})),file_viewer_session_id:t.file_viewer_session_id,file_preview_session_id:t.file_preview_session_id,file_ns_id:t.ns_id,file_sjid:t.sj_id,file_preview_timeline:i,file_preview_size:t.file_preview_size};Un({url:"/log/file_preview",data:r}),Bn(e,1,"web_previews",t),Ln.includes(e)&&((e,t)=>{const i=t.extra.file_preview_timeline?JSON.parse(t.extra.file_preview_timeline):{};if(H.SessionEventType.FilePreviewAttemptStarted in i&&e in i){const a=i[e]-i[H.SessionEventType.FilePreviewAttemptStarted];a>0&&$n("time_from_attempt_ms",a,"web_previews",t,{event_name:e})}})(e,t),((e,t)=>{var i,a,n;if(e===H.EventType.UserAction){const e=null===(i=t.extra)||void 0===i?void 0:i.action;e!==H.UserAction.EditVideoSaveCopyConfirmed&&e!==H.UserAction.EditVideoReplaceOriginalConfirmed||Bn("video_edit_attempt",1,"web_previews",t)}if(e===H.EventType.Background){const e=null===(a=t.extra)||void 0===a?void 0:a.event;if(e===H.BackgroundEvent.EditVideoSaveSucceeded&&Bn("video_edit_success",1,"web_previews",t),e===H.BackgroundEvent.EditVideoSaveFailed){const e=(null===(n=t.extra)||void 0===n?void 0:n.error_type)||"unknown";Bn("video_edit_failure",1,"web_previews",t,{error:e})}}})(e,t),((e,t)=>{if(e===H.SessionEventType.FilePreviewAttemptStarted&&t.extra.source_action===H.SourceAction.Visit&&window.performance){const e=Date.now()-window.performance.timing.navigationStart;e>0&&Hn({eventName:"time_to_preview_attempt_from_load_ms",durationInMs:e,session:t})}})(e,t),(e=>{e.event===H.BackgroundEvent.EditVideoSaveSucceeded?a.UserSurvey.trackEvent("save_video_edit","previews"):(e.action===H.UserAction.EditVideoCancel&&"false"===e.have_changes||e.action===H.UserAction.EditVideoDiscardChangesConfirmed)&&a.UserSurvey.trackEvent("quit_video_edit","previews")})(t.extra)},zn=(e,t)=>(i,a)=>{const n=t().file;jn(i,a),kn(i,a,{previewSurface:e,file:n},(e=>t=>{var i,a,n,r,o;if(!(null===(i=t.properties)||void 0===i?void 0:i.eventState))return;const s=Object.assign(Object.assign(Object.assign(Object.assign({},(null===(a=t.properties)||void 0===a?void 0:a.actionScreen)&&{action_surface:t.properties.actionScreen}),(null===(n=t.properties)||void 0===n?void 0:n.fileType)&&{file_type:t.properties.fileType}),(null===(r=t.properties)||void 0===r?void 0:r.startType)&&{start_type:t.properties.startType}),(null===(o=t.properties)||void 0===o?void 0:o.previewFailureReason)&&{preview_failure_reason:t.properties.previewFailureReason});Bn(`file/previews/${t.properties.eventState}`,1,"web_previews",e,s),t.properties.timeSinceStartMs&&$n(`timing/file/previews/${t.properties.eventState}`,t.properties.timeSinceStartMs,"web_previews",e,s)})(a))},Hn=({eventName:e,durationInMs:t,session:i,tags:n={},shouldLogToHive:r})=>{if($n(e,t,"web_previews",i,n),r){const n={event_name:e,duration:t.toString(),is_edison:String(!!window.RUNNING_IN_EDISON)};if(i){const e={event_name:"user_timing",device_type:i.device_type,client_timestamp_ms:a.WebTimingUtil.getNow(),file_preview_session_id:i.file_preview_session_id,file_viewer_session_id:i.file_viewer_session_id,file_preview_size:i.file_preview_size,file_ns_id:i.ns_id,file_sjid:i.sj_id,extra:JSON.stringify(Object.assign(Object.assign({},i.extra),n))};Un({url:"/log/file_preview",data:e})}}},Kn=(e,t)=>{const i={event_name:e,client_timestamp_ms:a.WebTimingUtil.getNow(),file_preview_session_id:t.file_preview_session_id,video_format:t.video_format,video_duration_seconds:t.video_duration_seconds,video_truncated:t.video_truncated,ns_id:t.ns_id,sj_id:t.sj_id,extra:JSON.stringify(Object.assign(Object.assign({},t.extra),{redesign2023Variant:t.redesign2023Variant}))};Un({url:"/log/video_preview",data:i})},Wn=e=>({file_preview_session_id:e.file_preview_session_id,file_viewer_session_id:e.file_viewer_session_id,device_type:e.device_type,extra:Object.assign(Object.assign({},e.extra),{video_format:`${e.video_format}`,video_duration_seconds:`${e.video_duration_seconds}`,video_truncated:`${e.video_truncated}`,source_context:e.source_context,preview_type:e.preview_type,redesign2023Variant:e.redesign2023Variant})}),Gn=(e,t,i)=>{Kn(e,i);const a=Wn(i);Bn(e,t,"web_audiovideo_previews",a)},qn=(e,t,i,n)=>{Gn(i,1,n),((e,t,i,n)=>{var o;const s=e?r.getExtension(e):void 0;switch(i){case K.VideoPreviewEvent.ChangeVideoQuality:"user_selected"===(null===(o=n.extra)||void 0===o?void 0:o.video_quality_changer)&&a.logEvent({class:"previews",action:"change",object:"audio_video_quality",properties:{actionScreen:t,fileSize:null==e?void 0:e.bytes,fileType:c.getPapFileType(s)}});break;case K.VideoPreviewEvent.ChangePlaybackRate:a.logEvent({class:"previews",action:"change",object:"audio_video_speed",properties:{actionScreen:t,fileSize:null==e?void 0:e.bytes,fileType:c.getPapFileType(s)}})}})(e,t,i,n)},Yn=(e,t,i)=>{Kn(e,i);const a=Wn(i);$n(e,t,"web_audiovideo_previews",a)},Jn="file_viewer_right_rail_collapsed_preference",Qn="file_viewer_right_rail_blade_preference",Xn="file_viewer_left_sidebar_preference",Zn="file_viewer_right_sidebar_preference",er="file_viewer_doc_sidebar_collapsed_preference",tr="file_viewer_video_volume_preference",ir="file_viewer_video_muted_preference";function ar(e){return e?function(e){return{rightRail:{setCollapsedState:({isCollapsed:t})=>{!function(e,t){try{a.UserLocalStorage.set(e,Jn,t)}catch(e){}}(e.id,t)},getCollapsedState:()=>function(e){var t;try{return null===(t=a.UserLocalStorage.get(e,Jn))||void 0===t||t}catch(e){return!0}}(e.id),setBladeState:({bladeId:t})=>{!function(e,t){try{a.UserLocalStorage.set(e,Qn,t)}catch(e){}}(e.id,t)},getBladeState:()=>function(e){var t;try{return null!==(t=a.UserLocalStorage.get(e,Qn))&&void 0!==t?t:void 0}catch(e){return}}(e.id)},docSidebar:{setCollapsedState:({isCollapsed:t})=>{!function(e,t){try{a.UserLocalStorage.set(e,er,t)}catch(e){}}(e.id,t)},getCollapsedState:()=>function(e){var t;try{return null===(t=a.UserLocalStorage.get(e,er))||void 0===t||t}catch(e){return!0}}(e.id)},video:{getVolumeState:()=>function(e){var t;try{return parseFloat(null!==(t=a.UserLocalStorage.get(e,tr))&&void 0!==t?t:1)}catch(e){return 1}}(e.id),setVolumeState:t=>function(e,t){try{a.UserLocalStorage.set(e,tr,t)}catch(e){}}(e.id,t),getMutedState:()=>function(e){var t;try{return null!==(t=a.UserLocalStorage.get(e,ir))&&void 0!==t&&t}catch(e){return!1}}(e.id),setMuteState:t=>function(e,t){try{a.UserLocalStorage.set(e,ir,t)}catch(e){}}(e.id,t)},accountPageUserRelatedPreference:{setOptInToVideoTranscript:()=>{return t=e.id,i="previews_transcription",n=!0,a.WebRequest({url:"/account/set_user_related_preference",subject_user:t,dataType:"json",data:{preference_key:i,preference_value:n}});var t,i,n}},sidebar:{setLeftSidebarState:t=>function(e,t){try{a.UserLocalStorage.set(e,Xn,t)}catch(e){}}(e.id,t),setRightSidebarState:t=>function(e,t){try{a.UserLocalStorage.set(e,Zn,t)}catch(e){}}(e.id,t),getSidebarState:()=>function(e){var t,i;try{const n=null!==(t=a.UserLocalStorage.get(e,Xn))&&void 0!==t?t:void 0,r=null!==(i=a.UserLocalStorage.get(e,Zn))&&void 0!==i?i:void 0;if(!n&&!r)return;return{left:n,right:r}}catch(e){return}}(e.id)}}}(e):{rightRail:{setCollapsedState:()=>{},getCollapsedState:()=>!0,setBladeState:()=>{},getBladeState:()=>{}},docSidebar:{setCollapsedState:({})=>{},getCollapsedState:()=>!0}}}const nr=(e,t)=>!!e&&((!t||0!==t.canDownloadRoles.length)&&((!e||"pdf"===r.getExtension(e))&&!U.is_mobile_or_tablet(navigator.userAgent))),rr="photo_edit_plugin";const or=e=>{e.logUserAction(H.UserAction.OpenWithImageEditor,"title_bar_main",{context:"preview_top_nav"})},sr=[".maestro-chrome","#maestro-nav","#page-footer","#page-content","#page-header","#page-sidebar","#flash-upload-container","#maestro-header","#maestro-header-portal","#maestro-prompt",".snackbar-container","#onboarding-sidebar-pagelet",".maestro-portal"].join(),lr="data-preview-old-display";function cr(){Array.from(document.querySelectorAll(sr)).forEach((e=>{e.style.display=e.hasAttribute(lr)?e.getAttribute(lr):""}))}const dr=a.Loadable({loader:()=>new Promise((function(t,i){e(["./c_sdk_file_viewer_replay_prompt_replay_dialog"],t,i)})).then((({ReplayDialog:e})=>e))});a.injectInternalStyle("metaserver/static/js/file_viewer/app_download_interstitial/app_download_interstitial.module.out.css",(e=>"._app-download-interstitial-container_1veeb_1{align-items:stretch;background:var(--color__standard__background);bottom:0;box-sizing:border-box;display:flex;flex-direction:column;height:100%;justify-content:center;padding:20px;position:fixed;top:0;width:100vw;z-index:21}._dropbox-logo_1veeb_19{align-content:baseline;align-items:baseline;display:flex;flex-direction:row;justify-content:center;margin:var(--spacing__unit--1) 0;width:auto}._dropbox-logo_1veeb_19>svg{height:60px}._app-download-interstitial-close_1veeb_34{box-sizing:content-box;color:var(--color__faint__text);padding:var(--spacing__unit--2);position:absolute;right:0;top:0;z-index:1}._app-download-interstitial-container_1veeb_1>header,._app-download-interstitial-ctas_1veeb_45{flex-shrink:0}._app-download-interstitial-ctas_1veeb_45{flex-shrink:0;padding:0 40px}._app-download-interstitial-cta_1veeb_45{display:block;margin-bottom:var(--spacing__unit--2);width:100%}._app-download-interstitial-cta_1veeb_45:last-child{margin-bottom:0}._app-download-interstitial-content_1veeb_65{display:flex;flex-direction:column;flex-grow:1;justify-content:center;padding:0;text-align:center}._app-download-interstitial-content_1veeb_65>header{flex-shrink:0}._app-download-interstitial-content-thumbnail_1veeb_78{align-items:center;display:flex;flex-direction:column;flex-grow:1;font-weight:500;justify-content:center}._app-download-interstitial-content-thumbnail_1veeb_78>div{max-width:100%;padding-bottom:var(--spacing__unit--1)}._app-download-interstial-copy-notification_1veeb_92{padding-bottom:var(--spacing__unit--2);text-align:center}._file-icon_1veeb_97{flex:1 1 0;max-height:160px}"));const ur="_app-download-interstitial-cta_1veeb_45",pr="_file-icon_1veeb_97";function _r({onClose:e}){return i.React$1.createElement("header",null,i.React$1.createElement("h1",{className:"_dropbox-logo_1veeb_19"},i.React$1.createElement(a.FssWordmark,null)),i.React$1.createElement(a.IconButton,{className:"_app-download-interstitial-close_1veeb_34",variant:"transparent",size:"small","aria-label":d.intl.formatMessage({id:"5xXFHL",defaultMessage:"Close"}),onClick:e},i.React$1.createElement(a.UIIcon,{src:a.CloseLine})))}function mr({appUrls:e,onContinue:t,onAppDownload:n}){const r=i.React$1.useCallback((()=>{null==n||n(),ut(e)}),[e,n]);return i.React$1.createElement("div",{className:"_app-download-interstitial-ctas_1veeb_45"},i.React$1.createElement(rt,{className:"_app-download-interstial-copy-notification_1veeb_92"}),i.React$1.createElement(a.Button,{className:ur,size:"large",variant:"primary",href:gr(e),onClick:r},d.intl.formatMessage({id:"iFaoLl",defaultMessage:"Get the app"})),i.React$1.createElement(a.Button,{className:ur,size:"large",variant:"opacity",onClick:t},d.intl.formatMessage({id:"D55B6I",defaultMessage:"Or continue to website"})))}function fr({fileOrFolderName:e,isFolder:t,ownerName:n,ownerTeamName:r}){return i.React$1.createElement("section",{className:"_app-download-interstitial-content_1veeb_65"},i.React$1.createElement("header",null,i.React$1.createElement(a.Title,null,d.intl.formatMessage({id:"F43usw",defaultMessage:"Get a better view with our mobile app"}))),i.React$1.createElement("div",{className:"_app-download-interstitial-content-thumbnail_1veeb_78"},t?i.React$1.createElement(a.IconContent,{name:"folder_shared-large",className:pr}):i.React$1.createElement(a.FileIcon,{path:e,variant:"large",className:pr}),i.React$1.createElement("div",null,i.React$1.createElement(a.Text,{isBold:!0},i.React$1.createElement(te.Truncate,{location:.5},e))),i.React$1.createElement(a.Text,{color:"faint"},(s=r,(o=n)&&s?d.intl.formatMessage({id:"eqU+DV",defaultMessage:"{owner} ({team}) shared this with you."},{owner:o,team:s}):o&&!s?d.intl.formatMessage({id:"6skgcw",defaultMessage:"{owner} shared this with you."},{owner:o}):!o&&s?d.intl.formatMessage({id:"pT8Q4Y",defaultMessage:"{team} shared this with you."},{team:s}):d.intl.formatMessage({id:"RDRrX1",defaultMessage:"This file was shared with you."})))));var o,s}function gr(e){if(e){if(at(e))return e.iOSAppStoreUrl;if(nt(e))return e.androidAppUrl}}const vr=a.requireCssWithComponent((e=>{const{className:t,open_in_app_data:n,fileOrFolderName:r,isFolder:o,onClose:s,onContinue:l,onAppDownload:c,ownerName:d,ownerTeamName:u}=e;return i.React$1.createElement("section",{className:a.classnames("_app-download-interstitial-container_1veeb_1",t)},i.React$1.createElement(_r,{onClose:s}),i.React$1.createElement(fr,{isFolder:o,fileOrFolderName:r,ownerName:d,ownerTeamName:u}),i.React$1.createElement(mr,{onContinue:l,onAppDownload:c,appUrls:n}))}),["/static/metaserver/static/css/dig-components/index.web-vflvPodS4.css"]),hr=(e,t)=>{W.getMetricsReporter$1().createStats({ns:"web_previews",name:e},{source:t,is_edison:String(!!window.RUNNING_IN_EDISON)}).record(1)};a.injectInternalStyle("metaserver/static/js/open_in_app/ui/banner.module.out.css",(e=>"._banner_1qu5f_1{background-color:var(--color__highlight__temporary);display:flex;justify-content:space-between;z-index:10}._text-container_1qu5f_9{flex-grow:1;padding:var(--spacing__unit--2)}._copy-notification_1qu5f_14{padding-top:var(--spacing__unit--1)}._banner_1qu5f_1 ._close-button_1qu5f_18{align-self:center;box-sizing:content-box;display:flex;padding:0 var(--spacing__unit--1)}"));const Sr=e=>{const{onClick:t,onClose:n,urls:r,isMountedFile:o}=e,[s,l]=i.react.exports.useState(!1);i.React$1.useEffect((()=>pt),[]);const c=i.react.exports.useCallback((()=>{l(!0),null==n||n()}),[n]),u=i.react.exports.useCallback((()=>{null==t||t(),o&&(null==r?void 0:r.platform)===it.ANDROID_MARKET?a.redirect(r.androidAppUrl):ut(r)}),[t,o,r]);if(s||!r)return null;if(U.safari&&U.iOS&&"ON"===L.fileViewerFeatureExperiments.shaqCodeYellowNoBanner)return null;return U.iOS&&dt()?i.React$1.createElement(a.Banner,{type:"attention",withLeftIcon:!1,withCloseButton:"Close",onRequestClose:c},i.React$1.createElement(a.Banner.Message,null,d.intl.formatMessage({id:"eNdtXI",defaultMessage:"Browse files faster in the Dropbox app"})),i.React$1.createElement(a.Banner.Actions,null,i.React$1.createElement(a.Button,{onClick:u,variant:"outline",withIconLeft:i.React$1.createElement(a.UIIcon,{src:ae.DropboxLine})},d.intl.formatMessage({id:"/239AG",defaultMessage:"Open in App"})))):i.React$1.createElement("div",{className:"_banner_1qu5f_1"},i.React$1.createElement("div",{className:"_text-container_1qu5f_9"},i.React$1.createElement(a.Button,{onClick:u,variant:"transparent",hasNoUnderline:!0},o&&r.platform===it.ANDROID_MARKET?d.intl.formatMessage({id:"gxO/+x",defaultMessage:"Open App"}):d.intl.formatMessage({id:"pezXnL",defaultMessage:"View In App"})),i.React$1.createElement(rt,{className:"_copy-notification_1qu5f_14",color:"standard",size:"small"})),i.React$1.createElement(a.IconButton,{variant:"transparent",className:"_close-button_1qu5f_18",size:"large","aria-label":d.intl.formatMessage({id:"LwqLT7",defaultMessage:"Close"}),onClick:c},i.React$1.createElement(a.UIIcon,{src:a.CloseLine})))};Sr.displayName="OpenInAppBanner";const Er=e=>{const{file:t,sharedLinkInfo:n,onDismiss:o,openInAppData:s,fileViewerSessionId:l,filePreviewSessionId:c,onAppDownload:d,logUserAction:u,fileViewOrigin:p}=e,_=r.getFilename(t),m=i.React$1.useCallback((e=>{a.MobileFilePreviewLogger.log(e,l,c,t.ns_id,t.sjid,{context:a.UserActionContext.AppDownloadInterstitial,location:"file_viewer",origin:p}),null==u||u(e,a.UserActionContext.AppDownloadInterstitial)}),[t,c,l,u,p]);i.React$1.useEffect((()=>{a.mark_time_to_interactive(),m(a.UserAction.AppDownloadInterstitialView)}),[]);const f=i.React$1.useCallback((()=>{o(),m(a.UserAction.AppDownloadInterstitialContinue)}),[o,m]),g=i.React$1.useCallback((()=>{o(),m(a.UserAction.AppDownloadInterstitialClose)}),[o]),v=i.React$1.useCallback((()=>{m(a.UserAction.AppDownloadInterstitialInstall),null==d||d()}),[o,d]);return i.React$1.createElement(ee.RegisterComponentWithBugReporter,{componentId:"web.previews",componentName:"File Preview"},i.React$1.createElement("div",{"aria-label":_},i.React$1.createElement(vr,{fileOrFolderName:_,open_in_app_data:s,onContinue:f,onAppDownload:v,ownerName:n.ownerName,ownerTeamName:n.ownerTeamName,onClose:g})))};Er.displayName="FvsdkAppDownloadInterstitial";const wr=e=>{const{onHide:t,user:n,activePreviewFile:r}=e,o=u.useFileViewerContext(),s=i.React$1.useCallback((()=>{o.pluginContext.logUserAction(a.UserAction.OpenInApp,a.UserActionContext.OpenInAppBanner)}),[]);if(!U.is_mobile_or_tablet()&&(U.iOS||U.is_android()))return null;const{file:l,shareToken:c,sharePermission:d}=r,p=Xa(l,c,d,n);if(p){const e=!(l&&c&&d);return i.React$1.createElement("div",{style:{width:"100%"}},i.React$1.createElement(Sr,{urls:p,onClick:s,onClose:t,isMountedFile:e}))}return null};wr.displayName="OpenInAppHeader",wr.displayName="OpenInAppHeader";const br=e=>new a.DefaultUserApiV2Client(e),yr=(e,t)=>s.__awaiter(void 0,void 0,void 0,(function*(){const i=yield br(t).ns("publish").rpc("get_actions",{filter:{".tag":"file_id",file_id:e}},{});if(!i)throw new Error("Unable to retrieve Publish actions for the file");let a=[];if(i.actions&&i.actions.length>0){const e=new Date;a=i.actions.reduce(((t,i)=>{if(i.post_status&&"scheduled"===i.post_status[".tag"]&&void 0!==i.profile_posts){const a=i.post_timestamp;if(a){if(new Date(a).getTime()>e.getTime()){const e=[];i.profile_posts.forEach((t=>{var i;const a=null===(i=null==t?void 0:t.profile)||void 0===i?void 0:i.profile_type;a&&e.push("facebook_page"===a[".tag"]?"Facebook":"Instagram")}));const n={profiles:e,postTimestamp:a,actionId:i.action_pid},r=t.findIndex((e=>e.postTimestamp>a));-1===r?t.push(n):t.splice(r,0,n)}}}return t}),[])}return a})),Ir="cancel-scheduled-post",Tr=({closeCancelPostModal:e,removeBanner:t,open:n,actionId:r,filename:o,user:l})=>{const c=i.React$1.useCallback((()=>s.__awaiter(void 0,void 0,void 0,(function*(){e(!0);try{a.Snackbar.sync("Canceling the scheduled post...",!0,Ir),yield((e,t)=>s.__awaiter(void 0,void 0,void 0,(function*(){yield br(e).ns("publish").rpc("delete_action",{action_id:t},{})})))(l,r),a.Snackbar.complete("Canceled the scheduled post.",Ir),t()}catch(e){a.Snackbar.fail("Failed to cancel the scheduled post.",Ir)}}))),[l,r,e,t]),d=i.React$1.createElement(a.Text,{isBold:!0},o);return i.React$1.createElement(a.Modal,{open:n,isCentered:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>e(),width:544},i.React$1.createElement(a.Modal.Header,{hasBottomSpacing:"title-standard"},i.React$1.createElement(a.Modal.Title,null,"Cancel post?")),i.React$1.createElement(a.Modal.Body,null,i.React$1.createElement(a.Text,{size:"standard"},"This will cancel your scheduled post with ",d,". You can always schedule a new post from this file.")),i.React$1.createElement(a.Modal.Footer,null,i.React$1.createElement(a.Button,{variant:"opacity",onClick:()=>{e(!0)}},"Never mind"),i.React$1.createElement(a.Button,{variant:"primary",onClick:()=>{c()}},"Cancel post")))};Tr.displayName="CancelPostModal";const Rr=({file:e,user:t,featureConfig:n})=>{const[o,l]=i.React$1.useState(!1),[c,d]=i.React$1.useState(),[u,p]=i.React$1.useState(!1),[_,m]=i.React$1.useState(),f=i.React$1.useCallback((()=>"ON"===(null==n?void 0:n.publish_previews_permanent_entrypoint)&&"ON"===re.PUBLISH_NEW_FEATURE_TEST),[n]);return i.React$1.useEffect((()=>{d(void 0),l(!1);const i=e.file_id,n=a.ExtensionCategories[r.getExtension(e)];let o=!0;const c=()=>s.__awaiter(void 0,void 0,void 0,(function*(){const e=yield((e,t,i)=>s.__awaiter(void 0,void 0,void 0,(function*(){const a=yield yr(e,i),n={};let r;if(a&&a.length>0){const e=a[0];if(n.actionId=e.actionId,e.profiles.length>0&&e.postTimestamp){const i=e.profiles.filter(((t,i)=>e.profiles.indexOf(t)===i)),a=i.length;let n;n=1===a?i[0]:2===a?`${i[0]} and ${i[1]}`:3===a?`${i[0]}, ${i[1]}, and ${i[2]}`:`${i.slice(0,-1).join(", ")}, and ${i[a-1]}`;const o=new Date(e.postTimestamp),s=new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric"}),l=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!0,hourCycle:"h12"}),c=new Date;if(o.getDate()===c.getDate()&&o.getMonth()===c.getMonth()&&o.getFullYear()===c.getFullYear())r=`This ${t} will be published to ${n} today at ${l.format(o)}.`;else{const e=new Date;e.setDate(c.getDate()+1),r=o.getDate()===e.getDate()&&o.getMonth()===e.getMonth()&&o.getFullYear()===e.getFullYear()?`This ${t} will be published to ${n} tomorrow at ${l.format(o)}.`:`This ${t} will be published to ${n} on ${s.format(o)} at ${l.format(o)}.`}}}return n.message=r,n})))(i,"VIDEO"===n?"video":"image",t);o&&e&&e.message&&(l(!0),d(e.message),m(e.actionId))}));return!f()||"VIDEO"!==n&&"IMAGE"!==n||c(),()=>{o=!1}}),[l,e,t,f]),o?i.React$1.createElement("div",null,i.React$1.createElement(a.Banner,{type:"attention",withLeftIcon:i.React$1.createElement(a.UIIcon,{src:ne.RocketLine})},i.React$1.createElement(a.Banner.Message,null,c),_&&i.React$1.createElement(a.Banner.Actions,null,i.React$1.createElement(a.Button,{variant:"transparent",onClick:()=>p(!0)},"Cancel post"))),_&&i.React$1.createElement(Tr,{closeCancelPostModal:()=>p(!1),removeBanner:()=>l(!1),open:u,actionId:_,filename:r.getFilename(e),user:t})):null};Rr.displayName="PublishBanner";const Pr=()=>i.React$1.createElement("div",{className:le.footerContainer});a.injectInternalStyle("metaserver/static/js/file_viewer/sdk_file_viewer/titlebar/mobile/mobile_title_bar.module.out.css",(e=>":root{--titlebarHeight:64px}._titleBar_1vqwx_5{align-items:center;background:var(--color__standard__background);border-bottom:1px solid var(--color__standard__border);display:flex;height:var(--titlebarHeight);justify-content:space-between}._mobileMeatball_1vqwx_14{padding-right:var(--spacing__unit--2)}"));const Ar="_titleBar_1vqwx_5",xr=()=>i.React$1.createElement("div",{className:Ar}),Cr=i.react.exports.lazy((()=>s.__awaiter(void 0,void 0,void 0,(function*(){const{MobileFooter:t}=yield new Promise((function(t,i){e(["./c_src_mobile_web_footer"],t,i)}));return{default:t}})))),Mr=e=>i.react.exports.createElement(i.react.exports.Suspense,{fallback:i.react.exports.createElement(Pr,null)},i.react.exports.createElement(Cr,Object.assign({},e)));Mr.displayName="LazyMobileFooter";const Or=i.react.exports.lazy((()=>s.__awaiter(void 0,void 0,void 0,(function*(){const{MobileHeader:t}=yield new Promise((function(t,i){e(["./c_sdk_file_viewer_mobile_web_header"],t,i)}));return{default:t}})))),Nr=e=>i.react.exports.createElement(i.react.exports.Suspense,{fallback:i.react.exports.createElement(xr,null)},i.react.exports.createElement(Or,Object.assign({},e)));Nr.displayName="LazyMobileHeader";const Dr=i.react.exports.lazy((()=>s.__awaiter(void 0,void 0,void 0,(function*(){const{SaveDialog:t}=yield new Promise((function(t,i){e(["./c_folder_dialog_save_dialog"],t,i)}));return{default:t}})))),kr=e=>i.react.exports.createElement(i.react.exports.Suspense,{fallback:null},i.react.exports.createElement(Dr,Object.assign({},e)));kr.displayName="LazySaveDialog";a.injectInternalStyle("metaserver/static/js/capture/voice_over_onboarding_modal.module.out.css",(e=>"._header_5tvyi_1{margin-bottom:16px}._body_5tvyi_5{display:flex;justify-content:space-between}._onboardingStep_5tvyi_10{display:flex;flex-direction:column;width:206px}._onboardingStep_5tvyi_10>img{height:180px;margin-bottom:16px}._footer_5tvyi_21{display:flex;justify-content:space-between}"));const Fr="_header_5tvyi_1",Lr="_body_5tvyi_5",Ur="_onboardingStep_5tvyi_10",Vr="_footer_5tvyi_21",Br=i.static_url("/static/metaserver/static/js/capture/assets/onboarding-step-one-vfl5fe8mh.png"),$r=i.static_url("/static/metaserver/static/js/capture/assets/onboarding-step-two-vflBfe66Z.png"),jr=i.static_url("/static/metaserver/static/js/capture/assets/onboarding-step-three-vfllwz-QB.png"),zr=({open:e,onClose:t,onConfirm:n})=>(i.react.exports.useEffect((()=>{const i=i=>{e&&"Escape"===i.key&&t()};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}}),[t,e]),i.React$1.createElement(a.Modal,{"aria-labelledby":"sdk-onboarding-modal-title","data-testid":"onboarding-modal",open:e,width:"large"},i.React$1.createElement(a.Modal.Header,{className:Fr,hasBottomSpacing:"title-standard"},i.React$1.createElement(a.Modal.Title,{id:"sdk-onboarding-modal-title"},d.intl.formatMessage({id:"SPrmq9",defaultMessage:"How to attach a video to your file"}))),i.React$1.createElement(a.Modal.Body,null,i.React$1.createElement("div",{className:Lr},i.React$1.createElement("div",{className:Ur},i.React$1.createElement("img",{alt:"",src:Br}),i.React$1.createElement(a.Text,null,d.intl.formatMessage({id:"LrNd/b",defaultMessage:"Give Capture permission to record your screen."}))),i.React$1.createElement("div",{className:Ur},i.React$1.createElement("img",{src:$r,alt:""}),i.React$1.createElement(a.Text,null,d.intl.formatMessage({id:"uxk59D",defaultMessage:"Record and save the video with your voice-over."}))),i.React$1.createElement("div",{className:Ur},i.React$1.createElement("img",{src:jr,alt:""}),i.React$1.createElement(a.Text,null,d.intl.formatMessage({id:"mH4hb8",defaultMessage:"Others will be able to open the video directly from your file."}))))),i.React$1.createElement(a.Modal.Footer,{className:Vr},i.React$1.createElement(a.Button,{onClick:t,variant:"transparent"},d.intl.formatMessage({id:"4zRKFO",defaultMessage:"Close"})),i.React$1.createElement(a.Button,{onClick:n,variant:"primary"},d.intl.formatMessage({id:"PPtpAY",defaultMessage:"Start"}))))),Hr=i.React$1.lazy((()=>new Promise((function(t,i){e(["./c_capture_async_recorder"],t,i)})))),Kr="capture_sdk_fss_preview_voiceover",Wr="CAPTURE_VOICE_OVERS_ONBOARDING_SEEN",Gr="CAPTURE_VOICE_OVERS_HAS_SEEN_SUCCESS_MODAL",qr="CAPTURE_SDK_CREATED",Yr=i.React$1.lazy((()=>s.__awaiter(void 0,void 0,void 0,(function*(){const{VoiceOverSuccessModal:t}=yield new Promise((function(t,i){e(["./c_capture_voice_over_success_modal"],t,i)}));return{default:t}})))),Jr=e=>i.React$1.createElement(i.React$1.Suspense,{fallback:null},i.React$1.createElement(Yr,Object.assign({},e)));Jr.displayName="LazyVoiceOverSuccessModal";const Qr=({fileId:e,logEvent:t,triggerResetHandler:n,updateViewButtonHandler:r,user:o,voiceoverState:l})=>{const[c,d]=i.react.exports.useState(!1),[u,p]=i.react.exports.useState(!0),[_,m]=i.react.exports.useState(!1),[f,g]=i.react.exports.useState(null),[v,h]=i.react.exports.useState(0),[S,E]=i.react.exports.useState(!1),w=a.useDispatch(),b=a.useSelector(de.getRecorderState),y=a.useSelector(de.getUploadResult),I=e=>0!==e&&e%3==0,T=i.react.exports.useCallback((()=>s.__awaiter(void 0,void 0,void 0,(function*(){const e=yield a.getUserMetadata([Wr,Gr,qr],o.id),t=e.CAPTURE_VOICE_OVERS_ONBOARDING_SEEN;h(e.CAPTURE_SDK_CREATED||0),E(!!e.CAPTURE_VOICE_OVERS_HAS_SEEN_SUCCESS_MODAL),d(!t),p(!1)}))),[o]);i.react.exports.useEffect((()=>{T()}),[T,o]),i.react.exports.useEffect((()=>{s.__awaiter(void 0,void 0,void 0,(function*(){var i,n;if(y&&y.source===Kr){const s=null===(n=null===(i=y.capture_link)||void 0===i?void 0:i.split("/"))||void 0===n?void 0:n.pop();if(!s)return void t("upload_result_no_capture_link",Kr);w(de.clearUploadResult());try{yield new a.DefaultUserApiV2Client(o).ns("capture").rpc("create_file_association",{file_id:e,short_label:s},{}),h(v+1),!S||I(v+1)?g(s):r(e,s)}catch(e){t("failed_to_create_file_association",Kr)}}}))}),[w,e,t,S,v,r,y,o]),i.react.exports.useEffect((()=>{if(u)return;const e=_||b.active;l.triggered&&!e&&(c&&!_?(m(!0),d(!1)):w(de.openRecorder(Kr,l.useCamera)))}),[w,u,c,b,_,l]);const R=i.react.exports.useCallback((()=>{m(!1),a.setUserMetadata({[Wr]:!0},o.id),w(de.openRecorder(Kr,l.useCamera))}),[w,o,l]),P=i.react.exports.useCallback((()=>{a.setUserMetadata({[Gr]:!0},o.id),E(!0),f&&(r(e,f),g(null))}),[f,e,r,o]);return b.active&&b.source===Kr?i.React$1.createElement(i.react.exports.Suspense,{fallback:null},i.React$1.createElement(Hr,{onLaunch:n,skipOnboarding:!0,source:Kr,user:o})):_?i.React$1.createElement(zr,{open:_,onClose:R,onConfirm:R}):f?i.React$1.createElement(Jr,{user:o,open:!!f,onClose:P,logEvent:t,logSource:Kr,withUpsell:I(v)}):null},Xr=e=>a.getStateAtNamespace(e,a.FILE_VIEWER_NAMESPACE_KEY),Zr=e=>Xr(e).voiceoverTriggerState,eo=e=>{const t=Xr(e).fileCaptureVoiceover;if("none"!==t.state)return t.fileId},to=e=>{const t=Xr(e).fileCaptureVoiceover;if("none"!==t.state&&"fetching"!==t.state)return t.shortLabel},io=e=>{const t=Xr(e).fileCaptureVoiceover;return"none"!==t.state&&"fetching"!==t.state&&t.isOpen};function ao(e){return t=>{t({type:oe.Actions.SetCaptureFileVoiceover,payload:e})}}const no=["jpg","jpeg","png","gif"];function ro(e,t){return!(!e||!1===t)&&(e.length>0&&"."===e[0]&&(e=e.substr(1)),!(!a.isHellosignFileByExtension(e)||function(e){return!!e&&no.includes(e)}(e)))}const oo="assigned_tasks_blade";function so(e){return u.resolvePreviewTypeFromExtension(u.getFileExtension(e.name))!==F.PreviewType.CloudDoc}function lo(t,i,a){return function(t,i={},a,n){const r=(()=>{let n=null;return()=>s.__awaiter(this,void 0,void 0,(function*(){if(null==n){const{makeLoader:r}=yield new Promise((function(t,i){e(["./c_src_comments2_eager"],t,i)})).then((function(e){return e.eager_esnext}));n=r(t,a,i)}return n}))})();return{pluginId:u.COMMENTS_PLUGIN_ID,isEnabled:e=>{if(n&&!n())return!1;const t=e.getPluginData().file;return!!t&&so(t)},load:(e,t)=>s.__awaiter(this,void 0,void 0,(function*(){return(yield r()).load(e,t)}))}}(me.makeComments2Client(t),{showApproval:!!t&&L.fileViewerFlowExperiments.approvalFlowByUserId[t.id],isRedesign:a},t?me.dbxUserToIUser(t):void 0,i)}const co="CROP_ROTATE_BUTTON",uo=(t,i,a)=>({pluginId:co,isEnabled:()=>{const{file:e,sharePermission:t}=i();return((e,t,i)=>!(!t||!r.isBrowseFile(t)||i&&0===i.canDownloadRoles.length||t&&-1===fe.imageTypeAllowed.indexOf(e)||t.read_only||U.is_mobile_or_tablet(navigator.userAgent)))(r.getExtension(e),e,t)},load:(n,r)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{loadCropRotatePlugin:n}=yield new Promise((function(t,i){e(["./c_ui_preview_crop_and_rotate_crop_rotate_exports"],t,i)})).then((function(e){return e.crop_rotate_exports_esnext}));return n(co,t,r,i,a)}))}),po="SNACKBAR_MANAGER",_o={pluginId:po,load:(e,t)=>Promise.resolve({isSnackbarVisible:()=>{var e;return!!(null===(e=a.Snackbar.manager)||void 0===e?void 0:e.state.displayedSnackbar)},lifecycle:{}})},mo=i.react.exports.lazy((()=>s.__awaiter(void 0,void 0,void 0,(function*(){const{ChangeLogSection:t}=yield new Promise((function(t,i){e(["./c_flows_version_change_log_section"],t,i)}));return{default:t}})))),fo=e=>i.react.exports.createElement(a.LazySuspense,{fallback:i.react.exports.createElement("div",null)},i.react.exports.createElement(mo,Object.assign({},e))),go="PDF_EDITOR_ACTION",vo=e=>{const t=a.useDispatch();return i.react.exports.useCallback((()=>{t(u.setActiveEditPlugin({fileViewerId:e.fileViewerId,pluginId:u.PDF_EDITOR_PLUGIN_ID,sourceContext:H.UserActionContext.Toolbar})),e.logUserAction(H.UserAction.OpenWithPDFEditor,"title_bar_main",{context:"preview_top_nav"})}),[e,t])},ho=({label:e,context:t})=>{const n=vo(t);return i.React$1.createElement(a.Menu.ActionItem,{key:u.PDF_EDITOR_PLUGIN_ID,value:{nodeType:"dropdown",actionType:he.ActionBarActionTypes.CUSTOM_ACTION,id:u.PDF_EDITOR_PLUGIN_ID,menuItem:{handler:n}},withLeftAccessory:i.React$1.createElement(a.UIIcon,{src:ve.EditLine}),disabled:!1},e)};ho.displayName="OverflowItem";const So=({label:e,context:t,hideIcons:n})=>{const r=vo(t);return i.React$1.createElement(a.Button,{variant:"opacity",onClick:r,withIconLeft:n?null:i.React$1.createElement(a.UIIcon,{src:ve.EditLine}),disabled:!1,"data-tooltip":"action-bar-edit-button"},e)};So.displayName="RenderButton";var Eo=Object.freeze({__proto__:null,PDF_EDITOR_ACTION_PLUGIN_ID:go,makePdfEditorActionPlugin:(e,t,a)=>({actionDefinitions:()=>{const{file:n,sharePermission:r}=e();if(!nr(n,r))return{};const o=t.intl.formatMessage(f.EDIT_PDF_ACTION_STRING);return{atTopLevelIfSpace:[{renderButton:e=>i.React$1.createElement(So,{label:o,context:a,hideIcons:e}),id:go}],alwaysInOverflow:[[{overflowItem:i.React$1.createElement(ho,{label:o,context:a}),id:go}]]}}})});const wo=e=>{e.logUserAction(H.UserAction.OpenWithPDFEditor,"title_bar_main")},bo=e=>{var{overflowItemTooltipDataAttribute:t}=e,n=s.__rest(e,["overflowItemTooltipDataAttribute"]);const r=(({label:e,action:t,icon:n,disabled:r={disabled:!1},primary:o,tooltipMessage:s,campaignElementId:l,isActionBarButtonLoading:c=!1})=>{const d=e=>{e.preventDefault(),e.stopPropagation(),t()},u=e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),t())};return t=>{const p=i.React$1.createElement(a.Button,{variant:o?"primary":"opacity",onClick:d,onKeyPress:u,withIconLeft:t?null:n,disabled:r.disabled,"data-campaigns-element-id":l,isLoading:c},e);return s?i.React$1.createElement(a.Tooltip,{title:s,maxWidth:320},p):p}})(n),o=(({label:e,action:t,id:n,icon:r,disabled:o={disabled:!1},overflowItemTooltipDataAttribute:s})=>{const l=i.React$1.createElement(a.Menu.ActionItem,{value:{nodeType:"dropdown",actionType:he.ActionBarActionTypes.CUSTOM_ACTION,id:n,menuItem:{handler:t}},withLeftAccessory:r,disabled:o.disabled,"data-tooltip":s},e);return o.disabled?i.React$1.createElement(a.Tooltip,{title:o.tooltipMessage},i.React$1.createElement("span",{style:{display:"block"},tabIndex:0},l)):l})(Object.assign(Object.assign({},n),{overflowItemTooltipDataAttribute:t}));return{id:n.id,renderButton:r,overflowItem:o}};function yo(e,t,i){const a={filename:r.getFilename(e),isFolder:!1,nsId:e.ns_id,origin:i,sjid:e.sjid,url:t||void 0,fqPath:""};return r.isBrowseFile(e)&&(a.fqPath=e.fq_path),null!=e.file_id&&(a.fileId=e.file_id),a}function Io(t,i,a,n){new Promise((function(t,i){e(["./c_sharing_share_modal_util"],t,i)})).then((e=>{const r=yo(t,a,n.origin);e.showShareModal(i,r,n)}))}var To=Object.freeze({__proto__:null,getDataForContentInfo:yo,share:Io});const Ro="SHARE",Po=a.defineMessage({id:"VzQ1nj",defaultMessage:"Ask the owner of this file for permission to share it with others"}),Ao=(e,n,o)=>({pluginId:Ro,load:(l,c)=>{const u=o&&new a.FileShareApiClient({userId:o.id});return Promise.resolve(new class{constructor(i){this.identifier=Ro,this.lifecycle={previewDidInitialize:()=>s.__awaiter(this,void 0,void 0,(function*(){var i;const{file:a}=e(),s=r.isSharedFile(a),l=U.is_supported_mobile_browser();this.isMobile=l||window.innerWidth<801;const c=n===t.SDKPreviewSurface.SHARED_LINK||n===t.SDKPreviewSurface.VERSION_HISTORY;o&&this.isMobile&&s&&u&&!c&&a.file_id!==(null===(i=this.metadata)||void 0===i?void 0:i.id)&&a.file_id!==this.lastFailedId&&(yield u.getMetadataAlpha({contentId:a.file_id}).then((e=>this.metadata=e)).catch((()=>this.lastFailedId=a.file_id)))}))},this.context=i}actionDefinitions(){return o&&this.isMobile&&n!==t.SDKPreviewSurface.VERSION_HISTORY?{alwaysInOverflow:[[this.shareDefinition(e())]]}:{}}shareDefinition(e){const{file:t}=e,n=r.isSharedFile(t),s=!!this.metadata&&this.metadata.access_type!==a.ACCESS_LEVEL.WRITER,l=n&&s;return bo({label:d.intl.formatMessage(f.SHARE_ACTION_STRING),disabled:l?{disabled:!0,tooltipMessage:d.intl.formatMessage(Po)}:{disabled:!1},icon:i.React$1.createElement(a.UIIcon,{src:Se.ShareArrowLine}),id:Ro,action:()=>{o&&(Io(t,o,null,{origin:a.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE}),this.context.logUserAction(H.UserAction.Share,H.UserActionContext.TitleBarMain))}})}}(c))}});const xo=i.react.exports.memo((({id:e,intl:t,children:n})=>i.react.exports.createElement(d.Provider,{value:t},i.react.exports.createElement(Ee.RightRail.Blade,{withIcon:i.react.exports.createElement(a.UIIcon,{src:a.InfoLine}),withTitle:t.formatMessage({id:"pehNW7",defaultMessage:"Info"}),id:e},n))));xo.displayName="InfoBlade";const Co=i.react.exports.memo((({id:e,intl:t})=>i.react.exports.createElement(d.Provider,{value:t},i.react.exports.createElement(Ee.RightRail.CollapsedBladeIcon,{withIcon:i.react.exports.createElement(a.UIIcon,{src:a.InfoLine,"aria-label":t.formatMessage({id:"Jf5mVf",defaultMessage:"Open info panel"})}),id:e,tooltip:t.formatMessage({id:"+PrmmG",defaultMessage:"Info"})}))));Co.displayName="InfoBladeCollapsedBladeButton";a.injectInternalStyle("typescript/component_libraries/files_components/src/blades/info_blade/index.module.out.css",(e=>"._info-blade--metadata-row_eqocj_1{display:flex}._info-blade--metadata-title_eqocj_9{display:flex;width:92px}._info-blade--metadata-data_eqocj_14{flex:1 1 0;margin-left:var(--spacing__unit--2);min-width:0}._info-blade--basic-metadata-container_eqocj_21{display:flex;flex-direction:column}._info-blade--file-breadcrumb-link_eqocj_26>span{color:var(--color__standard__text)}._info-blade--pathbar_eqocj_30 a{color:var(--color__faint__text)}._info-blade--expand-fields-button_eqocj_34{margin-top:var(--spacing__base_unit)}"));const Mo="_info-blade--metadata-row_eqocj_1",Oo="_info-blade--metadata-title_eqocj_9",No="_info-blade--metadata-data_eqocj_14",Do="_info-blade--basic-metadata-container_eqocj_21",ko="_info-blade--file-breadcrumb-link_eqocj_26",Fo="_info-blade--pathbar_eqocj_30",Lo="_info-blade--expand-fields-button_eqocj_34",Uo=i.react.exports.memo((e=>{var{path:t,size:a="small",openPath:n,accountRootName:r}=e,o=s.__rest(e,["path","size","openPath","accountRootName"]);const l=me.normalize(t),c=r,d=me.parent_dirs(l).reverse();return d.unshift(""),i.react.exports.createElement(we.Breadcrumb,Object.assign({size:a,isRootOverflow:!0},o),d.map((e=>i.react.exports.createElement(we.Breadcrumb.Link,{key:me.filename(e,c),href:()=>n(e),isCurrentPath:!1,className:ko},me.filename(e,c)))))}));Uo.displayName="FileBreadcrumb";const Vo={BINDER:["binder"],PAPER:["paper"],PAPER_TEMPLATE:["papert"],IMAGE:["3fr","arw","bmp","cr2","crw","dcr","dcs","dng","erf","gif","heic","j2c","j2k","jp2","jpc","jpeg","jpf","jpg","jpg2","jpm","jpx","kdc","mef","mos","mrw","nef","nrw","orf","pef","png","ppm","psd","r3d","raf","rw2","rwl","sr2","svg","svgz","tga","tif","tiff","wbmp","web","webp","x3f","ico","heif"],VIDEO:["3gp","3gpp","3gpp2","avi","dv","flv","m2t","m4v","mkv","mov","mp4","mpeg","mpg","mts","mxf","ts","vob","wmv"],AUDIO:["aif","flac","m4a","m4p","mp3","ogg","wav","wma"],DOCUMENT:["ai","cdr","csv","doc","docx","docm","eps","fla","gdoc","gsheet","gslides","indd","keynote","numbers","otf","pages","pdf","ppt","pptx","pptm","pps","ppsx","ppsm","ps","rtf","swf","txt","wpd","xls","xlsx","xlsm"],COMPRESSED_FILE:["7z","bz2","gz","gzip","rar","tar","zip"],CODE:["as","as3","asm","aspx","bat","c","cc","cmake","coffee","cpp","cs","css","cxx","diff","erb","erl","groovy","gry","h","haml","hh","hpp","html","htm","hxx","java","js","json","jsx","less","lst","m","make","mk","ml","mm","msg","out","patch","php","pl","pm","plist","properties","py","rb","sass","scala","scm","script","scss","sh","sml","sql","vb","vi","vim","xhtml","xml","xsd","xsl","y","yaml","yml","yxx"],DISK_IMAGE:["dmg","iso"],EXECUTABLE:["exe"],SHORTCUT:["lnk","web"],LINK:["url","webloc"],FONT:["ttf"]},Bo={};for(const e of Object.keys(Vo)){const t=Vo[e];for(const i of t)Bo[i]=e}const $o={FILE:e=>e.formatMessage({id:"v4Shkr",defaultMessage:"File"}),IMAGE:e=>e.formatMessage({id:"taNwEu",defaultMessage:"Image"}),VIDEO:e=>e.formatMessage({id:"0oGQrb",defaultMessage:"Video"}),AUDIO:e=>e.formatMessage({id:"sRcbgl",defaultMessage:"Audio"}),DOCUMENT:e=>e.formatMessage({id:"Fc5K7b",defaultMessage:"Document"}),COMPRESSED_FILE:e=>e.formatMessage({id:"etyvLK",defaultMessage:"Archive"}),CODE:e=>e.formatMessage({id:"+XtI3U",defaultMessage:"Code"}),DISK_IMAGE:e=>e.formatMessage({id:"1ibhRZ",defaultMessage:"Disk image"}),EXECUTABLE:e=>e.formatMessage({id:"AcUuht",defaultMessage:"Executable"}),SHORTCUT:e=>e.formatMessage({id:"JOimvX",defaultMessage:"Shortcut"}),LINK:e=>e.formatMessage({id:"g8rKMf",defaultMessage:"Link"}),FONT:e=>e.formatMessage({id:"1xtVFj",defaultMessage:"Font"}),PAPER:e=>e.formatMessage({id:"ONHPlw",defaultMessage:"Paper doc"}),PAPER_TEMPLATE:e=>e.formatMessage({id:"TfIt0w",defaultMessage:"Paper template"}),BINDER:e=>e.formatMessage({id:"3Tt6Qx",defaultMessage:"Binder"})},jo=(e,t)=>(0,$o[Bo[e]||"FILE"])(t),zo=({title:e,data:t})=>{const{placement:n,onChangePlacement:r}=me.useTooltipPlacement();return i.react.exports.createElement("div",{className:Mo},i.react.exports.createElement("div",{className:Oo},i.react.exports.createElement(a.Text,{size:"small",variant:"paragraph",color:"faint",style:{overflow:"hidden"}},i.react.exports.createElement(te.Truncate,{tooltipControlProps:{placement:n,openDelay:500,onChangePlacement:r,maxWidth:210}},e))),i.react.exports.createElement("div",{className:No},t))};zo.displayName="InfoBladeMetadataRow";const Ho=({title:e,data:t})=>{const{placement:n,onChangePlacement:r}=me.useTooltipPlacement();return i.react.exports.createElement(zo,{title:e,data:i.react.exports.createElement(a.Text,{variant:"paragraph",size:"small"},i.react.exports.createElement(te.Truncate,{tooltipControlProps:{placement:n,openDelay:500,auto:!0,maxWidth:210,onChangePlacement:r},lines:3},t))})};Ho.displayName="InfoBladeTextMetadataRow";const Ko=i.react.exports.memo((({file:e,pathBar:t,accountRootName:n="Dropbox"})=>{const{lastModifiedMs:r,size:o,name:s,fqPath:l}=e,c=a.useIntl();return i.react.exports.createElement("div",{className:Do},l&&(null==t?void 0:t.enabled)&&i.react.exports.createElement(zo,{title:c.formatMessage({id:"vRjK3h",defaultMessage:"Saved in"}),data:i.react.exports.createElement(Uo,{className:Fo,size:"small",path:l,accountRootName:n,openPath:t.openPath})}),void 0!==o&&i.react.exports.createElement(zo,{title:c.formatMessage({id:"7+ns4J",defaultMessage:"Size"}),data:i.react.exports.createElement(a.Text,{variant:"paragraph",size:"small"},be.formatBytes(c,o))}),r&&i.react.exports.createElement(zo,{title:c.formatMessage({id:"3TwhnG",defaultMessage:"Modified"}),data:i.react.exports.createElement(a.Text,{variant:"paragraph",size:"small"},c.formatTime(new Date(r),{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0}))}),s&&i.react.exports.createElement(zo,{title:c.formatMessage({id:"VPGq/B",defaultMessage:"Type"}),data:i.react.exports.createElement(a.Text,{variant:"paragraph",size:"small"},jo(me.file_extension(s),c))}))}));Ko.displayName="BasicFileMetadata";const Wo=1e3,Go=6e4,qo=36e5;function Yo(e,t){if(!e)return;if(isNaN(e)||e<=0)return;const i=Math.floor(e/qo),a=Math.floor(e%qo/Go),n=Math.floor(e%Go/Wo),r=Math.floor(e%Wo),o=0==i&&0==a&&n<15,s=i>0||a>=10,l={hours:t.formatNumber(i,{minimumIntegerDigits:2,maximumFractionDigits:0}),minutes:t.formatNumber(a,{minimumIntegerDigits:2,maximumFractionDigits:0}),seconds:t.formatNumber(n,{minimumIntegerDigits:2,maximumFractionDigits:0}),millis:String(r).padStart(3,"0")};return o?t.formatMessage({id:"tgiBzN",defaultMessage:"{minutes}:{seconds}.{millis}"},l):s?t.formatMessage({id:"Y2LnVt",defaultMessage:"{hours}:{minutes}:{seconds}"},l):t.formatMessage({id:"eHQbup",defaultMessage:"{minutes}:{seconds}"},l)}function Jo(e,t){if(e.audio_freq){if(e.audio_chan_layout){const i=+e.audio_chan_layout;if(!isNaN(i))return t.formatMessage({id:"ZFfsQG",defaultMessage:"{audio_freq} kHz {audio_chan_layout}"},{audio_freq:t.formatNumber(e.audio_freq/1e3),audio_chan_layout:t.formatNumber(i/100)})}return t.formatMessage({id:"o1Wy7v",defaultMessage:"{audio_freq} kHz"},{audio_freq:t.formatNumber(e.audio_freq/1e3)})}}const Qo=6e4,Xo=36e5,Zo=864e5,es=6048e5,ts=2592e6,is=31536e6;function as(e,t){if(e&&!(isNaN(e)||e<=0))return e<Qo?t.formatMessage({id:"XJTRCn",defaultMessage:"{value, plural, one{# second} other{# seconds}}"},{value:Math.round(e/1e3)}):e<Xo?t.formatMessage({id:"hYCfnh",defaultMessage:"{value, plural, one{# minute} other{# minutes}}"},{value:Math.round(e/Qo)}):e<Zo?t.formatMessage({id:"5vUoeT",defaultMessage:"{value, plural, one{# hour} other{# hours}}"},{value:Math.round(e/Xo)}):e<es?t.formatMessage({id:"VUIAfM",defaultMessage:"{value, plural, one{# day} other{# days}}"},{value:Math.round(e/Zo)}):e<ts?t.formatMessage({id:"0wIJlM",defaultMessage:"{value, plural, one{# week} other{# weeks}}"},{value:Math.round(e/es)}):e<is?t.formatMessage({id:"MPX3Ow",defaultMessage:"{value, plural, one{# month} other{# months}}"},{value:Math.round(e/ts)}):t.formatMessage({id:"toXz6N",defaultMessage:"{value, plural, one{# year} other{# years}}"},{value:Math.round(e/is)})}const ns=({metadata:e,onShowMore:t})=>{const[n,r]=i.react.exports.useState(!1),o=a.useIntl(),s=i.React$1.useMemo((()=>rs(e,o).filter((e=>!!e.value))),[e,o]),l=i.React$1.useMemo((()=>n?s:s.slice(0,8)),[s,n]),c=i.react.exports.useCallback((()=>{null==t||t(!n),r(!n)}),[n,t]),d=o.formatMessage({id:"+kc9n+",defaultMessage:"Show all"}),u=o.formatMessage({id:"5tvWhA",defaultMessage:"Hide"}),p=s.length>8;return i.React$1.createElement("div",null,l.map((e=>i.React$1.createElement(Ho,{key:`content-metadata-${e.name}`,title:e.name,data:e.value}))),p&&i.React$1.createElement(a.Button,{className:Lo,variant:"transparent",size:"small",onClick:c,fullWidth:!1},i.React$1.createElement(a.Text,{className:"expand-fields-button--context-text",size:"small",isBold:!0},n?u:d)))};ns.displayName="FileContentMetadataUI";const rs=(e,t)=>{switch(e[".tag"]){case"image":return ye.getImageSpecificDataFields(e,t);case"ms_office":return function(e,t){return[{name:t.formatMessage({id:"Ed/RQ2",defaultMessage:"Title"}),value:e.title},{name:t.formatMessage({id:"TpJn8o",defaultMessage:"Owner"}),value:e.creator},{name:t.formatMessage({id:"WRzvI1",defaultMessage:"Company"}),value:e.company},{name:t.formatMessage({id:"NL8ygk",defaultMessage:"Subject"}),value:e.subject},{name:t.formatMessage({id:"a8+LVV",defaultMessage:"Keywords"}),value:e.keywords},{name:t.formatMessage({id:"yGgaIu",defaultMessage:"Description"}),value:e.description},{name:t.formatMessage({id:"BLmrgy",defaultMessage:"Total edit time"}),value:e.total_edit_time_minutes?as(60*e.total_edit_time_minutes*1e3,t):void 0},{name:t.formatMessage({id:"nvGUhf",defaultMessage:"Revision Number"}),value:e.revision_number},{name:t.formatMessage({id:"EF/17d",defaultMessage:"Pages"}),value:e.pages?t.formatNumber(e.pages,{maximumFractionDigits:0}):void 0},{name:t.formatMessage({id:"RLrbhp",defaultMessage:"Words"}),value:e.words?t.formatNumber(e.words,{maximumFractionDigits:0}):void 0},{name:t.formatMessage({id:"2dpvY4",defaultMessage:"Slides"}),value:e.slides?t.formatNumber(e.slides,{maximumFractionDigits:0}):void 0}].filter((e=>!!e.value))}(e,t);case"pdf":return function(e,t){return[{name:t.formatMessage({id:"EF/17d",defaultMessage:"Pages"}),value:e.pages},{name:t.formatMessage({id:"MeqvVX",defaultMessage:"Dimensions"}),value:e.width&&e.height?t.formatMessage({id:"JEE1p9",defaultMessage:"{width} x {height}"},{width:t.formatNumber(e.width),height:t.formatNumber(e.height)}):void 0}].filter((e=>!!e.value))}(e,t);case"video":return function(e,t){return[{name:t.formatMessage({id:"u68XIJ",defaultMessage:"Creation Time"}),value:e.capture_date?t.formatTime(new Date(e.capture_date),{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0}):void 0},{name:t.formatMessage({id:"3RkPzL",defaultMessage:"Capturing Device"}),value:e.device},{name:t.formatMessage({id:"R+6yXm",defaultMessage:"Resolution"}),value:`${e.resolution_width}x${e.resolution_height}`},{name:t.formatMessage({id:"RaCxiO",defaultMessage:"Aspect Ratio"}),value:e.aspect_ratio},{name:t.formatMessage({id:"A4boBS",defaultMessage:"Duration"}),value:e.duration_precise?Yo(e.duration_precise*Wo,t):void 0},{name:t.formatMessage({id:"c9FloK",defaultMessage:"Frame Rate"}),value:`${e.frame_rate} fps`},{name:t.formatMessage({id:"y7aJQC",defaultMessage:"Color Space"}),value:e.color_space},{name:t.formatMessage({id:"TtPMcl",defaultMessage:"Bit Rate"}),value:e.bit_rate?t.formatMessage({id:"/xb44b",defaultMessage:"{bit_rate} kb/s"},{bit_rate:Math.floor(e.bit_rate/1e3)}):void 0},{name:t.formatMessage({id:"C1kd1L",defaultMessage:"Audio"}),value:Jo(e,t)},{name:t.formatMessage({id:"yq3RyE",defaultMessage:"Codec"}),value:e.codec}]}(e,t);case"audio":return function(e,t){return[{name:t.formatMessage({id:"yq3RyE",defaultMessage:"Codec"}),value:e.codec},{name:t.formatMessage({id:"Cwkfdc",defaultMessage:"Sampling Rate"}),value:Number(e.sampling_rate)/1e3+" kHz"},{name:t.formatMessage({id:"A4boBS",defaultMessage:"Duration"}),value:e.duration_precise?Yo(e.duration_precise*Wo,t):void 0},{name:t.formatMessage({id:"0Fq1H6",defaultMessage:"Channels"}),value:e.channels},{name:t.formatMessage({id:"TtPMcl",defaultMessage:"Bit Rate"}),value:String(Math.floor(e.bit_rate/1e3))+" kb/s"}]}(e,t);default:return[]}},os="INFO_BLADE_STATE_KEY",ss=a.combineReducers({fileContentMetadata:(e={},t)=>t.type===Ee.Action.GetFileContentMetadataResult&&t.payload.result?Object.assign(Object.assign({},e),{[t.payload.arg.file_path_or_id]:t.payload.result}):e,uploadInfo:(e={},t)=>t.type===Ee.Action.GetUploadInfoResult&&t.payload.result?Object.assign(Object.assign({},e),{[t.payload.arg.file_path_or_id]:t.payload.result}):e});const ls=e=>e.INFO_BLADE_STATE_KEY,cs=i.React$1.memo(((e=!0)=>({fileId:t,userId:n,sharedLinkURL:r,onShowMore:o})=>{const{metadata:s}=(({fileId:e,userId:t,sharedLinkURL:n,performFetch:r})=>{const o=a.useSelector((t=>((e,t)=>{var i;return(null===(i=e.fileContentMetadata[t])||void 0===i?void 0:i.metadata)||null})(ls(t),e))),s=a.useDispatch();return i.react.exports.useEffect((()=>{r&&s(Ee.getFileContentMetadataAction({arg:{file_path_or_id:e,url:n},params:{subjectUserId:t}}))}),[e,s,t,r,n]),{metadata:o}})({fileId:t,userId:n,performFetch:e,sharedLinkURL:r});return s?i.React$1.createElement(ns,{metadata:s,onShowMore:o}):null})());cs.displayName="FileContentMetadata";const ds=i.React$1.memo((({ownerTeamName:e,ownerName:t})=>{const n=a.useIntl();let r="";return t&&e?r=n.formatMessage({id:"r8Mpyq",defaultMessage:"{owner_name} ({owner_team_name})"},{owner_name:t,owner_team_name:e}):e&&(r=e),r?i.React$1.createElement(Ho,{key:`content-metadata-${e}`,title:n.formatMessage({id:"qfF5dJ",defaultMessage:"From"}),data:r}):null}));ds.displayName="SharedLinkMetadata";const us=i.React$1.memo((({uploadInfo:e})=>{const t=a.useIntl(),n=[{title:t.formatMessage({id:"bD4kqG",defaultMessage:"Uploaded by"}),data:e.display_name},{title:t.formatMessage({id:"KMbzWs",defaultMessage:"Date uploaded"}),data:t.formatTime(new Date(e.uploaded),{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:!0})}];return i.React$1.createElement(i.React$1.Fragment,null,n.map((e=>e.data&&i.React$1.createElement(Ho,{title:e.title,data:e.data,key:e.title}))))}));us.displayName="UploadInfoMetadataUI";const ps=i.React$1.memo((e=>{const t=(({fileId:e,sharedLinkURL:t})=>{const n=a.useSelector((t=>((e,t)=>e.uploadInfo[t]||null)(ls(t),e))),r=a.useDispatch();return i.react.exports.useEffect((()=>{r(Ee.getUploadInfoAction({arg:{file_path_or_id:e,url:t}}))}),[e,r,t]),n})(e);return t&&i.React$1.createElement(us,{uploadInfo:t})}));ps.displayName="UploadMetadata";class _s{constructor(e,t,n,r,o,s,l,c){this.renderInfoContent=(e,t)=>{const n=e.file,r=a.useIntl(),o=i.react.exports.useMemo((()=>{const{fqPath:e,name:t,lastModifiedDate:i,size:a}=n;return{fqPath:e,size:a,name:t,lastModifiedMs:i?new Date(i).getTime():void 0}}),[n]),s=i.react.exports.useMemo((()=>({enabled:!0,openPath:e.navigation.navigateToPath})),[e.navigation.navigateToPath]),l=i.react.exports.useCallback((e=>{this.context.logUserAction(e?"click_show_all_metadata":"click_hide_all_metadata","right_sidebar")}),[]),c=i.react.exports.useCallback((()=>{this.context.logUserAction("right_rail_approval_status_click","right_sidebar",{file_id:n.fileId})}),[n]),{expandedBlade:d}=i.React$1.useContext(Ee.RightRailContext);return u.useRecordPreviewsTimerOnMount(this.context.fileViewerId,H.PreviewsTimer.SidebarContentsMount,{bladeId:u.INFO_BLADE_PLUGIN_ID},d===u.INFO_BLADE_PLUGIN_ID),i.React$1.createElement(a.Provider,{store:this.store},this.tagSection&&i.React$1.createElement(this.tagSection,{pluginContext:this.context,context:t}),i.React$1.createElement(a.Text,{variant:"paragraph",size:"small",isBold:!0},r.formatMessage({id:"bNnicH",defaultMessage:"Properties"})),i.React$1.createElement(Ko,{file:o,pathBar:s,accountRootName:this.rootName}),i.React$1.createElement(ds,Object.assign({},e.sharedLinkInfo)),i.React$1.createElement(ps,{fileId:n.fileId,sharedLinkURL:e.file.url}),this.getApprovalStatus&&i.React$1.createElement(me.ApprovalMetadata,{fileId:n.fileId,getApprovalStatus:this.getApprovalStatus,onClick:()=>{c(),this.context.getPluginData().navigation.openRightRailPlugin(H.UserActionContext.ApprovalStatus,u.COMMENTS_PLUGIN_ID)},InfoBladeRowComponent:zo}),this.userId&&i.React$1.createElement(cs,{fileId:n.fileId,userId:this.userId,sharedLinkURL:e.file.url,onShowMore:l}),this.changeLogSection&&i.React$1.createElement(this.changeLogSection,{pluginContext:this.context}))},this.rightRailUI={Sidebar:e=>i.React$1.createElement(xo,{intl:this.platform.intl,id:u.INFO_BLADE_PLUGIN_ID},this.renderInfoContent(e,"legacy_previews_right_rail")),Control:()=>i.React$1.createElement(Co,{intl:this.platform.intl,id:u.INFO_BLADE_PLUGIN_ID})},this.lifecycle={},this.sidebarUI={Icon:()=>i.React$1.createElement(a.UIIcon,{src:a.InfoLine}),Title:()=>i.React$1.createElement(i.React$1.Fragment,null,this.platform.intl.formatMessage({id:"pehNW7",defaultMessage:"Info"})),Content:e=>this.renderInfoContent(e,"preview_left_sidebar")},this.platform=e,this.store=t,this.userId=r,this.context=n,this.rootName=o,this.getApprovalStatus=s,this.tagSection=l,this.changeLogSection=c}}function ms(e,t,i,n,r){return{pluginId:u.INFO_BLADE_PLUGIN_ID,load:(o,l)=>s.__awaiter(this,void 0,void 0,(function*(){const s=function({apiV2ClientBase:e}){const t=a.combineReducers({[os]:ss});return a.createStore(t,a.applyMiddleware(Ee.middleware(e.ns("files"))))}({apiV2ClientBase:o.apiv2ClientBase});return new _s(o,s,l,e,t,i,n,r)}))}}a.injectInternalStyle("typescript/libraries/file-viewer/src/transcript_blade/transcript_blade.module.out.css",(e=>":root{--transcript-search-height:52px}._transcriptBlade_exsqe_10{display:flex;flex-direction:column;overflow:hidden;padding:0}._transcriptBladeContentWrapper_exsqe_17{height:100%;width:100%}._transcriptSearchWrapper_exsqe_22{height:52px}._transcriptHeaderOptionMenuWrapper_exsqe_28{display:flex;justify-content:flex-end;width:100%}._transcriptSegmentListContentWrapper_exsqe_34{height:calc(100% - var(--transcript-search-height));overflow:hidden;position:relative;width:100%}._transcriptErrorInfo_exsqe_41{align-items:center;display:flex;gap:8px;margin:12px 16px}._transcriptLoadingScreen_exsqe_48{box-sizing:border-box;height:100%;padding:0 16px}._transcriptLoadingScreen_exsqe_48,._transcriptProgressBarWrapper_exsqe_60{align-items:center;display:flex;flex-direction:column;justify-content:center;text-align:center;width:100%}._transcriptProgressBar_exsqe_60{margin-bottom:16px;width:100%}._transcriptSearchWrapper_exsqe_22{box-sizing:border-box;height:var(--transcript-search-height);padding:4px 16px 16px}._transcriptSearchMatchFoundText_exsqe_80{margin-top:2px;white-space:nowrap}._transcriptSearchNavigatorWrapper_exsqe_85{align-items:center;display:inline-flex}._transcriptCaptionText_exsqe_90{cursor:text}._currentSearchMatch_exsqe_94{background-color:var(--color__highlight__yellow__permanent)}._resumeAutoScrollButton_exsqe_98{bottom:0;left:50%;opacity:0;position:absolute;transform:translate(-50%,100%);transition:all var(--duration__micro-fast) var(--easing__leave)}._resumeAutoScrollButton_exsqe_98._showing_exsqe_107{bottom:8px;opacity:100%;transform:translate(-50%);transition-timing-function:var(--easing__enter)}"));const fs={minSegmentHeight:"42",transcriptSearchHeight:"52",transcriptBlade:"_transcriptBlade_exsqe_10",transcriptBladeContentWrapper:"_transcriptBladeContentWrapper_exsqe_17",transcriptSearchWrapper:"_transcriptSearchWrapper_exsqe_22",transcriptHeaderOptionMenuWrapper:"_transcriptHeaderOptionMenuWrapper_exsqe_28",transcriptSegmentListContentWrapper:"_transcriptSegmentListContentWrapper_exsqe_34",transcriptErrorInfo:"_transcriptErrorInfo_exsqe_41",transcriptLoadingScreen:"_transcriptLoadingScreen_exsqe_48",transcriptProgressBarWrapper:"_transcriptProgressBarWrapper_exsqe_60",transcriptProgressBar:"_transcriptProgressBar_exsqe_60",transcriptSearchMatchFoundText:"_transcriptSearchMatchFoundText_exsqe_80",transcriptSearchNavigatorWrapper:"_transcriptSearchNavigatorWrapper_exsqe_85",transcriptCaptionText:"_transcriptCaptionText_exsqe_90",currentSearchMatch:"_currentSearchMatch_exsqe_94",resumeAutoScrollButton:"_resumeAutoScrollButton_exsqe_98",showing:"_showing_exsqe_107"},gs=i.react.exports.memo((({id:e,intl:t,transcript:n,isDefaultAudioTrackSelected:r,onMenuSelection:o,showTranscriptionDetails:s,children:l})=>{const{expandedBlade:c}=i.react.exports.useContext(Ee.RightRailContext),p=c===e,_=u.getIsTranscriptNonempty(n),m=i.react.exports.createElement(i.react.exports.Fragment,null,t.formatMessage({id:"+7+KXv",defaultMessage:"Transcript"})),f=p&&_&&r?i.react.exports.createElement("div",{className:fs.transcriptHeaderOptionMenuWrapper},i.react.exports.createElement(a.Menu.Wrapper,{onSelection:o,shouldPropagateClickOutsideMouseEvents:!0},(({getContentProps:e,getTriggerProps:n})=>i.react.exports.createElement(i.react.exports.Fragment,null,i.react.exports.createElement(a.IconButton,Object.assign({},n(),{variant:"transparent",size:"small","data-testid":"transcript-settings-menu"}),i.react.exports.createElement(a.UIIcon,{src:Te.MoreHorizontalLine,size:"small"})),i.react.exports.createElement(a.Menu.Content,Object.assign({id:"parent"},e()),i.react.exports.createElement(a.Menu.Segment,null,i.react.exports.createElement(a.Menu.ActionItem,{key:"toggle_transcript_details",value:"toggle_transcript_details"},s?t.formatMessage({id:"6YJBBm",defaultMessage:"Hide transcript details"}):t.formatMessage({id:"T6egx/",defaultMessage:"Show transcript details"})),i.react.exports.createElement(a.Menu.ActionItem,{key:"copy_transcript",value:"copy_transcript"},t.formatMessage({id:"L//QR/",defaultMessage:"Copy transcript"})))))))):null;return i.react.exports.createElement(d.Provider,{value:t},i.react.exports.createElement(Ee.RightRail.Blade,{id:e,withIcon:i.react.exports.createElement(a.UIIcon,{src:Ie.ClosedCaptionsLine}),withTitle:m,withTitleRightAccessory:f,bladePanelClassname:fs.transcriptBlade},l))}));gs.displayName="TranscriptBlade";const vs=i.react.exports.memo((({id:e,intl:t})=>i.react.exports.createElement(d.Provider,{value:t},i.react.exports.createElement(Ee.RightRail.CollapsedBladeIcon,{withIcon:i.react.exports.createElement(a.UIIcon,{src:Ie.ClosedCaptionsLine,"aria-label":t.formatMessage({id:"qtZ4fj",defaultMessage:"Open transcript panel"})}),id:e,tooltip:t.formatMessage({id:"+VVWXN",defaultMessage:"Transcript"})}))));vs.displayName="TranscriptBladeCollapsedBladeButton";const hs=i.React$1.memo((({showLoadingMessage:e=!0})=>{const t=a.useIntl(),[n,r]=i.React$1.useState(!1),o=i.React$1.useRef(null);return i.React$1.useEffect((()=>{if(e)return o.current=window.setTimeout((()=>{r(!0),o.current=null}),7e3),()=>{null!=o.current&&window.clearTimeout(o.current)}}),[e]),i.React$1.createElement("div",{className:fs.transcriptLoadingScreen},i.React$1.createElement(a.ProgressBar,{className:fs.transcriptProgressBar,value:0,in:!0,isIndeterminate:!0}),n&&i.React$1.createElement(a.Text,{variant:"label",size:"small",color:"standard"},t.formatMessage({id:"ugN/el",defaultMessage:"We’re transcribing this video. Feel free to do other things while we work."})))}));hs.displayName="TranscriptProgressBar";const Ss=i.React$1.lazy((()=>s.__awaiter(void 0,void 0,void 0,(function*(){const{TranscriptBladeContent:t}=yield new Promise((function(t,i){e(["./c_transcript_blade_components_transcript_blade_content"],t,i)}));return{default:t}}))));class Es{constructor(e,t,a){this.rightRailUI={Sidebar:({previewType:e,ui:t})=>{var a,n,r;const[o,s]=i.React$1.useState(!0),l=this.context.getPluginData(),c=l.previewType===F.PreviewType.Video,d=c?l.file:null,p=null===(a=null==l?void 0:l.file)||void 0===a?void 0:a.fileId,_=null==d?void 0:d.transcript,m="loaded"===(null==_?void 0:_.state)?null===(n=null==_?void 0:_.data)||void 0===n?void 0:n.segments:void 0,f=u.getTranscriptPermission(null===(r=null==l?void 0:l.previewData)||void 0===r?void 0:r.content),g=e===F.PreviewType.Video&&t.isDefaultAudioTrackSelected,{expandedBlade:v}=i.React$1.useContext(Ee.RightRailContext),h=v===u.TRANSCRIPT_BLADE_PLUGIN_ID,S=c&&u.shouldShowTranscriptUi(_,f);i.React$1.useEffect((()=>{const e=u.shouldGenerateTranscript(f,_);S&&h&&e&&this.userId&&p&&c&&l.navigation.generateTranscript(p)}),[p,h,c,f,l.navigation,S,_]),i.React$1.useEffect((()=>{S&&h&&this.context.logUserAction("open_transcript","right_sidebar",{transcript_opt_in:"opted_in"===(null==f?void 0:f[".tag"])?"true":"false"})}),[h,f,S]);const E=i.React$1.useCallback((e=>{"toggle_transcript_details"===e?s((e=>!e)):"copy_transcript"===e&&(u.writeTranscriptToClipboard(m),this.context.logUserAction("copy_transcript_click","right_sidebar"))}),[m]);return S&&f?i.React$1.createElement(i.React$1.Fragment,null,i.React$1.createElement(gs,{intl:this.platform.intl,id:u.TRANSCRIPT_BLADE_PLUGIN_ID,onMenuSelection:E,transcript:_,showTranscriptionDetails:o,isDefaultAudioTrackSelected:g},i.React$1.createElement(i.React$1.Suspense,{fallback:i.React$1.createElement(hs,{showLoadingMessage:!1})},i.React$1.createElement(Ss,{transcript:_,showTranscriptionDetails:o,permission:f,logUserAction:this.context.logUserAction,setIsTranscriptShowing:l.navigation.setIsTranscriptShowing,fileViewerId:this.context.fileViewerId,isDefaultAudioTrackSelected:g})))):null},Control:()=>{var e;const t=this.context.getPluginData(),a=t.previewType===F.PreviewType.Video,n=a?t.file:null,r=null==n?void 0:n.transcript,o=u.getTranscriptPermission(null===(e=null==t?void 0:t.previewData)||void 0===e?void 0:e.content);return a&&u.shouldShowTranscriptUi(r,o)?i.React$1.createElement(vs,{intl:this.platform.intl,id:u.TRANSCRIPT_BLADE_PLUGIN_ID}):null}},this.lifecycle={},this.platform=e,this.context=t,this.userId=a}}const ws=[".pdf",".jpg",".jpeg",".png",".bmp"],bs=e=>ws.includes(e),ys="water_marking",Is=(e=[],t=[])=>{var i,a;const n=[];for(let r=0;r<e.length||r<t.length;r++)n[r]=[...null!==(i=e[r])&&void 0!==i?i:[],...null!==(a=t[r])&&void 0!==a?a:[]];return n},Ts=e=>({actionDefinitions:()=>{var t,i;const a=[];let n=[];const r=[],o=[];for(const s of e)if(u.isActionBarPlugin(s)){const e=s.actionDefinitions();e.alwaysAtTopLevel&&a.push(...e.alwaysAtTopLevel),e.alwaysInOverflow&&(n=Is(n,e.alwaysInOverflow)),e.atTopLevelIfSpace&&r.push(...e.atTopLevelIfSpace),(null===(t=e.categories)||void 0===t?void 0:t.workflows)&&o.push(...null===(i=e.categories)||void 0===i?void 0:i.workflows)}return{alwaysAtTopLevel:a,alwaysInOverflow:n,atTopLevelIfSpace:r,categories:{workflows:o}}},lifecycle:{previewDidInitialize:t=>{e.forEach((e=>{var i,a;return null===(a=null===(i=null==e?void 0:e.lifecycle)||void 0===i?void 0:i.previewDidInitialize)||void 0===a?void 0:a.call(i,t)}))},previewWillTeardown:()=>{e.forEach((e=>{var t,i;return null===(i=null===(t=null==e?void 0:e.lifecycle)||void 0===t?void 0:t.previewWillTeardown)||void 0===i?void 0:i.call(t)}))},pluginDidActivate:t=>{e.forEach((e=>{var i,a;return null===(a=null===(i=null==e?void 0:e.lifecycle)||void 0===i?void 0:i.pluginDidActivate)||void 0===a?void 0:a.call(i,t)}))},pluginDidDeactivate:()=>{e.forEach((e=>{var t,i;return null===(i=null===(t=null==e?void 0:e.lifecycle)||void 0===t?void 0:t.pluginDidDeactivate)||void 0===i?void 0:i.call(t)}))}}}),Rs="previews_ai_plugin";const Ps={[Rt]:t=>t.user&&(t=>({pluginId:Rt,isEnabled:()=>{const{sharePermission:e}=t.getActiveFile();return!(e&&!Pa(e))},load:(i,a)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeAddToCollectionPlugin:i}=yield new Promise((function(t,i){e(["./c_action_plugins_add_to_collection_action_legacy_plugin"],t,i)}));return i(Object.assign({context:a},t))}))}))(t),[oo]:({featureConfig:i,previewSurface:a,user:n})=>{if(a===t.SDKPreviewSurface.INBAND_SHARE&&i.enable_assigned_tasks_plugin)return function(t){return{pluginId:oo,load:(i,a)=>s.__awaiter(this,void 0,void 0,(function*(){const{makeStore:n}=yield new Promise((function(t,i){e(["./c_assigned_tasks_blade_data_store"],t,i)})).then((function(e){return e.store_esnext})),{AssignedTasksBladePlugin:r}=yield new Promise((function(t,i){e(["./c_src_assigned_tasks_blade_assigned_tasks_blade_plugin"],t,i)})),{logRRCTiburonEvent:o,reportRRCException:s}=yield new Promise((function(t,i){e(["./c_blade_plugins_assigned_tasks_blade_logger"],t,i)})),l=n(),c=null==t?void 0:t.id,d=null==t?void 0:t.email,u=o(c,a.getPluginData().file);return new r({platform:i,store:l,context:a,log:u,reportException:s,userId:c,userEmail:d})}))}}(n)},[u.COMMENTS_PLUGIN_ID]:({getActiveFile:e,previewSurface:i,user:a,featureConfig:n})=>{if(i!==t.SDKPreviewSurface.CLIENT_PORTAL&&i!==t.SDKPreviewSurface.BACKUP&&i!==t.SDKPreviewSurface.SHARED_COLLECTION){return lo(a,i===t.SDKPreviewSurface.COLLECTIONS?()=>!r.isSharedFile(e().file):void 0,k.isRedesign2023Enabled(n))}},[$t]:t=>{if(!sn(t.getActiveFile().file))return(t=>({pluginId:$t,load:(i,a)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeFileConversionsLoader:i}=yield new Promise((function(t,i){e(["./c_action_plugins_file_conversion_action_legacy_plugin"],t,i)}));return new(i(Object.assign(Object.assign({},t),{context:a})))}))}))(t)},[gt]:t=>t.user&&(t=>({pluginId:gt,load:(i,a)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeCopyPlugin:i}=yield new Promise((function(t,i){e(["./c_action_plugins_copy_action_legacy_plugin"],t,i)}));return i(Object.assign({context:a},t))}))}))(t),[co]:({getActiveFile:e,onFileChanged:t,user:i})=>i?uo(i,e,t):void 0,[ht]:t=>t.user&&(t=>({pluginId:ht,load:(i,a)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeDeletePlugin:i}=yield new Promise((function(t,i){e(["./c_action_plugins_delete_action_legacy_plugin"],t,i)}));return i(Object.assign({context:a},t))}))}))(t),[At]:({getActiveFile:t,user:i})=>{if(i){const a=L.fileViewerFeatureExperiments.docsendAnalyticsAddOn,n=_e.getDocsendAnalyticsAddOnConfig(i,a);return n.workflowMenu.logExposure||n.workflowMenu.showMenuItem?((t,i,a)=>({pluginId:At,load:(n,r)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeAnalyticsAddOn:n}=yield new Promise((function(t,i){e(["./c_sdk_file_viewer_action_plugins_docsend_analytics_add_on_plugin"],t,i)}));return n(t,i,a)}))}))(t,i,a):void 0}},[vt]:i=>{const{authModalKind:a,encryptionOptions:n,featureConfig:r,getActiveFile:o,previewSurface:l,sharePermission:c,shareToken:d,user:u}=i;if(l!==t.SDKPreviewSurface.SHARED_COLLECTION)return((t,i,a,n,r,o,l,c,d)=>({pluginId:vt,load:(u,p)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeDownloadActionLoader:s}=yield new Promise((function(t,i){e(["./c_action_plugins_download_action_legacy_plugin"],t,i)}));return s(t,p,i,a,n,r,o,l,c,d)}))}))(o,l,u,d,c,n,a,r.campaigns_download_sisu)},[u.FILE_ACTIVITY_PLUGIN_ID]:({getActiveFile:i,openVersionHistory:a,previewSurface:n,user:o})=>{if(o&&n!==t.SDKPreviewSurface.CLIENT_PORTAL&&n!==t.SDKPreviewSurface.BACKUP&&n!==t.SDKPreviewSurface.SHARED_COLLECTION){const l=n===t.SDKPreviewSurface.COLLECTIONS?()=>!r.isSharedFile(i().file):void 0;return Object.assign(Object.assign({},function(t,i){return{pluginId:u.FILE_ACTIVITY_PLUGIN_ID,load:(a,n)=>s.__awaiter(this,void 0,void 0,(function*(){const{makeStore:r}=yield new Promise((function(t,i){e(["./c_blades_file_activity_index"],t,i)})),{FileActivityPluginBase:o}=yield new Promise((function(t,i){e(["./c_src_file_activity_blade_file_activity_blade_plugin"],t,i)})),s=r({apiV2Client:a.apiv2ClientBase});return new o(a,s,t,n,i)}))}}(o,a)),{isEnabled:l})}},[Ft]:({getActiveFile:t,user:i})=>i?((t,i)=>({pluginId:Ft,load:(a,n)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeGoToFolderPlugin:a}=yield new Promise((function(t,i){e(["./c_sdk_file_viewer_action_plugins_go_to_folder_plugin"],t,i)}));return a(t,i,n)}))}))(t,i):void 0,[u.INFO_BLADE_PLUGIN_ID]:({getActiveFile:t,previewSurface:n,user:o})=>{const l=L.fileViewerFeatureExperiments.tagsSectionVariant,c=l&&"ON"===l;l&&"OFF"!==l&&new Promise((function(t,i){e(["./c_stormcrow_stormcrow_exposure_logger"],t,i)})).then((({StormcrowExposureLogger:e})=>{(new e).logExposure("tags_in_previews",l)}));const d=i.React$1.lazy((()=>s.__awaiter(void 0,void 0,void 0,(function*(){const{TagsSectionPreview:t}=yield new Promise((function(t,i){e(["./c_components_section_tags_section_preview2"],t,i)}));return{default:t}}))));return ms(o&&String(o.id),o&&a.Viewer.get_root_name(o),o&&"MULTI_APPROVER"===L.fileViewerFlowExperiments.approvalFlowVariantByUserId[o.id]?e=>ge.getFileApprovalStatus(o.id,e):void 0,c?({pluginContext:e,context:n})=>{const s=t().file;return c&&o&&r.isBrowseFile(s)&&s.ns_path?i.React$1.createElement(a.LazySuspense,{fallback:null},i.React$1.createElement(d,{files:[a.File.fromAnyFileObject(s)],user:o,previewsLogUserAction:e.logUserAction,context:n})):null}:void 0,(({})=>{const e=t().file;return o&&me.isVersioningMVPEnabled(L.fileViewerFlowExperiments.versioningFlowVariantByUserId[o.id])?i.React$1.createElement(fo,{fileId:e.file_id,user:o,previewSurface:n}):null}))},[Rs]:i=>(e=>"ON"===L.fileViewerFeatureExperiments.previewsExpDropboxAiAssistant&&[t.SDKPreviewSurface.BROWSE,t.SDKPreviewSurface.SEARCH,t.SDKPreviewSurface.HOME,t.SDKPreviewSurface.RECENTS].includes(e.previewSurface))(i)?function(){return{pluginId:Rs,load:t=>s.__awaiter(this,void 0,void 0,(function*(){const{AIPluginBlade:i}=yield new Promise((function(t,i){e(["./c_dropbox_ai_assistant_file_viewer_plugin_ai_plugin"],t,i)}));return new i(t)}))}}():void 0,[St]:t=>t.user&&(t=>({pluginId:St,load:(i,a)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeMovePlugin:i}=yield new Promise((function(t,i){e(["./c_action_plugins_move_action_legacy_plugin"],t,i)}));return i(Object.assign({context:a},t))}))}))(t),[Et]:t=>t.user&&(t=>({pluginId:Et,load:(i,a)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeOpenDropdownAction:i}=yield new Promise((function(t,i){e(["./c_action_plugins_open_in_action_legacy_plugin"],t,i)}));return i(Object.assign({context:a},t))}))}))(t),[yt]:({browseContext:t,getActiveFile:i,user:a})=>a?((t,i,a)=>({pluginId:yt,load:(n,r)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeOpenInDesktopPlugin:n}=yield new Promise((function(t,i){e(["./c_sdk_file_viewer_action_plugins_open_in_desktop_plugin"],t,i)}));return n(t,i,r,a)}))}))(i,a,t):void 0,[Dt]:({getActiveFile:t,user:i})=>{if(i&&"ON"===L.fileViewerFeatureExperiments.replayPreviewsPermanentEntrypoint)return((t,i)=>({pluginId:Dt,load:(a,n)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeOpenInReplayPlugin:a}=yield new Promise((function(t,i){e(["./c_sdk_file_viewer_action_plugins_open_in_replay_plugin"],t,i)}));return a(t,i,n)}))}))(t,i)},[go]:({getActiveFile:e,user:t})=>{if(t&&en())return(e=>({pluginId:go,load:(t,i)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makePdfEditorActionPlugin:a}=yield Promise.resolve().then((function(){return Eo}));return a(e,t,i)}))}))(e)},[u.PDF_EDITOR_PLUGIN_ID]:({getActiveFile:t,previewSurface:i,setIsPdfEditorActive:a,user:n})=>{if(n&&en())return function(t,i,a,n){return{pluginId:u.PDF_EDITOR_PLUGIN_ID,isEnabled:()=>{const{file:e,sharePermission:i}=t();return nr(e,i)},load:(r,o)=>s.__awaiter(this,void 0,void 0,(function*(){const{PdfEditorPluginBase:s,generateNonceSubdomain:l}=yield new Promise((function(t,i){e(["./c_pdf_editor_plugin_plugin_entry"],t,i)})).then((function(e){return e.plugin_entry_esnext})),c=yield l();if(L.fileViewerFlowExperiments.approvalPdfEditingToastByUserId[i.id]){const{showPdfEditingToast:a}=yield new Promise((function(t,i){e(["./c_flows_approval_pdf_editing_toast"],t,i)}));a(i,t().file,n,o)}return new s(r,o,c,t,i,a,wo)}))}}(t,n,a,i)},[rr]:({getActiveFile:t,onFileChanged:i,user:a,featureConfig:n})=>{if(a)return function(t,i,a,n){return{pluginId:rr,isEnabled:()=>{const{file:e,sharePermission:i}=t();return Q.showEditPlugin(e,i)},load:(r,o)=>s.__awaiter(this,void 0,void 0,(function*(){const{PhotoEditorPluginFullScreen:s,PhotoEditorPluginIntegrated:l}=yield new Promise((function(t,i){e(["./c_photo-editor_plugin"],t,i)}));return k.isRedesign2023Enabled(n)?new l(o,t,i,((...e)=>null==a?void 0:a(...e)),or):new s(r,o,t,i,((...e)=>null==a?void 0:a(...e)),or)}))}}(t,a,i,n)},[kt]:({getActiveFile:t,user:i})=>{if(i&&"ON"===L.fileViewerFeatureExperiments.publishPreviewsPermanentEntrypoint&&"OFF"===L.fileViewerFeatureExperiments.publishShareDropdownEntrypoint)return((t,i)=>({pluginId:kt,load:(a,n)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makePublishPlugin:a}=yield new Promise((function(t,i){e(["./c_sdk_file_viewer_action_plugins_publish_plugin"],t,i)}));return a(t,i,n)}))}))(t,i)},[Lt]:({getActiveFile:t,user:i,featureConfig:a})=>{if(i){const n=a.capture_sdk_integration_voice_overs||"ON"===a.capture_sdk_integration_voice_overs_view_button;return((t,i,a,n,r)=>({pluginId:Lt,isEnabled:e=>!!r,load:(r,o)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{logRecordVideoButtonExposure:r,logViewCaptureVideoButtonExposure:s,makeVoiceOverEntrypoint:l}=yield new Promise((function(t,i){e(["./c_action_plugins_voice_over_plugin"],t,i)}));return r(a),s(n),l(t,i,a,n,o)}))}))(t,i,a.capture_sdk_integration_voice_overs_variant||"OFF",a.capture_sdk_integration_voice_overs_view_button||"OFF",n)}},[bt]:({fileActionsClient:t,getActiveFile:i,onFileChanged:a,useDynamicFileAction:n,user:r})=>{if(r)return((t,i,a,n)=>({pluginId:bt,load:(r,o)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeRenamePlugin:r}=yield new Promise((function(t,i){e(["./c_action_plugins_rename_action_legacy_plugin"],t,i)}));return r({getActiveFile:t,user:i,context:o,onFileChanged:a,fileActionsClient:n})}))}))(i,r,n?a:void 0,t)},[It]:({getActiveFile:t,previewSurface:i,user:a})=>{if(a){return"MULTI_APPROVER"===L.fileViewerFlowExperiments.approvalFlowVariantByUserId[a.id]?((t,i,a)=>({pluginId:It,load:(n,r)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{RequestApprovalPlugin:n}=yield new Promise((function(t,i){e(["./c_flows_approval_request_approval_plugin"],t,i)}));return new n(r,i,t,a)}))}))(t,a,i):void 0}},[Mt]:({canRestoreRevision:t,onRestoreRevision:i,user:a})=>a?((t,i)=>({pluginId:Mt,load:(a,n)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeRestoreActionLoader:a}=yield new Promise((function(t,i){e(["./c_sdk_file_viewer_action_plugins_restore_plugin"],t,i)}));return a(n,t,i)}))}))(i,t):void 0,[jt]:({getActiveFile:t,isSendForSignatureEnabled:i,user:a})=>{if(a&&i)return((t,i)=>({pluginId:jt,load:(a,n)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeSendForSignaturePlugin:a}=yield new Promise((function(t,i){e(["./c_action_plugins_send_for_signature_action_legacy_plugin"],t,i)}));return a({getActiveFile:t,user:i,context:n})})),isEnabled:e=>!!i&&!ro(r.getExtension(t().file))}))(t,a)},[zt]:({getActiveFile:t,isSendForSignatureEnabled:i,user:a})=>a&&i?((t,i)=>({pluginId:zt,load:(a,n)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeSelfSignPlugin:a}=yield new Promise((function(t,i){e(["./c_action_plugins_self_sign_action_legacy_plugin"],t,i)}));return a({getActiveFile:t,user:i,context:n})})),isEnabled:e=>{if(!i)return!1;const a=r.getExtension(t().file);return!(ro(a)||"pdf"===a)}}))(t,a):void 0,[Ro]:({getActiveFile:e,previewSurface:i,user:a})=>{if(i!==t.SDKPreviewSurface.BACKUP&&i!==t.SDKPreviewSurface.SHARED_COLLECTION)return Ao(e,i,a)},[Nt]:({getActiveFile:t,isSendForSignatureEnabled:i,user:a})=>a?((t,i,a)=>({pluginId:Nt,isEnabled:e=>!!i&&!1!==a,load:(a,n)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeSignaturesDropdown:a}=yield new Promise((function(t,i){e(["./c_sdk_file_viewer_action_plugins_signatures_dropdown_plugin"],t,i)}));return a(t,i,n)}))}))(t,a,i):void 0,[po]:()=>_o,[Ot]:({getActiveFile:t,user:i})=>i?((t,i)=>({pluginId:Ot,load:(a,n)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeStarToolbarButtonLoader:a}=yield new Promise((function(t,i){e(["./c_sdk_file_viewer_toolbar_plugins_star_plugin"],t,i)}));return new(a(t,i,n))}))}))(t,i):void 0,[Pt]:t=>t.user?(t=>({pluginId:Pt,load:(i,a)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeStarPlugin:i}=yield new Promise((function(t,i){e(["./c_action_plugins_star_action_legacy_plugin"],t,i)}));return i(Object.assign({context:a},t))}))}))(t):void 0,[Vt]:({user:t,getActiveFile:a})=>t?((t,a)=>({pluginId:Vt,isEnabled:e=>{const t=e.getPluginData().previewType;if(![F.PreviewType.HTML,F.PreviewType.RawHTML].includes(t))return!1;const{file:i,sharePermission:n}=a();return ln(i,n)},load:(a,n)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{TextEditPlugin:r}=yield new Promise((function(t,i){e(["./c_preview_html_text_editing_plugin"],t,i)}));return new r(a,n,(e=>i.React$1.createElement(kr,Object.assign({user:t,apiv2ClientBase:a.apiv2ClientBase},e))))}))}))(t,a):void 0,[Tt]:({getActiveFile:t})=>(t=>({pluginId:Tt,load:(i,a)=>s.__awaiter(void 0,void 0,void 0,(function*(){const[{makeTransferPlugin:i},{getStore:n},{getActions:r}]=yield Promise.all([new Promise((function(t,i){e(["./c_sdk_file_viewer_action_plugins_transfer_plugin"],t,i)})),new Promise((function(t,i){e(["./e_ui_page_files_router"],t,i)})).then((function(e){return e.store_esnext})),new Promise((function(t,i){e(["./c_extensions_data_selectors"],t,i)})).then((function(e){return e.selectors_esnext})),new Promise((function(t,i){e(["./c_extensions_data_selectors"],t,i)})).then((function(e){return e.constants_esnext}))]),s=!!r(n().getState()).find((e=>e.app_id===o.TRANSFER_FP_APP_ID));return i(t,a,s)}))}))(t),[u.TRANSCRIPT_BLADE_PLUGIN_ID]:({previewSurface:e,user:i})=>{if([t.SDKPreviewSurface.BROWSE,t.SDKPreviewSurface.FILE_LOCKING,t.SDKPreviewSurface.HOME,t.SDKPreviewSurface.INBAND_SHARE,t.SDKPreviewSurface.RECENTS,t.SDKPreviewSurface.SEARCH,t.SDKPreviewSurface.SHARED_CONTENT_LINK,t.SDKPreviewSurface.SHARED_LINK,t.SDKPreviewSurface.SHARED_LINK_EMBED,t.SDKPreviewSurface.STANDALONE_PREVIEW,t.SDKPreviewSurface.STARRED].includes(e))return function(e){return{pluginId:u.TRANSCRIPT_BLADE_PLUGIN_ID,load:(t,i)=>s.__awaiter(this,void 0,void 0,(function*(){return new Es(t,i,e)}))}}(i?String(i.id):void 0)},[xt]:({getActiveFile:t,user:i})=>i?((t,i)=>({pluginId:xt,load:(a,n)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeUnzipPlugin:a}=yield new Promise((function(t,i){e(["./c_action_plugins_unzip_action_legacy_plugin"],t,i)}));return a({getActiveFile:t,user:i,context:n})}))}))(t,i):void 0,[Ct]:({getActiveFile:t,user:i})=>i?((t,i)=>({pluginId:Ct,load:(a,n)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeVersionHistoryActionLoader:a}=yield new Promise((function(t,i){e(["./c_action_plugins_version_history_action_legacy_plugin"],t,i)}));return a({getActiveFile:t,user:i,context:n})}))}))(t,i):void 0,[wt]:({getActiveFile:t,user:i})=>{const a=t().file;if(r.isBrowseFile(a)&&i&&L.fileViewerConfiguration.watermarkingByUserId[i.id])return(t=>({pluginId:wt,load:(i,a)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeWaterMarkingActionPlugin:n}=yield new Promise((function(t,i){e(["./c_watermarking_edit_plugin_action_plugin"],t,i)}));return n(t,i,a)}))}))(t)},[Ut]:t=>(t=>({pluginId:Ut,isEnabled:e=>{const{sharePermission:i}=t.getActiveFile();return!(i&&!Pa(i))&&!!t.user&&e.sdkConfig.enable_video_editing},load:(i,a)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeVideoEditActionLoader:i}=yield new Promise((function(t,i){e(["./c_action_plugins_video_edit_action_legacy_plugin"],t,i)}));return i(Object.assign({context:a},t))}))}))(t),[ys]:({getActiveFile:i,logger:n,previewSurface:o,user:l})=>{const{file:c}=i();if(r.isBrowseFile(c)&&l&&L.fileViewerConfiguration.watermarkingByUserId[l.id])return((t,i)=>({pluginId:ys,isEnabled:e=>{const t=e.getPluginData().file;return!!t&&bs(u.getFileExtension(t.name))},load:(a,n)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeStore:r}=yield new Promise((function(t,i){e(["./c_plugin_redux_store"],t,i)})),{WatermarkingPlugin:o}=yield new Promise((function(t,i){e(["./c_watermarking_edit_plugin_plugin"],t,i)})).then((function(e){return e.plugin_esnext})),s=r({platformAdapter:a,logger:t,onWatermarkingSuccessHandler:i});return new o(a,n,s)}))}))(n,(({fqPath:e,overwrite:i})=>{i&&o===t.SDKPreviewSurface.BROWSE||(e&&l?a.replace_location(a.preview_uri_for_fq_path(l,e,{context:H.SourceContext.Workflow})):a.reload())}))},[Bt]:({getActiveFile:t,user:i})=>((t,i)=>({pluginId:Bt,isEnabled:e=>{const{sharePermission:a}=t();return!(a&&!Pa(a))&&!!i&&e.sdkConfig.enable_multi_video_editor},load:(t,i)=>s.__awaiter(void 0,void 0,void 0,(function*(){const{makeMultiVideoEditorPlugin:t}=yield new Promise((function(t,i){e(["./c_media_edit_previews_plugin_plugin"],t,i)}));return t(i)}))}))(t,i)},As=[u.INFO_BLADE_PLUGIN_ID,Rs,u.COMMENTS_PLUGIN_ID,oo,u.TRANSCRIPT_BLADE_PLUGIN_ID,u.FILE_ACTIVITY_PLUGIN_ID,ys,Ro,po];function xs(e,i){const a=function(e,i=!1){const a=i?[]:As;switch(e){case t.SDKPreviewSurface.COLLECTIONS:case t.SDKPreviewSurface.BROWSE:case t.SDKPreviewSurface.SEARCH:case t.SDKPreviewSurface.STANDALONE_PREVIEW:case t.SDKPreviewSurface.FILE_LOCKING:case t.SDKPreviewSurface.RECENTS:case t.SDKPreviewSurface.STARRED:case t.SDKPreviewSurface.HOME:case t.SDKPreviewSurface.INBAND_SHARE:case t.SDKPreviewSurface.SHARED_CONTENT_LINK:case t.SDKPreviewSurface.SHARED_LINK:case t.SDKPreviewSurface.HELLOSIGN:case t.SDKPreviewSurface.PHOTOS:case t.SDKPreviewSurface.VIDEO_HOME:return[...a,Vt,rr,u.PDF_EDITOR_PLUGIN_ID,Ot,co];case t.SDKPreviewSurface.VERSION_HISTORY:case t.SDKPreviewSurface.VIDEO_SYNTHESIS:case t.SDKPreviewSurface.BACKUP:case t.SDKPreviewSurface.SHARED_LINK_EMBED:case t.SDKPreviewSurface.COMMERCE:case t.SDKPreviewSurface.TRANSFER:case t.SDKPreviewSurface.SHARED_COLLECTION:case t.SDKPreviewSurface.CLIENT_PORTAL:case t.SDKPreviewSurface.UNKNOWN:return a;default:throw new Error("Unsupported preview surface provided")}}(e,i.previewContentOnly),n=[];return a.reduce(((t,a)=>{const n=Ps[a],r=null==n?void 0:n(Object.assign(Object.assign({},i),{previewSurface:e,useDynamicFileAction:qt(a,e)}));return null!=r&&t.push(r),t}),n),n}function Cs(e,i){const a=function(e,i=!1){const a=i?[]:Ht;switch(e){case t.SDKPreviewSurface.COLLECTIONS:case t.SDKPreviewSurface.BROWSE:case t.SDKPreviewSurface.VIDEO_HOME:return[...a,Et,$t,Ut,Bt,Ft,St,gt,bt,ht,wt,Pt,Ct,xt,Nt,jt,zt,go,At,It,Dt,Lt,kt,Rt];case t.SDKPreviewSurface.SEARCH:return[...a,Et,$t,...Kt,wt,Ut,Bt,Pt,Ct,Rt,Nt,jt,zt,go,xt,At,It,Dt,Lt,kt];case t.SDKPreviewSurface.STANDALONE_PREVIEW:case t.SDKPreviewSurface.FILE_LOCKING:return[...a,Et,$t,Ut,Bt,...Kt,wt,Pt,Ct,xt,Nt,jt,zt,go,At,Mt,Lt,It,Dt,kt];case t.SDKPreviewSurface.RECENTS:case t.SDKPreviewSurface.STARRED:case t.SDKPreviewSurface.HOME:return[...a,Et,$t,Ut,Bt,...Kt,wt,Nt,Pt,Ct,xt,jt,zt,go,At,Mt,Lt,It,Dt,kt];case t.SDKPreviewSurface.INBAND_SHARE:case t.SDKPreviewSurface.SHARED_CONTENT_LINK:case t.SDKPreviewSurface.SHARED_LINK:case t.SDKPreviewSurface.HELLOSIGN:case t.SDKPreviewSurface.PHOTOS:return[...a,Et,$t,Ut,Bt,wt,Pt,Ct,xt,jt,zt,go,At,Lt,Mt,It];case t.SDKPreviewSurface.VERSION_HISTORY:return[...a,Mt];case t.SDKPreviewSurface.VIDEO_SYNTHESIS:return[...a,Et,Ct,jt,zt,At,It];case t.SDKPreviewSurface.BACKUP:return[...a,Et,Ct,yt,Tt];case t.SDKPreviewSurface.SHARED_LINK_EMBED:case t.SDKPreviewSurface.COMMERCE:case t.SDKPreviewSurface.TRANSFER:case t.SDKPreviewSurface.SHARED_COLLECTION:case t.SDKPreviewSurface.CLIENT_PORTAL:case t.SDKPreviewSurface.UNKNOWN:return a;default:throw new Error("Unsupported preview surface provided")}}(e,i.previewContentOnly),n=[];return a.reduce(((t,a)=>{const n=Ps[a],r=null==n?void 0:n(Object.assign(Object.assign({},i),{previewSurface:e,useDynamicFileAction:qt(a,e)}));return null!=r&&t.push(r),t}),n),(e=>{const t=e.filter((e=>!!e));return{pluginId:"super_action_bar_plugin",load:(e,i)=>s.__awaiter(void 0,void 0,void 0,(function*(){const a=yield Promise.all(t.filter((e=>!e.isEnabled||e.isEnabled(i))).map((t=>t.load(e,i))));return Ts(a)})),isEnabled:()=>!0}})(n)}const Ms=["svg","menu","button","input"],Os=(e,t)=>{i.React$1.useEffect((()=>{let i=setTimeout((()=>{}));const a=()=>{i=setTimeout((()=>{i&&!function(){const e=document;return!!(e.fullScreen||e.webkitIsFullScreen||e.mozFullScreen||e.msFullScreen||e.fullscreenElement)}()&&e()}),t)},n=()=>{clearTimeout(i)},r=()=>{document.hidden?n():a()},o=e=>{(e=>{const t=e.target;return!(!Ms.includes(t.tagName.toLocaleLowerCase())&&!Ms.some((e=>t.className.toString().toLowerCase().includes(e))))})(e)&&n()};return a(),document.addEventListener("visibilitychange",r),document.addEventListener("click",o),()=>{document.removeEventListener("visibilitychange",r),document.removeEventListener("click",o),n()}}),[t,e])};a.injectInternalStyle("metaserver/static/js/file_viewer/sdk_file_viewer/file_viewer.module.out.css",(e=>":root{--file_viewer_z_index:500}._fvsdk-container_amzuv_5{bottom:0;display:flex;flex-direction:column;left:0;position:fixed;right:0;top:0;z-index:var(--file_viewer_z_index)}._fvsdk-embed-viewport_amzuv_16{height:100%;position:relative}body,html{height:100%}"));const Ns=i.React$1.createContext(null);Ns.displayName="PluginMigrationContext";const Ds=Ns.Provider;a.injectInternalStyle("metaserver/static/js/file_viewer/sdk_file_viewer/titlebar/v1/title_bar.module.out.css",(e=>":root{--titlebarHeight:64px}._titleBar_1txtl_5{background:var(--color__standard__background);border-bottom:1px solid var(--color__standard__border);display:flex}._overlay_1txtl_12,._titleBar_1txtl_5{height:var(--titlebarHeight)}._overlay_1txtl_12{left:0;pointer-events:all;position:fixed;top:0;width:100%;z-index:999}._overlay_1txtl_12._transparent_1txtl_22{pointer-events:none}._spacer_1txtl_26{padding:var(--spacing__unit--1) var(--spacing__unit--5)}._actionBar_1txtl_30{flex:1 1 auto}._actionBar_1txtl_30,._actionBarMobile_1txtl_35{align-items:center}"));const ks="_titleBar_1txtl_5";a.injectInternalStyle("metaserver/static/js/file_viewer/sdk_file_viewer/titlebar/shared/close_button.module.out.css",(e=>"._closeButton_mti6w_1{padding:var(--spacing__unit--2) var(--spacing__unit--2)}"));a.injectInternalStyle("metaserver/static/js/file_viewer/sdk_file_viewer/titlebar/shared/titlebar_logo.module.out.css",(e=>"._dropboxLogo_1fhni_1{color:var(--color__standard__text);padding:15px}._dropboxLogo_1fhni_1:focus{box-shadow:inset 0 0 0 3px var(--color__accent__cloud)}"));const Fs=({baseUrl:e,dispatch:t,previewKey:n,fileViewerId:r})=>i.React$1.createElement("a",{href:`//${e}?src=shmodel`,onClick:()=>{t(u.clickDropboxLogo({previewKey:n,fileViewerId:r,sourceContext:H.UserActionContext.TitleBarMain}))},className:"_dropboxLogo_1fhni_1"},i.React$1.createElement(a.UIIcon,{size:"large",src:ae.DropboxLine,"aria-label":"Dropbox"}));Fs.displayName="Logo",Fs.displayName="Logo";const Ls=i.react.exports.memo((e=>{const{fileViewerId:t,previewKey:n,canCloseViewer:r,baseUrl:o}=e,s=a.useDispatch(),l=a.useIntl(),c=()=>{s(u.closeViewer({fileViewerId:t,previewKey:n,sourceContext:H.UserActionContext.TitleBarMain}))};return r?i.react.exports.createElement("span",{className:"_closeButton_mti6w_1"},i.react.exports.createElement(a.IconButton,{onClick:c,variant:"transparent"},i.react.exports.createElement(a.UIIcon,{"aria-label":l.formatMessage({id:"IDlWPW",defaultMessage:"Back"}),src:a.ChevronLeftLine}))):i.react.exports.createElement(Fs,{previewKey:n,fileViewerId:t,dispatch:s,baseUrl:o})}));Ls.displayName="CloseButton",Ls.displayName="CloseButton";a.injectInternalStyle("metaserver/static/js/file_viewer/sdk_file_viewer/titlebar/shared/title.module.out.css",(e=>"._title_1tu6h_1{align-items:center;display:flex;flex:1 1 auto;justify-content:center;min-width:0;padding-left:var(--spacing__unit--2);padding-right:var(--spacing__unit--4);white-space:pre}"));const Us=i.react.exports.memo((e=>{const{fileViewerId:t,previewKey:n,isMobileSize:r}=e,o=a.useDispatch(),s=a.useSelector((e=>u.getFileMetadata(e,n))),l=a.useSelector((e=>u.getFilePreviewUi(e,t,n)));if(!s)return null;const c=null==l?void 0:l.currentPath,d=s.file_name||"";return i.react.exports.createElement("div",{className:"_title_1tu6h_1"},c&&c.length>0?i.react.exports.createElement(u.ArchiveFileBreadcrumbs,{archiveName:d,currentPath:c,fileViewerId:t,previewKey:n,dispatch:o,isMobile:r}):i.react.exports.createElement(te.Truncate,{observeParent:!0,location:.5},d))}));Us.displayName="Title",Us.displayName="Title";const Vs="fv-sdk-title-bar",Bs={handleAction:e=>{var t,i;e.type!==he.ActionBarActionTypes.OPEN&&e.type!==he.ActionBarActionTypes.CUSTOM_ACTION||null===(i=null===(t=e.menuItem)||void 0===t?void 0:t.handler)||void 0===i||i.call(t)}},$s=i.react.exports.memo((e=>{se.useMarkTimingEventOnMount(se.PreviewsTimingEvents.FVSDK_TITLE_BAR_MOUNT);const{actions:t,actionBar:n,rightSection:r}=e,o=a.useIntl(),{fileViewerId:s,canCloseViewer:l,featureConfig:c}=u.useFileViewerContext(),d=u.useResponsiveSize(),p=c.titlebar_logo_config.base_url,_=u.useRootPreviewKey(s),m=d===he.ResponsiveSize.MOBILE,f=u.useFileViewerSelector(u.getIsEditingVideo,s),g=a.useDispatch(),v=!m&&r?[i.react.exports.createElement("div",{className:"_spacer_1txtl_26",key:"spacer"}),r]:[];return void 0===t&&void 0===n?i.react.exports.createElement("header",{className:ks}):i.react.exports.createElement(i.react.exports.Fragment,null,i.react.exports.createElement("header",{className:a.classnames(ks),"data-testid":Vs},i.react.exports.createElement(Ls,{previewKey:_,fileViewerId:s,baseUrl:p,canCloseViewer:l}),null!=m?m:i.react.exports.createElement(Us,{previewKey:_,fileViewerId:s,isMobileSize:m}),n||t&&i.react.exports.createElement(Re.ActionBar,{intl:o,actionHandler:Bs,actions:t,responsive:!0,responsiveSize:d,className:m?"_actionBarMobile_1txtl_35":"_actionBar_1txtl_30",fixedWidth:m?40:void 0,handleOverflowMenuToggle:e=>{e.isOpen&&g(u.logUserActionEvent({userAction:H.UserAction.OpenActionBarMeatball,fileViewerId:s,actionContext:H.UserActionContext.TitleBarMain}))},handleOverflowMenuToggleWithoutAction:()=>{u.setHubEntryPoint(u.HubEntryPointType.Generic)}}),...v),i.react.exports.createElement(u.OverlayTransition,{active:f,className:a.classnames("_overlay_1txtl_12",{_transparent_1txtl_22:!f})}))}));$s.displayName="TitleBarV1",$s.displayName="TitleBar";a.injectInternalStyle("metaserver/static/js/previews/ui/sharing_plugin/share_button.module.out.css",(e=>"._share-actions_a8n2j_1{display:flex;gap:var(--spacing__base_unit)}._share-button-container_a8n2j_6{display:flex}"));const js="_share-actions_a8n2j_1",zs="_share-button-container_a8n2j_6",Hs=e=>{const t=new URL(e),i=null!=t.searchParams.get("rlkey"),a=t.pathname.startsWith("/s/")||t.pathname.startsWith("/sh/");return{protocol:t.protocol,hostname:t.hostname,pathname:t.pathname,searchParams:t.searchParams,doesContainRlKey:i,doesContainShmodelLink:a}},Ks=e=>{const t=e.searchParams,i=new URLSearchParams;let a="";return t.get("dl")&&(a="?",i.append("dl",t.get("dl"))),t.get("rlkey")&&(a="?",i.append("rlkey",t.get("rlkey"))),a+=i.toString(),e.protocol+"//"+e.hostname+e.pathname+a};function Ws(e,t){return s.__awaiter(this,void 0,void 0,(function*(){const i=new a.FileShareApiClient({userId:e});let r=new a.LinkMetadata;try{r=yield i.createSharedLinkNonAlpha({fileIdOrPath:t,settings:{access:"viewer"}})}catch(e){if(e instanceof n.ApiError){const t=e.error;t&&"shared_link_already_exists"===t[".tag"]&&(r=t.shared_link_already_exists.metadata)}}return r}))}const Gs=(e,t,i,n,r)=>{const o=a.SHARE_ACTION_ORIGIN_TYPE.SHARING_PREVIEW_PAGE,s=U.get_browser_info(),l=Object.assign(Object.assign({},i&&Me.buildExtraFromLinkMetadata(i)),{file_id:t}),c=r.doesContainShmodelLink?a.ShareTibEventLogger.get_shmodel_extra_for_logging(void 0,Ks(r)):a.ShareTibEventLogger.get_scl_extra_for_logging(void 0,Ks(r)),d=Object.assign(Object.assign(Object.assign({},l),{browser:s.browser,browser_version:s.version,created_new_link:!1}),c);n?a.ShareTibEventLogger.log(n,e,o,d):a.ShareTibEventLogger.log_unauth(e,o,d)},qs=d.intl.formatMessage({id:"Kb7u3s",defaultMessage:"Copy link"}),Ys=e=>{var t;let n;const r=()=>{var t;null===(t=a.Snackbar.manager)||void 0===t||t.reset(),C.showCopyLinkSuccessSnackbar(null==n?void 0:n.url,"viewer"),(()=>{var t;Gs(M.TiburonEventName.CopySharedLink,e.fileId,n,null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.id,Hs(null==n?void 0:n.url))})()},o=()=>{var t;null===(t=a.Snackbar.manager)||void 0===t||t.reset(),C.showCopyLinkErrorSnackbar(null==n?void 0:n.url),(()=>{var t;Gs(M.TiburonEventName.CopySharedLinkFailure,e.fileId,n,null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.id,Hs(null==n?void 0:n.url))})()};return i.React$1.createElement(a.Button,{className:"copy-link-button",variant:null!==(t=e.variant)&&void 0!==t?t:"opacity",onClick:()=>s.__awaiter(void 0,void 0,void 0,(function*(){var t,i;null===(t=a.Snackbar.manager)||void 0===t||t.reset(),C.showCopyLinkProgressSupportedBrowserSnackbar(),n=yield Ws(null===(i=e.user)||void 0===i?void 0:i.id,e.fileId),n&&n.url?ie.copyToClipboard(n.url,(()=>{r()}),(()=>{o()})):C.showCopyLinkCatchallSnackbar()})),"data-testid":"copy-link-button"},qs)};Ys.displayName="CopyLinkButton";const Js=e=>{let t;const n=()=>{var i;null===(i=a.Snackbar.manager)||void 0===i||i.reset(),C.showCopyLinkSuccessSnackbar(null==t?void 0:t.url,"viewer"),(()=>{var i;Gs(M.TiburonEventName.CopySharedLink,e.fileId,t,null===(i=null==e?void 0:e.user)||void 0===i?void 0:i.id,Hs(null==t?void 0:t.url))})()},r=()=>{var i;null===(i=a.Snackbar.manager)||void 0===i||i.reset(),C.showCopyLinkErrorSnackbar(null==t?void 0:t.url),(()=>{var i;Gs(M.TiburonEventName.CopySharedLinkFailure,e.fileId,t,null===(i=null==e?void 0:e.user)||void 0===i?void 0:i.id,Hs(null==t?void 0:t.url))})()};return i.React$1.createElement(a.IconButton,{variant:"opacity",onClick:()=>s.__awaiter(void 0,void 0,void 0,(function*(){var i,o;null===(i=a.Snackbar.manager)||void 0===i||i.reset(),C.showCopyLinkProgressSupportedBrowserSnackbar(),t=yield Ws(null===(o=e.user)||void 0===o?void 0:o.id,e.fileId),t&&t.url?ie.copyToClipboard(t.url,(()=>{n()}),(()=>{r()})):C.showCopyLinkCatchallSnackbar()})),"aria-label":qs,"data-testid":"copy-link-button"},i.React$1.createElement(a.UIIcon,{src:Ce.LinkLine}))};Js.displayName="RedesignedCopyLinkButton";const Qs=a.defineMessage({id:"VzQ1nj",defaultMessage:"Ask the owner of this file for permission to share it with others"}),Xs=a.defineMessage({id:"JDi0M8",defaultMessage:"Share"}),Zs=()=>{const e=a.useIntl(),t=e.formatMessage(Xs),n=e.formatMessage(Qs),r=i.React$1.createElement(a.UIIcon,{src:Se.ShareArrowLine});return i.React$1.createElement(a.Tooltip,{title:n,placement:"left"},i.React$1.createElement("span",{style:{display:"inline-block"},tabIndex:0},i.React$1.createElement(a.SplitButton,{variant:"primary",disabled:!0,renderMenu:({buttonProps:e})=>i.React$1.createElement(a.Menu.Wrapper,null,(({getTriggerProps:t,getContentProps:n})=>i.React$1.createElement(i.React$1.Fragment,null,i.React$1.createElement(a.Button,Object.assign({"aria-label":"Show options"},e,t(),{disabled:!0})),i.React$1.createElement(a.Menu.Content,Object.assign({},n(),{placement:"bottom-end"})))))},r,t)))};Zs.displayName="DisabledShareButton";const el=({previewSurface:e,activeFile:n,user:o,shouldShowApproval:l})=>{const d=i.React$1.useMemo((()=>a.getStore()),[]),p=i.React$1.useMemo((()=>o&&new a.FileShareApiClient({userId:o.id})),[o]),[_,m]=i.React$1.useState(void 0),f=i.React$1.useRef(null),g=u.useResponsiveSize(),v=u.useFileViewerContext(),h=e===t.SDKPreviewSurface.SHARED_CONTENT_LINK||e===t.SDKPreviewSurface.SHARED_LINK||e===t.SDKPreviewSurface.INBAND_SHARE,S=r.isSharedFile(n),E=i.React$1.useCallback((()=>s.__awaiter(void 0,void 0,void 0,(function*(){p&&(yield p.getMetadataAlpha({contentId:n.file_id}).then((e=>(f.current=n.file_id,m(e)))))}))),[n]);i.react.exports.useEffect((()=>{f.current!==n.file_id&&E()}),[n]);const w=null!=_&&[a.ACCESS_LEVEL.WRITER,a.ACCESS_LEVEL.OWNER].includes(_.access_type),b=i.React$1.useCallback((()=>{if(!o)return;const e=h?a.SHARE_ACTION_ORIGIN_TYPE.SHARING_PREVIEW_PAGE:a.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE;Io(n,o,null,{origin:e,showApproval:l,onCreateApprovalSuccess:()=>v.pluginContext.getPluginData().navigation.openRightRailPlugin(H.UserActionContext.TitleBarMain,u.COMMENTS_PLUGIN_ID),docsendAnalyticsAddOn:L.fileViewerFeatureExperiments.docsendAnalyticsAddOn}),v.pluginContext.logUserAction(H.UserAction.Share,H.UserActionContext.TitleBarMain)}),[n,o]),y=i.React$1.useMemo((()=>Object.assign(Object.assign({},n),{icon:r.isBrowseFile(n)?n.icon:"",fq_path:r.isBrowseFile(n)?n.fq_path:"",is_cloud_doc:c.isCloudDoc(n),type:c.getType(n)})),[n]),I=!h;return o&&e!==t.SDKPreviewSurface.VERSION_HISTORY?S&&!w&&null!=f.current?i.React$1.createElement(Zs,null):i.React$1.createElement("div",{className:js},w&&i.React$1.createElement("div",{className:zs},i.React$1.createElement(Ys,{fileId:n.file_id,user:o,variant:I?"opacity":"primary"})),I&&i.React$1.createElement(a.Provider,{store:d},i.React$1.createElement(xe.SplitShareButton,{files:[y],user:o,variant:"primary",onShowShare:b,showLeftDigIcon:g===he.ResponsiveSize.DESKTOP,previewsLogUserAction:v.pluginContext.logUserAction}))):null};el.displayName="ShareButton";const tl=({previewSurface:e,activeFile:n,user:o,shouldShowApproval:l})=>{const d=i.React$1.useMemo((()=>a.getStore()),[]),p=i.React$1.useMemo((()=>o&&new a.FileShareApiClient({userId:o.id})),[o]),[_,m]=i.React$1.useState(void 0),f=i.React$1.useRef(null),g=u.useResponsiveSize(),v=u.useFileViewerContext(),h=e===t.SDKPreviewSurface.SHARED_CONTENT_LINK||e===t.SDKPreviewSurface.SHARED_LINK||e===t.SDKPreviewSurface.INBAND_SHARE,S=r.isSharedFile(n),E=i.React$1.useCallback((()=>s.__awaiter(void 0,void 0,void 0,(function*(){p&&(yield p.getMetadataAlpha({contentId:n.file_id}).then((e=>(f.current=n.file_id,m(e)))))}))),[n]);i.react.exports.useEffect((()=>{f.current!==n.file_id&&E()}),[n]);const w=null!=_&&[a.ACCESS_LEVEL.WRITER,a.ACCESS_LEVEL.OWNER].includes(_.access_type),b=i.React$1.useCallback((()=>{if(!o)return;const e=h?a.SHARE_ACTION_ORIGIN_TYPE.SHARING_PREVIEW_PAGE:a.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE;Io(n,o,null,{origin:e,showApproval:l,onCreateApprovalSuccess:()=>v.pluginContext.getPluginData().navigation.openRightRailPlugin(H.UserActionContext.TitleBarMain,u.COMMENTS_PLUGIN_ID),docsendAnalyticsAddOn:L.fileViewerFeatureExperiments.docsendAnalyticsAddOn}),v.pluginContext.logUserAction(H.UserAction.Share,H.UserActionContext.TitleBarMain)}),[n,o]),y=i.React$1.useMemo((()=>Object.assign(Object.assign({},n),{icon:r.isBrowseFile(n)?n.icon:"",fq_path:r.isBrowseFile(n)?n.fq_path:"",is_cloud_doc:c.isCloudDoc(n),type:c.getType(n)})),[n]),I=!h;return o&&e!==t.SDKPreviewSurface.VERSION_HISTORY?S&&!w&&null!=f.current?i.React$1.createElement(Zs,null):i.React$1.createElement("div",{className:js},w&&i.React$1.createElement("div",{className:zs},i.React$1.createElement(Js,{fileId:n.file_id,user:o,variant:I?"opacity":"primary"})),I&&i.React$1.createElement(a.Provider,{store:d},i.React$1.createElement(xe.SplitShareButton,{files:[y],user:o,variant:"primary",onShowShare:b,showLeftDigIcon:g===he.ResponsiveSize.DESKTOP,previewsLogUserAction:v.pluginContext.logUserAction}))):null};tl.displayName="RedesignedShareButton";a.injectInternalStyle("metaserver/static/js/pass/seen_state_facepile.module.out.css",(e=>'._react-pass__facepile_efszx_1{display:flex;flex-direction:row-reverse}._react-pass__facepile_efszx_1._react-pass__facepile--empty_efszx_7{display:none}._react-pass__facepile_efszx_1 .c-avatar{box-shadow:0 0 0 2px var(--color__standard__background)}._react-pass__facepile_efszx_1 .c-avatar--inactive img{filter:grayscale(1);opacity:.5}._react-pass__facepile_efszx_1 .c-avatar-initials-wrapper{background-color:var(--color__standard__background);border-radius:1000px;display:inline-block}._react-pass__facepile_efszx_1 .c-avatar-initials-wrapper:before{border-radius:1000px;bottom:0;box-shadow:0 0 0 2px var(--color__standard__background);content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}._react-pass__facepile_efszx_1 .c-avatar-initials-wrapper--square{background-color:var(--color__standard__background);border-radius:3px;display:inline-block}._react-pass__facepile_efszx_1 .c-avatar-initials-wrapper--square:before{border-radius:3px;bottom:0;box-shadow:0 0 0 2px var(--color__standard__background);content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}._react-pass__facepile_efszx_1 .c-avatar-initials-wrapper--square .c-avatar--inactive,._react-pass__facepile_efszx_1 .c-avatar-initials-wrapper .c-avatar--inactive{box-shadow:none;filter:grayscale(1);opacity:.5}._react-pass__facepile_efszx_1 .react-pass__face-container{display:inline-block;margin-left:-6px}aside ._react-pass__facepile_efszx_1{margin-left:6px}._react-pass__facepile_efszx_1 .react-pass__face-no-display{display:none}._react-pass__facepile_efszx_1 .pass-facepile-avatar{background-color:transparent;cursor:pointer;margin:0;padding:0;vertical-align:middle}._react-pass__facepile_efszx_1 .pass-facepile-avatar::-moz-focus-inner{border:0;padding:0}'));const il="_react-pass__facepile_efszx_1",al="_react-pass__facepile--empty_efszx_7",nl=({presenceComplete:e})=>{const t=a.classnames(il,al,{[a.PRESENCE_RECEIVED_CLASSNAME]:e});return i.React$1.createElement("div",{className:t})};nl.displayName="EmptySeenStateFacepile";const rl={};rl[a.EventTypes.PASS_SHOWN]="pass_shown",rl[a.EventTypes.PASS_HOVER]="pass_hover",rl[a.EventTypes.PASS_CLICK]="pass_click";const ol=new class{constructor(){this.eventToHandlerStack={};for(const e of[a.EventTypes.PASS_SHOWN,a.EventTypes.PASS_HOVER,a.EventTypes.PASS_CLICK])this.eventToHandlerStack[e]=[]}_log(e,t,i,n,r){const o=t?"BROWSE_FILE_FACEPILE":"PREVIEW_PAGE_FACEPILE";let s={};t||r&&(n.pass_session_id=r,s=B.ActionTimestampsTracker.get(r));const l=new Date,c={event_name:rl[e],file_ns_id:i.ns_id,file_sjid:i.sjid,origin:o,product_surface:t?"browse":"file_preview",extra:JSON.stringify(n),action_timestamps:JSON.stringify(s),client_ts:l.getTime()/1e3};a.SilentBackgroundRequest$1({url:"/log/pass_facepile",data:c})}listenTo(e){this._unlistenToTopOfHandlersStack(e),this._pushHandlers(),this._listenToTopOfHandlersStack(e)}unlistenTo(e){this._unlistenToTopOfHandlersStack(e),this._popHandlers(),this._listenToTopOfHandlersStack(e)}_unlistenToTopOfHandlersStack(e){for(const t in this.eventToHandlerStack)if(this.eventToHandlerStack.hasOwnProperty(t)){if(0===this.eventToHandlerStack[t].length)continue;const i=this.eventToHandlerStack[t].slice(-1)[0];e.removeListener(t,i)}}_listenToTopOfHandlersStack(e){for(const t in this.eventToHandlerStack)if(this.eventToHandlerStack.hasOwnProperty(t)){if(0===this.eventToHandlerStack[t].length)continue;const i=this.eventToHandlerStack[t].slice(-1)[0];e.addListener(t,i)}}_pushHandlers(){for(const e in this.eventToHandlerStack)if(this.eventToHandlerStack.hasOwnProperty(e)){const t=this._createHandlerFn(e);this.eventToHandlerStack[e].push(t)}}_popHandlers(){for(const e in this.eventToHandlerStack)this.eventToHandlerStack.hasOwnProperty(e)&&this.eventToHandlerStack[e].pop()}_createHandlerFn(e){return(t,i,a,n)=>{this._log(e,t,i,{num_accessors:a.numAccessors,num_current_viewers:a.numCurrentViewers,num_viewers:a.numViewers,num_guests:a.numGuests,num_in_team_editors:a.numInTeamEditors,num_in_team_viewers:a.numInTeamViewers,num_non_team_editors:a.numNonTeamEditors,num_non_team_viewers:a.numNonTeamViewers,can_see_viewer_history:a.canSeeViewerHistory},n)}}};const sl=e=>e.isActive?d.intl.formatMessage({id:"EhtH9U",defaultMessage:"Viewing now"}):null!=e.whenLastSeen?function(e){const t=a.ago(1e3*e.whenLastSeen,!1);return d.intl.formatMessage({id:"03+wm0",defaultMessage:"Viewed {timeAgo}"},{timeAgo:t})}(e):function(e){switch(e){case"owner":return d.intl.formatMessage({id:"/i1m6q",defaultMessage:"Owner"});case"writer":return d.intl.formatMessage({id:"yH9Gqv",defaultMessage:"Can edit"});case"reader":return d.intl.formatMessage({id:"y7bSVp",defaultMessage:"Can comment"});case"reader_no_comment":case void 0:return d.intl.formatMessage({id:"Xoza1y",defaultMessage:"Can view"})}}(e.accessLevel),ll=a.defineMessage({id:"cIE9zv",defaultMessage:"Outside {teamname}"}),cl=d.intl.formatMessage({id:"L3BzP5",defaultMessage:"Invite to team"}),dl=d.intl.formatMessage({id:"XfAovr",defaultMessage:"Join team"}),ul=a.defineMessage({id:"qRTK38",defaultMessage:"Member of {teamname}"}),pl=d.intl.formatMessage({id:"DOjvpK",defaultMessage:"Sending request..."}),_l=d.intl.formatMessage({id:"FomW4x",defaultMessage:"Request sent"}),ml=d.intl.formatMessage({id:"Q6HGJm",defaultMessage:"Joined"});class fl extends i.React$1.Component{constructor(e){super(e)}render(){const e=this.props,{userInfo:t}=e,n=s.__rest(e,["userInfo"]);let r="dbx_user";return t.isViewer?r="viewer":-1!==t.key.indexOf("@")?r="unverified_email":t.key.startsWith("dbafvid:")&&(r="guest"),i.React$1.createElement(ke.StatefulProfileCardWithWrapper,Object.assign({targetUser:{account_id:t.key,display_name:t.displayName,type:r,email:t.email},intl:d.intl,seenState:sl(t),isActive:t.isActive,initials:a.getInitials(t.displayName),photoUrl:t.photoUrl,tooltip:ke.WebTooltip,platform:"web",openDropboxUrl:a.open_tab,openExternalUrl:a.unsafe_open_tab,openEmailLink:ke.composeEmail,notify:ke.notify},n))}}fl.displayName="ProfileCardPopoverComponent";const gl=a.createSelector([e=>a.getStateAtNamespace(e,a.INTEGRATIONS_NAMESPACE_KEY)],(e=>e)),vl=a.connect((e=>({listServices:gl(e).listServices,featureGates:{}})))(fl);new te.GraphemeSplitter;a.injectInternalStyle("metaserver/static/js/pass/avatars.module.out.css",(e=>"._rich-facepile-tooltip-content--passive_1vzpm_1{border-radius:5px;padding:6px 0}._rich-facepile-tooltip-content--active_1vzpm_6{margin-top:-1px}"));const hl="_rich-facepile-tooltip-content--active_1vzpm_6";class Sl extends i.React$1.Component{render(){const{colorSeed:e,integrationStore:t,logEvent:n,performanceTimer:r,reportError:o,userInfo:s,teamExpandButtonText:l,teamExpandPrimaryText:c,teamExpandReasonsText:d,teamExpandButtonHandler:u,showCompanyIcon:p,isTeamExpandButtonDisabled:_}=this.props;return i.React$1.createElement(a.Provider,{store:t},i.React$1.createElement("div",{className:hl},i.React$1.createElement(vl,{userInfo:s,avatarColor:Le.avatarColorForUserIdentifier(e),logEvent:n,entryPoint:"file_preview",performanceTimer:r,reportError:o,teamExpandPrimaryText:c,teamExpandReasonsText:d,teamExpandButtonText:l,teamExpandButtonHandler:u,showCompanyIcon:p,isTeamExpandButtonDisabled:_})))}}Sl.displayName="UserAvatarActiveTooltipContent";const El=new W.EventEmitter;a.injectInternalStyle("typescript/libraries/comments2/src/components/rich_facepile/index.module.out.css",(e=>"._sc-rich-facepile-tooltip-content-container_1qstf_3 .mc-facepile-tooltip-content{padding:0}._sc-rich-facepile-overflow-tooltip-content_1qstf_11{padding:6px 8px}._offset-facepile_1qstf_16._sc-rich-facepile-tooltip-content-container_1qstf_3{transform:translateX(-100px)}._offset-facepile_1qstf_16._sc-rich-facepile-tooltip-content-container_1qstf_3 .mc-facepile-tooltip-content-arrow{transform:translateX(100px)}"));const wl="_sc-rich-facepile-tooltip-content-container_1qstf_3",bl="_sc-rich-facepile-overflow-tooltip-content_1qstf_11",yl="_offset-facepile_1qstf_16",Il="overflow";var Tl,Rl;!function(e){e[e.Auto=1]="Auto",e[e.ForceShow=2]="ForceShow",e[e.ForceHide=3]="ForceHide",e[e.Hover=4]="Hover"}(Tl||(Tl={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large",e[e.ExtraLarge=3]="ExtraLarge"}(Rl||(Rl={}));const Pl=wl,Al=yl;class xl extends i.react.exports.PureComponent{constructor(e){super(e),this.tooltipDirection="below",this.hidePortal=()=>{const e=this.portalRef.current;e&&e.hidePortal.call(e)},this.handlePortalMouseout=e=>{const{displayMode:t}=this.props;t===Tl.Hover&&this.hasLeftIntoTooltip(e)&&e.stopPropagation()},this.onContentMouseLeave=()=>{this.props.displayMode===Tl.Hover&&this.hidePortal()},this.renderContent=()=>{var e,t;const{avatarColor:n,tooltipContent:r,tooltipContentWrapperClassName:o,source:s}=this.props;return null===r?null:i.react.exports.createElement(Ve.FacepileTooltipContent,{backgroundColor:n,className:a.classnames(Pl,o,{[Al]:"fileViewer"===s&&(r.props.colorSeed||(null===(t=null===(e=r.props.children)||void 0===e?void 0:e.props)||void 0===t?void 0:t.colorSeed))}),tooltipContent:r,onMouseLeave:this.onContentMouseLeave})},this.portalRef=i.react.exports.createRef()}componentDidUpdate({displayMode:e}){const{displayMode:t}=this.props,{current:i}=this.portalRef;i&&t!==e&&(t===Tl.ForceShow?(this.hidePortal(),window.setTimeout((()=>i.showPortal.call(i)),0)):i.state.isShown&&this.hidePortal())}hasLeftIntoTooltip(e){const t=e.target.getBoundingClientRect(),i=Math.abs(t.top-e.pageY),a=Math.abs(t.bottom-e.pageY),n=Math.abs(t.left-e.pageX),r=Math.abs(t.right-e.pageX);switch(Math.min(i,a,n,r)){case i:return"above"===this.tooltipDirection;case a:return"below"===this.tooltipDirection;case n:return"left"===this.tooltipDirection;default:return"right"===this.tooltipDirection}}render(){const{avatar:e,onTooltipShown:t,onTooltipHidden:a,displayMode:n=Tl.Auto}=this.props,r=n===Tl.Hover?i.react.exports.createElement("div",{onMouseLeave:this.handlePortalMouseout},e):e;return i.react.exports.createElement(Ue.PositionedPortal,{renderContent:this.renderContent,onDidShow:t,onWillClose:a,isShowInitially:n===Tl.ForceShow,positioning:this.tooltipDirection,ref:this.portalRef,showOnMouseMove:n===Tl.Auto||n===Tl.Hover,closeOnBlur:n===Tl.Auto||n===Tl.Hover},r)}}xl.displayName="UtilTooltip";class Cl extends i.react.exports.PureComponent{constructor(){super(...arguments),this.renderAvatarInitials=()=>{const{active:e,"aria-label":t,avatarColorSeed:a,avatarSize:n,initials:r,initialsToColorAssigner:o}=this.props;return i.react.exports.createElement(Fe.AvatarInitials,{avatarSize:n,"aria-label":t,backgroundColor:o?o(a):Le.avatarColorForUserIdentifier(a),variant:e?"normal":"inactive"},r)}}render(){const{active:e,"aria-label":t,"aria-describedby":n,avatarColorSeed:r,avatarSize:o,disabled:s,photoUrl:l,onClick:c,onMouseEnter:d,onMouseLeave:u,onMouseOver:p,tabIndex:_,initialsToColorAssigner:m}=this.props,f=m?m(r):Le.avatarColorForUserIdentifier(r);return i.react.exports.createElement(a.Button$1,{"aria-label":t,"aria-describedby":n,className:"mc-facepile-members-avatar",disabled:s,onClick:c,onMouseEnter:d,onMouseLeave:u,onMouseOver:p,tabIndex:_,variant:"circular"},l?i.react.exports.createElement(Fe.Avatar,{renderFallback:this.renderAvatarInitials,size:o,src:l||void 0,variant:e?"normal":"inactive",style:{background:e?f:"#BFBFBF"}}):this.renderAvatarInitials())}}Cl.displayName="FacepileMembersAvatar";const Ml=i.react.exports.createContext({signalClick:()=>{}}),Ol="#627283",Nl=bl;class Dl extends i.react.exports.Component{constructor(){super(...arguments),this.state={},this.tooltipContentWrapperClassName=a.generateUUID("sc-rich-facepile-tooltip-content"),this.documentClickListener=e=>{const t=e.target;void 0===this.state.activeTooltipIndex||this.closest(t,this.tooltipContentWrapperClassName)||this.closest(t,"mc-facepile-container")||this.setActiveTooltipIndex(void 0)},this.leaveActiveMode=()=>{this.setActiveTooltipIndex(void 0)},this.bindN=e=>{const t=[];for(let i=0;i<5;i++)t.push((()=>e(i)));return t},this.onTooltipShownForIndex=e=>{if(this.activeMode)return;const{onTooltipChange:t}=this.props,i=this.infoFromIndex(e);if(t&&null!==i){const a=this.avatarRectForIndex(e,i);t({activeMode:this.activeMode,displayInfo:null},{activeMode:this.activeMode,displayInfo:i,avatarRect:a})}},this.onTooltipHiddenForIndex=e=>{if(this.activeMode)return;const{onTooltipChange:t}=this.props,i=this.infoFromIndex(e);t&&null!==i&&t({activeMode:this.activeMode,displayInfo:i},{activeMode:this.activeMode,displayInfo:null})},this.onAvatarClickForIndex=e=>{const{becomePassiveOnOverflowAvatarClick:t,onAvatarClick:i}=this.props,a=this.infoFromIndex(e),n=t&&a===Il;n||this.activeMode||this.setActiveTooltipIndex(e),n&&this.activeMode&&this.setActiveTooltipIndex(void 0),a&&i&&i(a)},this.onAvatarMouseOverForIndex=e=>{this.activeMode&&this.setActiveTooltipIndex(e)},this.onAvatarMouseEnterForIndex=e=>{if(this.props.onAvatarMouseEnter){const t=this.infoFromIndex(e),i=this.avatarRectForIndex(e,t);this.props.onAvatarMouseEnter({activeMode:this.activeMode,displayInfo:t,avatarRect:i})}},this.onAvatarFocusForIndex=e=>{this.onAvatarMouseEnterForIndex(e),this.onAvatarMouseOverForIndex(e)},this.onTooltipShown=this.bindN(this.onTooltipShownForIndex),this.onTooltipHidden=this.bindN(this.onTooltipHiddenForIndex),this.onAvatarClick=this.bindN(this.onAvatarClickForIndex),this.onAvatarMouseOver=this.bindN(this.onAvatarMouseOverForIndex),this.onAvatarMouseEnter=this.bindN(this.onAvatarMouseEnterForIndex),this.onAvatarFocus=this.bindN(this.onAvatarFocusForIndex),this.avatarDivRefs=Array(5).fill(0).map((e=>i.react.exports.createRef()))}componentDidMount(){document.addEventListener("click",this.documentClickListener,!0),window.addEventListener("resize",this.leaveActiveMode,!0)}componentWillUnmount(){document.removeEventListener("click",this.documentClickListener,!0),window.removeEventListener("resize",this.leaveActiveMode,!0)}closest(e,t){for(;e;e=e.parentElement)if(e.classList.contains(t))return e;return null}get activeMode(){return void 0!==this.state.activeTooltipIndex}setActiveTooltipIndex(e){const{activeTooltipIndex:t}=this.state,{onTooltipChange:i}=this.props;if(i&&t!==e){const{activeMode:a}=this,n=void 0!==e,r=n?this.infoFromIndex(e):null;i({activeMode:a,displayInfo:a?this.infoFromIndex(t):r},{activeMode:n,displayInfo:r,avatarRect:n?this.avatarRectForIndex(e,r):void 0})}this.setState({activeTooltipIndex:e})}displayModeForIndex(e){const{activeTooltipIndex:t}=this.state,i=this.props.passiveShowOnHover?Tl.Hover:Tl.Auto;return void 0===t?i:t===e?Tl.ForceShow:Tl.ForceHide}infoFromIndex(e){const{avatarInfoList:t,avatarInfoList:{length:i},overflowRemainderCount:a}=this.props;return a&&e===i?Il:e>=i?null:t[e]}getBoundingClientRectForRef({current:e}){return e?e.getBoundingClientRect():{left:-1,top:-1,width:0,height:0,right:-1,bottom:-1}}avatarRectForIndex(e,t){if(void 0===t&&(t=this.infoFromIndex(e)),!t)return;const{left:i,top:a,width:n,height:r}=this.getBoundingClientRectForRef(this.avatarDivRefs[e]);return{origin:{x:i,y:a},size:{width:n,height:r}}}render(){const{avatarSize:e,avatarInfoList:t,overflowRemainderCount:a,tooltipComponent:n,renderFacepile:r,initialsToColorAssigner:o,source:s,intl:l}=this.props,c=t.map(((t,a)=>{const{present:r,activeTooltipContent:l,avatarColorSeed:c,displayName:d,initials:u,memberKey:p,passiveTooltipContent:_,photoUrl:m}=t,f=c||d,g=i.react.exports.createElement("div",{onFocusCapture:this.onAvatarFocus[a],ref:this.avatarDivRefs[a]},i.react.exports.createElement(Cl,{active:r,"aria-label":d,avatarColorSeed:f,avatarSize:e,initials:u,onClick:this.onAvatarClick[a],onMouseEnter:this.onAvatarMouseEnter[a],onMouseOver:this.onAvatarMouseOver[a],photoUrl:m,initialsToColorAssigner:o||void 0}));let v;return this.activeMode?(v=void 0!==l?l:_,null!==v&&(v=i.react.exports.createElement(Ml.Provider,{value:{signalClick:this.leaveActiveMode}},v))):v=_,i.react.exports.createElement(n,{avatar:g,source:s,displayMode:this.displayModeForIndex(a),tooltipContent:v,avatarColor:o?o(f):Le.avatarColorForUserIdentifier(f),onTooltipShown:this.onTooltipShown[a],onTooltipHidden:this.onTooltipHidden[a],tooltipContentWrapperClassName:this.tooltipContentWrapperClassName,key:p})}));if(a){const r=l.formatMessage({id:"tkBGME",defaultMessage:"99+"}),o=a>=99?r:""+a,d=t.length,u=i.react.exports.createElement("div",{onFocusCapture:this.onAvatarMouseOver[d],ref:this.avatarDivRefs[d]},i.react.exports.createElement(Ve.FacepileMembersOverflowCircle,{avatarSize:e,backgroundColor:Ol,textColor:"white",onClick:this.onAvatarClick[d],onMouseOver:this.onAvatarMouseOver[d],remainderCount:o})),p=l.formatMessage({id:"U34Aor",defaultMessage:"{count, plural, one {# other} other {# others}}"},{count:a});c.push(i.react.exports.createElement(n,{source:s,avatar:u,displayMode:this.displayModeForIndex(d),tooltipContent:i.react.exports.createElement("div",{className:Nl},p),avatarColor:Ol,onTooltipShown:this.onTooltipShown[d],onTooltipHidden:this.onTooltipHidden[d],tooltipContentWrapperClassName:this.tooltipContentWrapperClassName,key:Il}))}return r(c)}}Dl.displayName="Avatars";const kl={[Rl.Small]:2,[Rl.Medium]:3,[Rl.Large]:5,[Rl.ExtraLarge]:5},Fl=i.react.exports.memo((e=>{const{avatarSize:t=32,avatarInfoList:a,becomePassiveOnOverflowAvatarClick:n,onAvatarClick:r,onTooltipChange:o,onAvatarMouseEnter:s,overflowBasis:l,shadowBackgroundColor:c,sizeClass:d,source:u,sizeClassToCircleCountOverrides:p,tooltipComponent:_,passiveShowOnHover:m,initialsToColorAssigner:f,intl:g}=e,v=Object.assign(Object.assign({},kl),p),h=Math.min(v[d],5);if(h<=0)return null;const S=Math.max(l,a.length);let E,w;return"fileViewer"===e.source&&window.innerWidth<768?(w=a.length-1,E=a):S<=h?(E=a,w=void 0):(E=a.slice(0,h-1),w=S-E.length),i.react.exports.createElement(Dl,{intl:g,avatarSize:t,onAvatarClick:r,onTooltipChange:o,onAvatarMouseEnter:s,avatarInfoList:E,becomePassiveOnOverflowAvatarClick:n,passiveShowOnHover:m,overflowRemainderCount:w,source:u,tooltipComponent:_,renderFacepile:e=>i.react.exports.createElement(Ve.Facepile,{avatarSize:t,shadowBackgroundColor:c},e.reverse()),initialsToColorAssigner:f||void 0})}));var Ll;Fl.displayName="RichFacepile",function(e){e.NumCollaborators="NUM_COLLABORATORS",e.NumSharedFolders="NUM_SHARED_FOLDERS",e.NumSharedFiles="NUM_SHARED_FILES",e.TopCollaborator="TOP_COLLABORATOR",e.SameDomain="SAME_DOMAIN"}(Ll||(Ll={}));const Ul=(e,t)=>{const i=Vl[e];return d.intl.formatMessage(i,{value:t})},Vl=a.defineMessages({[Ll.NumCollaborators]:{id:"QeEkkz",defaultMessage:"{value, plural, one{1 member works with them} other{{value} members work with them}}"},[Ll.NumSharedFolders]:{id:"156+gh",defaultMessage:"{value, plural, one{1 folder shared with your team} other{{value} folders shared with your team}}"},[Ll.NumSharedFiles]:{id:"CX5lnx",defaultMessage:"{value, plural, one{1 file shared with your team} other{{value} files shared with your team}}"},[Ll.TopCollaborator]:{id:"/t9NTF",defaultMessage:"{value} regularly works with them"},[Ll.SameDomain]:{id:"vQ0ZP6",defaultMessage:"Their email is {value}"}});class Bl extends i.React$1.Component{constructor(){super(...arguments),this.state={newPresentUserIds:[]},this.hasPassShownBeenLogged=!1,this.onAvatarHover=e=>{this.logPassEvent(a.EventTypes.PASS_HOVER),e!==Il&&this.hasTeamExpandInfo(e.memberKey)&&a.TeamsWebActionsLogger.log("team_expand_info_shown",{user_id:e.memberKey})},this.hasTeamExpandInfo=e=>{const{fetchUserJoinableTeam:t,user:i,userToJoinableTeam:a}=this.props;i.is_team||(null==a?void 0:a.find((t=>t.userId===e)))||!t||t(e);const n=this.getUserInfoList().find((({key:t})=>t===e));return Boolean(n&&this.getTeamExpandForUserInfo(n).teamExpandButtonText)},this.openShareModal=()=>{Io(this.props.file,a.Viewer.get_viewer().get_user_by_id(this.props.user.id),this.props.url||null,{origin:a.SHARE_ACTION_ORIGIN_TYPE.PREVIEW_PAGE_FACEPILE})},this.onAvatarClick=e=>{this.logPassEvent(a.EventTypes.PASS_CLICK);const t=this.context.getIntegrationStore(),i=this.getPromptsToDismiss(t);i.length>0&&a.wrapDispatch(t.dispatch)(a.dismissPrompts(i)),e===Il&&this.openShareModal()},this.onTooltipChange=({activeMode:e,displayInfo:t},{activeMode:i,displayInfo:a})=>{null!==a&&t!==a&&this.onAvatarHover(a)},this.canShowPASS=()=>{const{isPassPermissionsPending:e,passFetchingStatus:t,passPermissions:i}=this.props;return!e&&t!==a.PassFetchingStatus.ERROR&&null!==i&&(i.canReadPresence||i.canReadSeenState)},this.canShowMembershipInfo=()=>{const{sharingStorePassInfo:e}=this.props;return e.isLoaded&&null!==e.data&&e.data.users.length>0},this.getTeamExpandForUserInfo=t=>{var n;const{joinableTeams:r,joinTeamHandler:o,user:l,userToJoinableTeam:c,suggestMembersEnabled:u}=this.props,p=a.Viewer.get_viewer();let _=[];if(this.props.userTeamInteractionInfo&&t.userId in this.props.userTeamInteractionInfo){const e=this.props.userTeamInteractionInfo[t.userId];if(null!==e){const i=((e,t,i)=>{const a=[],{num_collaborators:n,num_shared_folders:r,num_shared_files:o,top_collaborator:s,same_domain:l}=e;if(n>0&&a.push([Ll.NumCollaborators,n]),r>0&&a.push([Ll.NumSharedFolders,r]),o>0&&a.push([Ll.NumSharedFiles,o]),l){s&&a.push([Ll.TopCollaborator,s.name]);const e="@"+t.split("@")[1];a.push([Ll.SameDomain,e])}return i?a.slice(0,i):a})(e,t.email,3);for(const[e,t]of i)_.push(Ul(e,t))}else _=(e=>{const t=[];return e&&(t.push(d.intl.formatMessage({id:"jDD++i",defaultMessage:"Content stays within the team"})),t.push(d.intl.formatMessage({id:"/a4H7F",defaultMessage:"They’ll get instant access to files"})),t.push(d.intl.formatMessage({id:"LL9D7n",defaultMessage:"Enough space to do their work"}))),t})(t)}if(l.is_team_admin&&!1===t.same_team&&!1===t.is_guest)return Object.assign(Object.assign({},((t,i,n)=>{const{team_name:r,team_id:o}=n;return{teamExpandPrimaryText:d.intl.formatMessage(ll,{teamname:r}),teamExpandButtonText:cl,teamExpandButtonHandler:()=>s.__awaiter(void 0,void 0,void 0,(function*(){window.dispatchEvent(new Event("resize")),t.email&&(yield new Promise((function(t,i){e(["./c_invite_modals_invite_confirmation_modal"],t,i)})).then((({showInviteConfirmationModal:e})=>{t.email&&e({emailsToInvite:[t.email],origin:De.Source.PASS_INVITE})}))),a.TeamsWebActionsLogger.log("pass_invite_user",{user_id:i.id,team_id:o})}))}})(t,l,p)),{teamExpandReasonsText:_});if(l.is_team&&!1===t.same_team&&!1===t.is_guest&&u)return Object.assign(Object.assign({},((e,t,n)=>{const{team_id:r,team_type:o,team_name:s,work_user:l}=n;return{teamExpandPrimaryText:d.intl.formatMessage(ll,{teamname:s}),teamExpandButtonText:cl,teamExpandButtonHandler:()=>{r&&o?(window.dispatchEvent(new Event("resize")),a.Modal$1.showInstance(i.React$1.createElement(Ne.MemberInviteModalWithCSS,{user:l,open:!0,onClose:()=>a.Modal$1.close(),prepopulatedEmails:e.email?[e.email]:[],source:"pass",isSuggestionMode:!0}))):a.navigateToSuggestModal(e.email?[e.email]:[]),a.TeamsWebActionsLogger.log("pass_suggested_user",{user_id:t.id,team_id:r,team_type:o})}}})(t,l,p)),{teamExpandReasonsText:_});if(!l.is_team&&r&&o&&c){const e=null===(n=c.find((e=>e.userId===t.userId)))||void 0===n?void 0:n.teamId,i=r.find((e=>e.requestState===Oe.RequestState.PendingApproval));return((e,t,i,n)=>{if(!i)return{};const r=i.requestState;return{teamExpandPrimaryText:d.intl.formatMessage(ul,{teamname:i.name}),teamExpandButtonText:r?r===Oe.RequestState.Sending?pl:r===Oe.RequestState.PendingApproval?_l:ml:dl,teamExpandButtonHandler:()=>{window.dispatchEvent(new Event("resize")),n(i),a.TeamsWebActionsLogger.log("pass_requested_access_to_team",{user_id:t.id,team_id:i.id})},showCompanyIcon:!0,isTeamExpandButtonDisabled:r===Oe.RequestState.PendingApproval||r===Oe.RequestState.Sending||r===Oe.RequestState.Joined}})(0,l,(void 0!==i?[i]:r).find((t=>t.dbxTeamId===e)),o)}return{}}}UNSAFE_componentWillMount(){this.resetLogging(),ol.listenTo(El)}componentDidMount(){this.logFacepileShownEvents()}UNSAFE_componentWillReceiveProps(e){if(r.areFilesEqual(this.props.file,e.file)){if(null==e.presence||null==this.props.presence)return;const t=Be.difference(e.presence,this.props.presence),i=Be.difference(this.props.presence,e.presence);this.updateNewPresentUserIds(t,i)}else this.setState({newPresentUserIds:[]}),this.resetLogging()}componentDidUpdate(e){this.logFacepileShownEvents()}componentWillUnmount(){ol.unlistenTo(El)}updateNewPresentUserIds(e,t){const i=Be.filter(this.state.newPresentUserIds,(e=>-1===t.indexOf(e)));this.setState({newPresentUserIds:[...e,...i]})}computeOverflowBasis(e){if(!this.props.uniqueMemberCountInfo.data)return e.length;let t=this.props.uniqueMemberCountInfo.data;return e.forEach((e=>{e.incrementOverflowBasis&&++t})),Math.max(t,e.length)}resetLogging(){this.hasPassShownBeenLogged=!1}logFacepileShownEvents(){if(!this.hasPassShownBeenLogged&&this.dataSufficientForLoggingHasLoaded()){const e=this.getUserInfoList();this.haveSeenStateDataToShow(e)&&(this.logPassEvent(a.EventTypes.PASS_SHOWN,e),this.hasPassShownBeenLogged=!0)}}logPassEvent(e,t){const{anonymousPresenceInfo:{length:i},file:a,passSessionId:n,passPermissions:r}=this.props,{numViewers:o,numInTeamEditors:s,numInTeamViewers:l,numNonTeamEditors:c,numNonTeamViewers:d}=this.getViewerCountByAccessLevel(),u=this.computeOverflowBasis(t||this.getUserInfoList());return El.emit(e,!1,a,{numAccessors:u,numViewers:o,numCurrentViewers:this.getNumCurrentViewers(),canSeeViewerHistory:r&&r.canReadSeenState,numGuests:i,numInTeamEditors:s,numInTeamViewers:l,numNonTeamEditors:c,numNonTeamViewers:d},n)}getViewerCountByAccessLevel(){let e,t,i=0,a=0,n=0,r=0;if(this.shouldHardcodeCurrentViewer()){t=this.seenStateDataWithViewerFiltered(this.getSeenStates());const a=this.getSeenStates().filter((e=>e.seen_state_user.user_id===this.props.user.account_id));if(a.length>0){e=0;const i=a[0];i.when_last_seen=1,t.push(i)}else e=1,i++}else e=0,t=this.getSeenStates();for(const o of t)if(null!=o.when_last_seen){e++;const t=o.seen_state_user;t.in_owners_team?t.sharing_access_type&&"edit_member_access"===t.sharing_access_type.type?i++:a++:t.sharing_access_type&&"edit_member_access"===t.sharing_access_type.type?n++:r++}return{numViewers:e,numInTeamEditors:i,numInTeamViewers:a,numNonTeamEditors:n,numNonTeamViewers:r}}getNumCurrentViewers(){if(!this.props.presence)return 0;if(this.shouldHardcodeCurrentViewer()){return 1+this.props.presence.filter((e=>e!==this.props.user.account_id)).map((e=>e)).length}return this.props.presence.length}userIsAnonymous(e){return Be.map(this.props.anonymousPresenceInfo,(e=>e.seen_state_user.user_id)).indexOf(e.user_id)>=0}userIsOnline(e){return null!=this.props.presence&&this.props.presence.indexOf(e.user_id)>=0}buildUserInfo(e){const{platform_type:t,seen_state_user:n,seen_state_user:{access_level:r,display_name:o,email:s,photo_circle_url:l,sharing_access_type:c,user_id:d,same_team:u},when_last_seen:p}=e,_=d||o,m=a.shouldIncrementOverflowBasisForAccessType(c),f=this.userIsAnonymous(n),g=!u&&this.props.user.is_team&&!f;return new B.UserInfo(_,o,this.userIsOnline(n),!1,m,s,r,p,g?i.static_url("/static/metaserver/static/images/team_success/pass/nonteam_member_white-vflnM3nw0.svg"):l,d,t,u,f)}seenStateDataWithViewerFiltered(e){return Be.filter(e,(e=>e.seen_state_user.user_id!==this.props.user.account_id))}partitionUserInfoLists(e){const t=[],i=[],a=[],n=[],r=[],o={};for(const t of e){const e=this.buildUserInfo(t);this.userIsOnline(t.seen_state_user)?this.isNewPresentUser(e)?o[e.key]=e:this.userIsAnonymous(t.seen_state_user)?a.push(e):i.push(e):null!=t.when_last_seen?n.push(e):r.push(e)}for(const e of this.state.newPresentUserIds){const i=o[e];i&&t.push(i)}return{newPresentUserInfoList:t,presentUserInfoList:i,anonymousUserInfoList:a,offlineUserInfoList:n,neverViewedUserInfoList:r}}getUserInfoList(){let e;const t=[],i=this.getMergedSeenStateData();if(this.shouldHardcodeCurrentViewer()){e=this.seenStateDataWithViewerFiltered(i);const n=this.props.user.account_id,r=e.length<i.length&&this.getSeenStates().some((({seen_state_user:e})=>e.user_id===n&&a.shouldIncrementOverflowBasisForAccessType(e.sharing_access_type))),o=a.Viewer.get_viewer().get_user_by_id(this.props.user.id);t.push(new B.UserInfo(this.props.user.account_id,o.display_name,this.canShowPASS(),!0,r,o.email,void 0,void 0,o.photo_url,this.props.user.account_id,void 0,!0,!1))}else e=i;const n=this.partitionUserInfoLists(e),{newPresentUserInfoList:r,presentUserInfoList:o,anonymousUserInfoList:s,offlineUserInfoList:l,neverViewedUserInfoList:c}=n;return o.sort(((e,t)=>e.displayName.toLowerCase().localeCompare(t.displayName.toLowerCase()))),c.sort(((e,t)=>e.displayName.toLowerCase().localeCompare(t.displayName.toLowerCase()))),[...t,...r,...o,...s,...l,...c]}isNewPresentUser(e){return this.state.newPresentUserIds.indexOf(e.key)>=0}getMergedSeenStateData(){const e=this.getSeenStates(),t=e.map((e=>e.seen_state_user.user_id));if(this.props.sharingStorePassInfo.data){for(const i of this.props.sharingStorePassInfo.data.users){const a=i.seen_state_user.user_id;-1!==t.indexOf(a)||a===this.props.user.account_id&&this.shouldHardcodeCurrentViewer()||e.push(i)}return[...e,...this.props.anonymousPresenceInfo,...this.props.sharingStorePassInfo.data.invitees]}return[...e,...this.props.anonymousPresenceInfo]}shouldHardcodeCurrentViewer(){const e=!a.Viewer.get_viewer().is_assume_user_session,t=null!=this.props.presence&&this.props.presence.indexOf(this.props.user.account_id)>=0;return e||t}getSeenStates(){return this.props.identifiedSeenStateInfo&&this.props.identifiedSeenStateInfo.seen_states?[...this.props.identifiedSeenStateInfo.seen_states]:[]}haveSeenStateDataToShow(e){const t=e.length;return t>=2||1===t&&e[0].key!==this.props.user.account_id}dataSufficientForLoggingHasLoaded(){return this.sharingAndCountInfoHasLoaded()&&a.fetchingStatusCanLogAsShown(this.props.passFetchingStatus)}dataSufficientForDisplayHasLoaded(){return this.sharingAndCountInfoHasLoaded()&&a.fetchingStatusSeenStateIsComplete(this.props.passFetchingStatus)}sharingAndCountInfoHasLoaded(){const{sharingStorePassInfo:e,uniqueMemberCountInfo:t}=this.props;return e.isLoaded&&t.isLoaded}getPromptsToDismiss(e){return[{".tag":"tooltip_click_for_more"},{".tag":"tooltip_click_for_more_auto_display"}].filter((t=>!a.isPromptDismissed(e.getState(),t[".tag"])))}render(){const{isCollapsed:e,source:t}=this.props;if(!this.canShowPASS()&&!this.canShowMembershipInfo())return this.renderEmptyFacepile();if(!this.dataSufficientForDisplayHasLoaded())return i.React$1.createElement("div",null);const a=this.getUserInfoList();if(this.haveSeenStateDataToShow(a)){if(e)return this.renderCollapsedFacepile(a[0]);const n=this.computeOverflowBasis(a),r=d.intl.formatMessage({id:"6Caba5",defaultMessage:"Shared with"});return i.React$1.createElement("div",{className:this.facepileClassName(),"aria-label":r},i.React$1.createElement(Fl,{avatarInfoList:this.computeAvatarInfos(a),becomePassiveOnOverflowAvatarClick:!0,passiveShowOnHover:!0,intl:d.intl,onAvatarClick:this.onAvatarClick,onTooltipChange:this.onTooltipChange,source:t,overflowBasis:n,sizeClass:this.getConvertedSizeClass(),sizeClassToCircleCountOverrides:{[Rl.Small]:0,[Rl.Medium]:4,[Rl.Large]:3},tooltipComponent:xl}))}return this.props.soloAccessText?this.renderSoloAccessText():this.renderEmptyFacepile()}getConvertedSizeClass(){switch(this.props.sizeClass){case Ae.SizeClass.Small:return Rl.Small;case Ae.SizeClass.Medium:return Rl.Medium;case Ae.SizeClass.Large:return Rl.Large;case Ae.SizeClass.ExtraLarge:return Rl.ExtraLarge}}renderSoloAccessText(){const e=d.intl.formatMessage({id:"pQM2jx",defaultMessage:"Only you have access"});return i.React$1.createElement(a.Text,{color:"faint"},e)}renderEmptyFacepile(){return i.React$1.createElement(nl,{presenceComplete:!this.props.isPassPermissionsPending})}renderCollapsedFacepile(e){const{isActive:t,displayName:n,photoUrl:r}=e;return i.React$1.createElement(Ve.FacepileMembersAvatar,{active:t,avatarColorSeed:n,avatarSize:32,initials:a.getInitials(n),photoUrl:r||null,disabled:!0})}facepileClassName(){return a.classnames(il,{[a.PRESENCE_RECEIVED_CLASSNAME]:!this.props.isPassPermissionsPending})}computeAvatarInfos(e){if(0===e.length)return[];const t=this.context.getIntegrationStore(),n=this.context.logEvent(),o=this.context.performanceTimer(),s=this.context.reportError(),{file:l,file:{file_id:c},user:{id:d}}=this.props,u=r.getFilename(l);return e.slice(0,5).map((e=>{const{colorSeed:r,initials:l}=function({userId:e,displayName:t}){return e&&a.AnonymousViewerUtils.isAnonymousUserId(e)?{colorSeed:e,initials:a.AnonymousViewerUtils.getAnonymousViewerInitials(t)}:{colorSeed:t,initials:a.getInitials(t)}}(e),{isActive:p,displayName:_,key:m,userId:f,photoUrl:g}=e,v=this.hasTeamExpandInfo(e.key)?this.getTeamExpandForUserInfo(e):{};return{present:p,displayName:_,avatarColorSeed:r,initials:l,memberKey:m,photoUrl:g||null,userId:f,passiveTooltipContent:i.React$1.createElement(Sl,Object.assign({colorSeed:r,integrationStore:t,integrationInfo:{fileId:c,fileName:u,userId:d},logEvent:n,performanceTimer:o,reportError:s,userInfo:e},v))}}))}}Bl.contextTypes={getIntegrationStore:a.PropTypes.func,logEvent:a.PropTypes.func,performanceTimer:a.PropTypes.func,reportError:a.PropTypes.func},Bl.displayName="SeenStateFacepileComponentSpectrumized";const $l=a.requireCssWithComponent(Bl,["/static/typescript/libraries/comments2/src/index-vfljiK9YC.css"]),jl=i.React$1.createContext(null),zl=({isCollapsed:e})=>i.React$1.createElement(jl.Consumer,null,(t=>null===t?i.React$1.createElement(nl,{presenceComplete:!1}):"sizeClass"in t?i.React$1.createElement($l,Object.assign({},t,{isCollapsed:e})):i.React$1.createElement(nl,Object.assign({},t))));zl.displayName="SeenStateFacepileConsumer";class Hl extends i.React$1.Component{constructor(e){super(e),this.getApiV2Client=()=>this.apiV2Client,this.getIntegrationStore=()=>this.state.integrationStore,this.getPerformanceTimer=()=>this.performanceTimer,this.getLogEvent=()=>this.logEvent,this.getReportError=()=>this.reportError,this.apiV2Client=new a.DefaultUserApiV2Client(this.props.user),this.performanceTimer=a.WebPerformanceTimer;const t=a.createIntegrationsActionsLogger();this.logEvent=t.logEvent,this.reportError=a.webReportError,this.state={integrationStore:a.initStoreForIntegration(this.props.user.id)}}getChildContext(){return{getApiV2Client:this.getApiV2Client,getIntegrationStore:this.getIntegrationStore,performanceTimer:this.getPerformanceTimer,logEvent:this.getLogEvent,reportError:this.getReportError}}render(){return this.props.children}}var Kl;function Wl(e){const t=i.React$1.createElement(a.Snackbar,Object.assign({},e,{closeButtonText:"Close",id:"teamDiscovery"}));a.Snackbar.show(t)}Hl.childContextTypes={getApiV2Client:a.PropTypes.func,getIntegrationStore:a.PropTypes.func,performanceTimer:a.PropTypes.func,logEvent:a.PropTypes.func,reportError:a.PropTypes.func},Hl.displayName="IntegrationProvider",function(e){e.FetchInitData="FetchInitData",e.AskToJoinTeam="AskToJoinTeam",e.PopulateServerProps="PopulateServerProps",e.UpdateRequestState="UpdateRequestState",e.LoadUserData="LoadUserData",e.LoadCurrentAccountData="LoadCurrentAccountData"}(Kl||(Kl={}));const Gl={currentPage:Oe.Pages.Suggest,joinableTeams:[],domainName:"",userEmail:"",userId:0,userToJoinableTeam:[]};function ql(e=Gl,t){switch(t.type){case Kl.FetchInitData:return Object.assign(Object.assign({},e),{currentPage:Oe.Pages.Suggest,joinableTeams:t.payload.joinableTeams,domainName:t.payload.domainName});case Kl.AskToJoinTeam:return Object.assign(Object.assign({},e),{currentPage:Oe.Pages.Confirm});case Kl.PopulateServerProps:return Object.assign(Object.assign({},e),{userEmail:t.payload.userEmail,userId:t.payload.userId});case Kl.UpdateRequestState:return Object.assign(Object.assign({},e),{joinableTeams:e.joinableTeams.map((e=>t.payload.teamId===e.id?Object.assign(Object.assign({},e),{requestState:t.payload.requestState}):e))});case Kl.LoadUserData:return e.userToJoinableTeam.find((e=>e.userId===t.payload.userId))||e.userToJoinableTeam.push({userId:t.payload.userId,teamId:t.payload.teamId}),Object.assign({},e);case Kl.LoadCurrentAccountData:return Object.assign(Object.assign({},e),{suggestMembersEnabled:t.payload.suggestMembersEnabled});default:return e}}const Yl=a.getStoreAndRegisterReducers({[a.TEAM_DISCOVERY_NAMESPACE_KEY]:ql}),Jl=new class{getTeamDiscoveryStoreState(e){const t=a.getStateAtNamespace(e,a.TEAM_DISCOVERY_NAMESPACE_KEY);if(void 0===t)throw Error("State in Store is undefined!");return t}},Ql=new class{constructor(e,t,i,a,n,r=!1){this.apiClient=e,this.logger=t,this.selector=i,this.contUrl=a||"/install",this.signupTag=n,this.isViralFlow=r}redirectAndNotify(e,t){const i=()=>a.redirect(this.contUrl);e?y.Notify.success(d.intl.formatMessage({id:"5lxkC0",defaultMessage:"Your request to join the team was sent successfully! Redirecting..."}),t,i):y.Notify.error(d.intl.formatMessage({id:"ZPbWOT",defaultMessage:"Something went wrong with your team join request. Redirecting..."}),t,i)}joinTeamAction(e,t,i,n=!0,r,o,s=3){return(l,c)=>{l({type:Kl.UpdateRequestState,payload:{teamId:e.id,requestState:Oe.RequestState.Sending}});const d=Oe.TeamSuggestPageDesign.New;return this.apiClient.ns("team_discovery").rpc("joinable_teams/join",{team_id:e.id,source:t,extra:{design:d,origin:t,signup_tag:void 0===this.signupTag?"":this.signupTag,preselect_team_id:void 0===o?"":o.toString()}},{subjectUserId:i}).then((i=>{let u,p;const _=i?i.result[".tag"]:void 0;switch(_){case Oe.JoinApiResultEnum.RequestSent:l({type:Kl.AskToJoinTeam}),u="ask_to_join",p="request_sent",l({type:Kl.UpdateRequestState,payload:{teamId:e.id,requestState:Oe.RequestState.PendingApproval}}),n?this.redirectAndNotify(!0,s):Wl({title:Oe.JoinApiRetReasonToLabel(p),variant:"complete"});break;case Oe.JoinApiResultEnum.RequestNotSent:p=i.result.reason[".tag"],p===Oe.JoinApiV2RetReason.Conflict?(l({type:Kl.AskToJoinTeam}),u="ask_to_join",n?this.redirectAndNotify(!0,s):Wl({title:Oe.JoinApiRetReasonToLabel(p),variant:"fail"})):(this.logger.logAskToJoinErrorEvent(e.id,this.selector.getTeamDiscoveryStoreState(c()).userId,_||"unknown",p||"unknown",t),n?this.redirectAndNotify(!1,s):Wl({title:Oe.JoinApiRetReasonToLabel(p),variant:"fail"})),l({type:Kl.UpdateRequestState,payload:{teamId:e.id}});break;case Oe.JoinApiResultEnum.CanJoin:u="can_auto_join",p="can_join",n?this.isViralFlow?this.redirectAndNotify(!0,s):a.redirect(i.result.url):Wl({title:"Joined team",variant:"complete"}),l({type:Kl.UpdateRequestState,payload:{teamId:e.id,requestState:Oe.RequestState.Joined}});break;default:this.logger.logAskToJoinErrorEvent(e.id,this.selector.getTeamDiscoveryStoreState(c()).userId,"unknown","other",t),l({type:Kl.UpdateRequestState,payload:{teamId:e.id}}),n?this.redirectAndNotify(!1,s):Wl({title:Oe.JoinApiRetReasonToLabel("other"),variant:"fail"})}this.logger.logAskToJoinEvent({teamId:e.id,userId:this.selector.getTeamDiscoveryStoreState(c()).userId,joinState:u,reason:p,origin:t,team_index:r,url:"team/discover/suggest",design:d,signupTag:this.signupTag,preselectTeamId:o})}))}}fetchInitialData(e,t=5,i=!0,n=""){return(r,o)=>(r({type:Kl.PopulateServerProps,payload:{userEmail:e.userEmail,userId:e.userId}}),this.apiClient.ns("team_discovery").rpc("joinable_teams/list",{member_to_fetch_limit:t,sharer_dbx_team_id:e.sharerDbxTeamId,include_user_collab_teams:!0,include_rejections:!i},{subjectUserId:e.userId}).then((a=>{var n,s,l;const c=Be.map(a.values,Oe.toJoinableTeam);i&&this.logger.logExposedToSETOnSignupPage(this.selector.getTeamDiscoveryStoreState(o()).userId,e.origin,e.signupTag,c.length,null===(n=Oe.preselectTeam(c,e.sharerName,e.sharerDbxTeamId))||void 0===n?void 0:n.id,t,null===(s=c[0])||void 0===s?void 0:s.isSameDomain,null===(l=c[0])||void 0===l?void 0:l.isCollaborator),r({type:Kl.FetchInitData,payload:{joinableTeams:c,domainName:a.domain_name}})})).catch((e=>{if(!n)throw e;{const e=d.intl.formatMessage({id:"/uOUwu",defaultMessage:"We encountered an error trying to fetch teams for you to join. Redirecting to the next page..."}),t=3;y.Notify.error(e,t,(()=>a.redirect(n)))}})))}fetchUserData(e,t){return(i,a)=>this.apiClient.ns("team_discovery").rpc("joinable_teams/user",{dbx_account_id:t},{subjectUserId:e}).then((e=>{i({type:Kl.LoadUserData,payload:{userId:t,teamId:e.dbx_team_id}})}))}fetchCurrentAccount(e){return(t,i)=>this.apiClient.ns("users").rpc("get_current_account",void 0,{subjectUserId:e}).then((e=>{var i;t({type:Kl.LoadCurrentAccountData,payload:{suggestMembersEnabled:!!(null===(i=e.team)||void 0===i?void 0:i.team_user_permissions.suggest_members_enabled)}})}))}continueToNextPage(e,t){return(i,n)=>{e.preventDefault(),this.logger.logContinueToInstallEvent(this.selector.getTeamDiscoveryStoreState(n()).userId,t),e.metaKey?a.open_tab(this.contUrl):a.redirect(this.contUrl)}}}(new a.UserApiV2Client,new Oe.Logger,Jl);class Xl extends i.React$1.Component{constructor(e){super(e),this.onUpdateFromStore=()=>{this.setState(this.getStateFromStore())},this.state=this.getStateFromStore(),this.passSessionId=e.passSessionId||u.v4()}UNSAFE_componentWillMount(){const{user:e,isViewMetadataDisabled:t}=this.props;B.passStore.add_change_listener(this.onUpdateFromStore),B.sharingInfoStore.add_change_listener(this.onUpdateFromStore),this.teamDiscoveryStoreUnsubscribe=Yl.subscribe(this.onUpdateFromStore),B.PassHelpers.setup({user:e,passSessionId:this.passSessionId,fileData:this.getPassFileData(),skipSharingEndpoints:t,prevFileData:null}),e&&(Yl.dispatch(Ql.fetchInitialData({origin:Oe.TeamJoinRequestOrigin.Pass,userId:e.id,userEmail:e.email},100,!1)),Yl.dispatch(Ql.fetchCurrentAccount(e.id)))}UNSAFE_componentWillReceiveProps(e){r.areFilesEqual(e.file,this.props.file)||this.setState({passInfo:{anonymousPresence:null,isPassPermissionsPending:!0,passFetchingStatus:a.PassFetchingStatus.FETCHING,passPermissions:null,presence:null,identifiedSeenStateInfo:null,userIdsWithoutSeenStateInfo:[]},sharingInfo:void 0})}UNSAFE_componentWillUpdate(e,t){const i=t.passInfo;if(i.userIdsWithoutSeenStateInfo.length>0&&a.fetchingStatusIsSuccessful(i.passFetchingStatus)&&e.user){const t=e.file,a=this.urlFromProps(e);B.SeenStateHelpers.fetchSeenStateUsers(e.user.id,i.identifiedSeenStateInfo,i.userIdsWithoutSeenStateInfo,t.file_id,a,this.passSessionId)}const n=t.teamExpandInfo;var r,o,l,c;n&&n.userIdsWithoutTeamInteractionInfo.length>0&&null!==i.identifiedSeenStateInfo&&a.fetchingStatusIsSuccessful(i.passFetchingStatus)&&e.user&&(r=n.userIdsWithoutTeamInteractionInfo,o=i.identifiedSeenStateInfo,l=n.userTeamInteractionInfo,c=e.file.file_id,s.__awaiter(void 0,void 0,void 0,(function*(){const e=a.Viewer.get_viewer();if(!e.work_user||0===r.length)return;const t=[];for(const e of r){if(e in l)continue;const i=o.seen_states.map((e=>e.seen_state_user)).find((t=>t.user_id===e));i&&!i.same_team&&t.push(e)}if(0===t.length)return;const i=(new a.UserApiV2Client).ns("user_to_team");yield i.rpc("get_interaction_info",{dbx_account_ids:t,team_id:e.team_id},{subjectUserId:e.work_user.id}).then((e=>{const t={};if(!e||0===e.result.length)throw Error();for(const i of e.result)t[i.dbx_account_id]=i;B.PassActions.updateUserTeamInteractionInfo(c,t)})).catch((e=>{const i={};for(const e of t)i[e]=null;B.PassActions.updateUserTeamInteractionInfo(c,i)}))})))}componentDidUpdate(e){if(!r.areFilesEqual(this.props.file,e.file)){const t={file:e.file,url:this.urlFromProps(e)},i=this.props.isViewMetadataDisabled;this.passSessionId=u.v4(),B.PassHelpers.setup({user:this.props.user,passSessionId:this.passSessionId,fileData:this.getPassFileData(),skipSharingEndpoints:i,prevFileData:t})}}componentWillUnmount(){B.passStore.remove_change_listener(this.onUpdateFromStore),B.sharingInfoStore.remove_change_listener(this.onUpdateFromStore),this.teamDiscoveryStoreUnsubscribe&&this.teamDiscoveryStoreUnsubscribe(),B.PassHelpers.teardown({user:this.props.user,fileData:this.getPassFileData(),async:!0})}getStateFromStore(){const{user:e,file:{file_id:t}}=this.props;return{passInfo:{anonymousPresence:B.passStore.anonymousPresence(t),isPassPermissionsPending:B.passStore.isPassPermissionsPending(t),passFetchingStatus:B.passStore.passFetchingStatus(t),passPermissions:B.passStore.getPassPermissions(t),presence:B.passStore.presence(t),identifiedSeenStateInfo:B.passStore.identifiedSeenStateInfo(t),userIdsWithoutSeenStateInfo:B.passStore.userIdsWithoutSeenStateInfo(t)},sharingInfo:e&&B.sharingInfoStore.getSharingInfo(e.id,t)||void 0,teamExpandInfo:e&&this.getTeamExpandInfo(e.id,t)||void 0}}getTeamExpandInfo(e,t){const{joinableTeams:i,userToJoinableTeam:a,suggestMembersEnabled:n}=Jl.getTeamDiscoveryStoreState(Yl.getState());return{joinableTeams:i,userToJoinableTeam:a,joinTeamHandler:t=>{Yl.dispatch(Ql.joinTeamAction(t,Oe.TeamJoinRequestOrigin.Pass,e,!1,i.indexOf(t)))},fetchUserJoinableTeam:t=>{Yl.dispatch(Ql.fetchUserData(e,t))},userIdsWithoutTeamInteractionInfo:B.passStore.userIdsWithoutTeamInteractionInfo(t),userTeamInteractionInfo:B.passStore.userTeamInteractionInfo(t),suggestMembersEnabled:!!n}}getAnonymousPassInfo(){return null==this.state.passInfo.anonymousPresence?[]:this.state.passInfo.anonymousPresence.map((function(e){return{seen_state_user:{user_id:e,display_name:d.intl.formatMessage({id:"+s6D7j",defaultMessage:"Guest"})},seen_events:[]}}))}getMemberInfosInPassFormat(e){const t=e.members();return{invitees:t?this.getInviteeMemberInfos(t):[],users:t?this.getUserMemberInfos(t):[]}}getUserMemberInfos(e){return e.users.valueSeq().toArray().reduce((function(e,t){return t.account&&e.push({seen_state_user:{user_id:t.account_id,display_name:t.account.display_name,email:t.email(),photo_circle_url:t.account.profile_photo_url||void 0,access_level:t.access_type,same_team:t.same_team},seen_events:[]}),e}),[])}getInviteeMemberInfos(e){return e.invitees.valueSeq().toArray().map((function(e){return{seen_state_user:{display_name:e.contact,access_level:e.access_type},seen_events:[]}}))}getPassFileData(){return{file:this.props.file,url:this.urlFromProps()}}urlFromProps(e=this.props){return e.sharedLinkInfo?e.sharedLinkInfo.url:void 0}getPropsFromPassInfo(){return{anonymousPresenceInfo:this.getAnonymousPassInfo(),isPassPermissionsPending:this.state.passInfo.isPassPermissionsPending,passFetchingStatus:this.state.passInfo.passFetchingStatus,passPermissions:this.state.passInfo.passPermissions,presence:this.state.passInfo.presence,identifiedSeenStateInfo:this.state.passInfo.identifiedSeenStateInfo}}getPropsFromSharingInfo(){const e={uniqueMemberCountInfo:B.FacepileInfo.createNotLoaded(),sharingStorePassInfo:B.FacepileInfo.createNotLoaded()};return this.state.sharingInfo?(null!=this.state.sharingInfo.memberCounts()&&(e.uniqueMemberCountInfo=B.FacepileInfo.create(this.state.sharingInfo.memberCounts().total_unique_users)),this.state.sharingInfo.hasDisplayableMembers()&&(e.sharingStorePassInfo=B.FacepileInfo.create(this.getMemberInfosInPassFormat(this.state.sharingInfo))),e):e}getPropsFromTeamDiscovery(){return this.state.teamExpandInfo||{}}getPropsFromController(){const{file:e,sizeClass:t,soloAccessText:i}=this.props;return{file:e,sizeClass:t,url:this.urlFromProps(),soloAccessText:i}}render(){const{children:e,isViewingFileSubpath:t,user:a,source:n}=this.props,r=this.getPropsFromPassInfo();return null==a||t?i.React$1.createElement(jl.Provider,{value:{presenceComplete:!r.isPassPermissionsPending}},e):i.React$1.createElement(jl.Provider,{value:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},r),this.getPropsFromSharingInfo()),this.getPropsFromController()),this.getPropsFromTeamDiscovery()),{user:a,passSessionId:this.passSessionId,source:n})},i.React$1.createElement(Hl,{user:a},e))}}Xl.displayName="SeenStateFacepileProvider";class Zl extends i.React$1.Component{render(){return i.React$1.createElement(Xl,Object.assign({},this.props),i.React$1.createElement(zl,null))}}Zl.displayName="SeenStateFacepileController";a.injectInternalStyle("metaserver/static/js/file_viewer/sdk_file_viewer/titlebar/v1/title_bar_right_section.module.out.css",(e=>"._titleBarSpacing_wzh7c_1{padding:var(--spacing__unit--2) var(--spacing__unit--1)}._pass_wzh7c_5{align-items:center;display:flex;justify-content:center}._auth_wzh7c_11>:not(:last-child){margin-right:8px}@media (max-width:768px){._pass_wzh7c_5 .mc-facepile-inner .mc-facepile-container{display:none}}@media (min-width:500px){._pass_wzh7c_5 .mc-facepile-inner div:nth-last-child(-n+2){display:flex}}"));const ec="_titleBarSpacing_wzh7c_1",tc=({activePreviewFile:e,passSessionId:t,user:n,className:r})=>i.react.exports.createElement("div",{className:a.classnames(r,"_pass_wzh7c_5")},i.react.exports.createElement(Zl,{user:n||null,file:e.file,passSessionId:t,source:"fileViewer",sharedLinkInfo:e.sharedLinkInfo,sizeClass:Ae.SizeClass.Medium,isViewMetadataDisabled:!1,isViewingFileSubpath:!1,soloAccessText:!0}));tc.displayName="PassUi";const ic=({activePreviewFile:e,user:t,previewSurface:a,className:n})=>i.react.exports.createElement("div",{className:n},i.react.exports.createElement(el,{previewSurface:a,activeFile:e.file,user:t}));ic.displayName="TitleBarShareButton";const ac=({showAuthModal:e,className:n})=>{const r=a.useIntl(),o=r.formatMessage({id:"N0xz5m",defaultMessage:"Sign in"});return i.react.exports.createElement("div",{className:a.classnames("_auth_wzh7c_11",n)},i.react.exports.createElement(a.Button,{onClick:()=>e({mode:t.AuthMode.LOGIN,kind:t.LoginOrRegisterKind.SIDEBAR}),"aria-label":r.formatMessage({id:"Cg3xuN",defaultMessage:"Button to trigger login dialog"}),variant:"opacity"},o),i.react.exports.createElement(a.Button,{className:"previews_campaign_slot_sign_up",onClick:()=>e({mode:t.AuthMode.REGISTER,kind:t.LoginOrRegisterKind.SIDEBAR}),"aria-label":r.formatMessage({id:"B9J0l9",defaultMessage:"Button to trigger sign up dialog"}),variant:"primary"},r.formatMessage({id:"5KEf7W",defaultMessage:"Sign up"})))};var nc;ac.displayName="LoginSignupButtons",function(e){e[e.HELP=0]="HELP",e[e.REPORT=1]="REPORT",e[e.PRIVACY=2]="PRIVACY",e[e.COOKIES=3]="COOKIES"}(nc||(nc={}));const rc=i.react.exports.memo((({activationHubExpVariant:t,previewSurface:n,activePreviewFile:o})=>{const s=a.useIntl(),l=document.getElementById("consent-iframe");a.setManualReEntryProvided(!0);const c=s.formatMessage({id:"yXlaNs",defaultMessage:"Help"}),d={experimentVariant:null!=t?t:"OFF",file:null==o?void 0:o.file,previewSurface:n};if(Ci(Object.assign({expectedVariant:"V1"},d))){const e=()=>{u.selectDrawer(u.DrawerTypes.Main,u.ActivationHubTriggerSource.HelpIcon)};return i.react.exports.createElement(a.IconButton,{variant:"transparent","aria-label":c,onClick:e},i.react.exports.createElement(a.UIIcon,{src:a.HelpLine}))}return i.react.exports.createElement(a.Menu.Wrapper,{onSelection:i=>{const n=window.location&&encodeURIComponent(window.location.href),s={[nc.HELP]:"https://help.dropbox.com/",[nc.REPORT]:`/report_abuse?ssu=${n}`,[nc.PRIVACY]:"/privacy"};if(Ci(Object.assign({expectedVariant:"CONTROL"},d))&&a.logEvent({class:"activation",action:"click",object:"core_attach_activation_hub_m1",properties:{experimentVariant:t,fileType:o?Y.getFileTypeFromString(r.getExtension(o.file)):void 0}}),i===nc.COOKIES){return(()=>{new Promise((function(t,i){e(["./c_privacy_consent_load_privacy_consent"],t,i)})).then((({loadPrivacyConsentApi:e})=>{e().then((e=>e.openOptionsDialog()))}))})()}const l=s[i];window.open(l)}},(({getTriggerProps:e,getContentProps:t})=>i.react.exports.createElement(i.react.exports.Fragment,null,i.react.exports.createElement(a.IconButton,Object.assign({},e(),{variant:"transparent","aria-label":c}),i.react.exports.createElement(a.UIIcon,{src:a.HelpLine})),i.react.exports.createElement(a.Menu.Content,Object.assign({},t()),i.react.exports.createElement(a.Menu.Segment,null,i.react.exports.createElement(a.Menu.ActionItem,{value:nc.HELP,key:nc.HELP},s.formatMessage({id:"AIqtl8",defaultMessage:"Help center"})),i.react.exports.createElement(a.Menu.ActionItem,{value:nc.PRIVACY,key:nc.PRIVACY},s.formatMessage({id:"dCY8w0",defaultMessage:"Privacy and legal"})),l&&i.react.exports.createElement(a.Menu.ActionItem,{value:nc.COOKIES,key:nc.COOKIES},s.formatMessage({id:"jnuJZG",defaultMessage:"Cookie & CCPA preferences"})),i.react.exports.createElement(a.Menu.ActionItem,{value:nc.REPORT,key:nc.REPORT},s.formatMessage({id:"ivV9/Z",defaultMessage:"Report an issue"})))))))}));rc.displayName="HelpMenu",rc.displayName="HelpMenu";const oc=e=>{const{activePreviewFile:a,user:n,passSessionId:r,previewSurface:o,showAuthModal:s,enablePass:l,activationHubExpVariant:c}=e,d=o!==t.SDKPreviewSurface.BACKUP&&o!==t.SDKPreviewSurface.SHARED_COLLECTION&&o!==t.SDKPreviewSurface.VERSION_HISTORY,u=!n;return i.react.exports.createElement(i.react.exports.Fragment,null,u&&i.react.exports.createElement(ac,{showAuthModal:s,className:ec}),d&&i.react.exports.createElement(ic,Object.assign({className:ec},e)),l&&i.react.exports.createElement(tc,{className:ec,activePreviewFile:a,passSessionId:r,user:n}),i.react.exports.createElement("div",{style:{margin:"auto 8px"},"data-tooltip":"activation-hub-button"},i.react.exports.createElement(rc,{activationHubExpVariant:c,activePreviewFile:a,previewSurface:o})))};oc.displayName="TitleBarRightSection";const sc=({user:e,activePreviewFile:t,passSessionId:a,previewSurface:n,activationHubExpVariant:r,showAuthModal:o})=>i.React$1.useMemo((()=>i.React$1.createElement(oc,{previewSurface:n,user:e,activePreviewFile:t,passSessionId:a,showAuthModal:o,enablePass:dn({activePreviewFile:t,previewSurface:n}),activationHubExpVariant:r})),[n,e,t,a,o,r]);a.injectInternalStyle("typescript/libraries/file-viewer/src/toolbar_v2/previews_controls.module.out.css",(e=>"._separator_1oa0d_1{border-right:1px solid var(--dig-color__border__subtle);height:var(--spacing__unit--3);margin:0 var(--spacing__unit--1);width:0}._left-spacing_1oa0d_8{margin-left:var(--spacing__unit--1)}"));const lc="_separator_1oa0d_1",cc="_left-spacing_1oa0d_8",dc=()=>i.React$1.createElement("div",{className:lc}),uc=({label:e,onClick:t,icon:n})=>i.React$1.createElement(a.IconButton,{variant:"transparent","aria-label":e,onClick:t},i.React$1.createElement(a.UIIcon,{src:n}));uc.displayName="ToolbarIcon";const pc=({fileViewerId:e,previewKey:t})=>{var n,r,o;const s=a.useDispatch(),l=a.useIntl(),c=null===(n=u.useFileViewerSelector(u.getFileViewerUi,e))||void 0===n?void 0:n.isDocSidebarOpen,d=u.filterDocFilePreviewUiState(u.useParameterizedSelector(u.getFilePreviewUi,e,t)),p=null===(o=null===(r=u.filterDocPreviewRivieraData(u.usePreviewKeySelector(u.getRivieraData,t)))||void 0===r?void 0:r.metadata)||void 0===o?void 0:o.page_count,_=u.useStabilizedCallback((()=>{s(c?u.closeDocSidebar({fileViewerId:e,sourceContext:H.UserActionContext.Toolbar}):u.openDocSidebar({fileViewerId:e,sourceContext:H.UserActionContext.Toolbar}))}));if(!d)return null;const m=c?l.formatMessage({id:"ttmV3r",defaultMessage:"Hide sidebar"}):l.formatMessage({id:"NIm51y",defaultMessage:"Show sidebar"}),f=c?$e.SidebarHideLine:$e.SidebarShowLine;return i.React$1.createElement(i.React$1.Fragment,null,i.React$1.createElement(uc,{onClick:_,label:m,icon:f}),i.React$1.createElement(_c,{pageCount:p,currentPage:d.currentPageIndex}),i.React$1.createElement(dc,null))};pc.displayName="DocControls";const _c=({pageCount:e,currentPage:t})=>{const n=a.useIntl();return e?i.React$1.createElement(a.Text,{"data-testid":"page-count",className:cc},n.formatMessage({id:"t6aTtx",defaultMessage:"{currentPage, number} of {totalPages, number}"},{currentPage:t+1,totalPages:e})):null};_c.displayName="PageCountDisplay";a.injectInternalStyle("metaserver/static/js/file_viewer/sdk_file_viewer/toolbar/toolbar.module.out.css",(e=>"._lhs_zci08_1,._rhs_zci08_6{align-items:center;display:flex}"));const mc="_lhs_zci08_1",fc="_rhs_zci08_6";a.injectInternalStyle("typescript/libraries/file-viewer/src/toolbar_v2/zoom_controls.module.out.css",(e=>"._zoom-controls_hzlav_1{align-items:center;display:flex;padding-right:var(--spacing__unit--1)}._zoom-button-wrapper_hzlav_7{padding-left:var(--spacing__unit--0_5)}"));const gc="_zoom-controls_hzlav_1",vc="_zoom-button-wrapper_hzlav_7",hc=({label:e,onClick:t,icon:n,disabled:r})=>i.react.exports.createElement(a.IconButton,{variant:"transparent","aria-label":e,onClick:t,disabled:r},i.react.exports.createElement(a.UIIcon,{src:n}));hc.displayName="ToolbarIcon";const Sc=({fileViewerId:e,callbacks:t})=>{var n;const{onZoomOut:r,onZoomIn:o,onZoomToPercent:s,onFitToWidth:l}=t,c=a.useIntl(),d=u.useFileViewerSelector(u.getCurrentFilePreviewUI,e),p=u.filterZoomableFilePreviewUi(d),_=null!==(n=null==p?void 0:p.zoomScaleFactor)&&void 0!==n?n:null==p?void 0:p.fitScaleFactor,m=null==p?void 0:p.fitScaleFactor,f=c.formatMessage({id:"0ZiqhW",defaultMessage:"Zoom out"}),g=c.formatMessage({id:"yuwJIR",defaultMessage:"Zoom in"});return _&&m?i.react.exports.createElement("div",{className:gc},i.react.exports.createElement(dc,null),i.react.exports.createElement(hc,{label:f,onClick:r,icon:je.ZoomOutLine,disabled:_<=.1}),i.react.exports.createElement("div",{className:vc},i.react.exports.createElement(Ec,{scaleFactor:_,fittedScaleFactor:m,callbacks:{onZoomToPercent:s,onFitToWidth:l}})),i.react.exports.createElement(hc,{label:g,onClick:o,icon:je.ZoomInLine,disabled:_>=10})):null};Sc.displayName="ZoomControls";const Ec=({scaleFactor:e,callbacks:t})=>{const{onZoomToPercent:n,onFitToWidth:r}=t,o=a.useIntl(),s=o.formatMessage({id:"5F5cnn",defaultMessage:"Zoom percentage dropdown button"});return i.react.exports.createElement(a.Menu.Wrapper,{onSelection:n},(({getTriggerProps:t,getContentProps:n})=>i.react.exports.createElement(i.react.exports.Fragment,null,i.react.exports.createElement(a.Button,Object.assign({},t(),{variant:"transparent","aria-label":s,hasNoUnderline:!0,withDropdownIcon:!0}),o.formatNumber(e,{style:"percent",maximumFractionDigits:0})),i.react.exports.createElement(a.Menu.Content,Object.assign({},n()),i.react.exports.createElement(a.Menu.Segment,null,i.react.exports.createElement(a.Menu.ActionItem,{onClick:r},o.formatMessage({id:"WCG5C5",defaultMessage:"Fit to width"})),i.react.exports.createElement(a.Menu.ActionItem,{onClick:r},o.formatMessage({id:"nfpyB1",defaultMessage:"Fit to page"}))),i.react.exports.createElement(a.Menu.Segment,null,i.react.exports.createElement(a.Menu.ActionItem,{value:.1},o.formatNumber(.1,{style:"percent",maximumFractionDigits:0})),i.react.exports.createElement(a.Menu.ActionItem,{value:.25},o.formatNumber(.25,{style:"percent",maximumFractionDigits:0})),i.react.exports.createElement(a.Menu.ActionItem,{value:.5},o.formatNumber(.5,{style:"percent",maximumFractionDigits:0})),i.react.exports.createElement(a.Menu.ActionItem,{value:.75},o.formatNumber(.75,{style:"percent",maximumFractionDigits:0})),i.react.exports.createElement(a.Menu.ActionItem,{value:1},o.formatNumber(1,{style:"percent",maximumFractionDigits:0})))))))};Ec.displayName="ZoomButton";const wc=({fileViewerId:e,previewKey:t})=>{var n;const r=a.useDispatch(),o=a.useIntl(),s=null===(n=u.useFileViewerSelector(u.getFileViewerUi,e))||void 0===n?void 0:n.isFullScreen,l=u.useStabilizedCallback((()=>{const i={fileViewerId:e,previewKey:t,sourceContext:H.UserActionContext.Toolbar};r(s?u.exitFullScreen(i):u.enterFullScreen(i))})),c=s?o.formatMessage({id:"Md0K/4",defaultMessage:"Exit fullscreen"}):o.formatMessage({id:"p/cnyO",defaultMessage:"Fullscreen"});return i.react.exports.createElement(hc,{label:c,onClick:l,icon:s?$e.FullscreenExitLine:$e.FullscreenLine,disabled:!1})};wc.displayName="FullscreenControl";a.injectInternalStyle("typescript/libraries/file-viewer/src/toolbar_v2/action_bar.module.out.css",(e=>"._action-bar_1583k_1{flex:1 1 0;min-width:0}"));const bc=i.React$1.memo((({actions:e})=>{if(!e)return null;const t=[];return e.editActions.forEach((e=>{e.keyboardBinding&&t.push(u.getKeyboardBinding(Object.assign(Object.assign({},e.keyboardBinding),{callback:e.handler.handler})))})),e.fileActions.forEach((e=>{e.keyboardBinding&&t.push(u.getKeyboardBinding(Object.assign(Object.assign({},e.keyboardBinding),{callback:e.handler.handler})))})),i.React$1.createElement(u.KeyboardBindingConnector,{name:"action_bar",keyboardBindings:t})}));bc.displayName="ActionBarKeyboardBindings";const yc=({actions:e,fileViewerId:t})=>{const{editActions:a=[],fileActions:n=[]}=null!=e?e:{},r=u.useFileViewerSelector(u.isPluginEditMode,t),o=u.useFileViewerSelector(u.getIsPreviewLoading,t),s=r||o,l=a.length>0&&n.length>0;return i.React$1.createElement("div",{className:"_action-bar_1583k_1"},i.React$1.createElement(bc,{actions:e}),a.map(((e,t)=>i.React$1.createElement(Ic,{action:e,key:t,disabled:s}))),l&&i.React$1.createElement(dc,null),n.map(((e,t)=>i.React$1.createElement(Ic,{action:e,key:t}))))};yc.displayName="ActionBar";const Ic=({action:e,disabled:t})=>{const{label:n,handler:r,icon:o,tooltip:s}=e,l=a.useIntl(),c="string"==typeof n?n:l.formatMessage(n),d=i.React$1.createElement(a.Button,{variant:"borderless",withIconLeft:i.React$1.createElement(a.UIIcon,{src:o}),onClick:r.handler,disabled:t},c);if(!s)return d;const u=l.formatMessage(s.text),p=s.keyboardShortcut?" "+s.keyboardShortcut:"";return i.React$1.createElement(a.Tooltip,{title:u+p,shouldCloseOnClick:!0,placement:"bottom"},d)};Ic.displayName="ToolbarAction";const Tc=()=>{const e=a.useIntl(),{onFindInDoc:t}=u.usePreviewControls(),n=e.formatMessage({id:"hYpvWY",defaultMessage:"Find in document"});return t?i.react.exports.createElement(hc,{label:n,onClick:t,icon:a.SearchLine,disabled:!1}):null};Tc.displayName="FindInDocument";const Rc=new Set([F.PreviewType.Excel,F.PreviewType.HTML,F.PreviewType.Image,F.PreviewType.RawHTML,F.PreviewType.SsrDoc]),Pc=e=>{const{fileViewerId:t,previewKey:n,previewType:r,actions:o}=e,s=a.useDispatch(),l=u.useStabilizedCallback((()=>{s(u.zoomOut({fileViewerId:t,previewKey:n,sourceContext:H.UserActionContext.Toolbar}))})),c=u.useStabilizedCallback((()=>{s(u.zoomIn({fileViewerId:t,previewKey:n,sourceContext:H.UserActionContext.Toolbar}))})),d=u.useStabilizedCallback((e=>{})),p=u.useStabilizedCallback((()=>{}));return i.React$1.createElement(ze.ToolbarHolder,{"data-testid":"redesign-toolbar"},i.React$1.createElement("div",{className:mc},i.React$1.createElement(pc,{fileViewerId:t,previewKey:n})),i.React$1.createElement(yc,{actions:o,fileViewerId:t}),i.React$1.createElement("div",{className:fc},i.React$1.createElement(Tc,null),i.React$1.createElement(Sc,{fileViewerId:t,callbacks:{onZoomOut:l,onZoomIn:c,onZoomToPercent:d,onFitToWidth:p}}),(e=>Rc.has(e))(r)&&i.React$1.createElement(wc,{fileViewerId:t,previewKey:n})))};Pc.displayName="Toolbar";const Ac=(e,t)=>()=>s.__awaiter(void 0,void 0,void 0,(function*(){Oc(e.setActiveEditPlugin,t===fe.RotationDirection.LEFT?"rotateLeft":"rotateRight")})),xc=e=>()=>s.__awaiter(void 0,void 0,void 0,(function*(){Oc(e.setActiveEditPlugin,"crop")})),Cc=e=>()=>s.__awaiter(void 0,void 0,void 0,(function*(){Oc(e.setActiveEditPlugin,"flip")})),Mc=e=>()=>s.__awaiter(void 0,void 0,void 0,(function*(){Oc(e.setActiveEditPlugin,"adjust")})),Oc=(e,t)=>{e(rr,H.UserActionContext.TitleBarMain,{initialAction:t})},Nc=({user:e,sharePermission:t,previewType:i,featureConfig:a})=>!(t&&!Pa(t))&&(!!e&&(null==a?void 0:a.enable_video_editing)&&i===F.PreviewType.Video),Dc=e=>({type:"click",handler:e}),kc=(e,t,i,a)=>(null==i?void 0:i.previewType)===F.PreviewType.Image&&Q.showEditPlugin(e,t)?[{icon:We.ShapeRotateLeftLine,label:ze.actionBarStrings.rotateLeftButtonText,handler:Dc(Ac(a,fe.RotationDirection.LEFT)),tooltip:{text:ze.actionBarStrings.rotateLeftButtonText,keyboardShortcut:ze.actionBarStrings.rotateLeftButtonKeyboardShortcut},keyboardBinding:{key:"l"}},{icon:We.ShapeRotateRightLine,label:ze.actionBarStrings.rotateRightButtonText,handler:Dc(Ac(a,fe.RotationDirection.RIGHT)),tooltip:{text:ze.actionBarStrings.rotateRightButtonText,keyboardShortcut:ze.actionBarStrings.rotateRightButtonKeyboardShortcut},keyboardBinding:{key:"r"}},{icon:We.FlipHorizontalLine,label:ze.actionBarStrings.flipButtonText,handler:Dc(Cc(a)),tooltip:{text:ze.actionBarStrings.flipButtonText}},{icon:He.CropLine,label:ze.actionBarStrings.cropButtonText,handler:Dc(xc(a)),tooltip:{text:ze.actionBarStrings.cropButtonText,keyboardShortcut:ze.actionBarStrings.cropButtonKeyboardShortcut},keyboardBinding:{key:"c"}},{icon:qe.SliderLine,label:ze.actionBarStrings.adjustButtonText,handler:Dc(Mc(a)),tooltip:{text:ze.actionBarStrings.adjustButtonText,keyboardShortcut:ze.actionBarStrings.adjustKeyboardShortcut},keyboardBinding:{key:"a"}}]:[],Fc=(e,t,i,n,r,o)=>{if(!Nc({user:e,previewType:null==i?void 0:i.previewType,sharePermission:n,featureConfig:o}))return[];const l=Dc((()=>s.__awaiter(void 0,void 0,void 0,(function*(){return r.openVideoEditor()}))));return[{label:a.defineMessage({id:"Am3Pbg",defaultMessage:"Rotate right"}),icon:We.ShapeRotateRightLine,handler:l},{label:a.defineMessage({id:"lq4SA/",defaultMessage:"Rotate left"}),icon:We.ShapeRotateLeftLine,handler:l},{label:a.defineMessage({id:"43TbNl",defaultMessage:"Flip horizontal"}),icon:We.FlipHorizontalLine,handler:l},{label:a.defineMessage({id:"4CvpmL",defaultMessage:"Flip vertical"}),icon:Ge.FlipVerticalLine,handler:l},{label:a.defineMessage({id:"BYIe79",defaultMessage:"Crop"}),icon:He.CropLine,handler:l},{label:a.defineMessage({id:"HNcyku",defaultMessage:"Trim"}),icon:Ke.CutLine,handler:l}]},Lc=new Set([F.PreviewType.SsrDoc,F.PreviewType.Image]),Uc=e=>{const{user:t,file:a,sharePermission:n}=e,{fileViewerId:r}=u.useFileViewerContext(),o=u.useFileViewerSelector(u.getCurrentPreviewKey,r),s=u.usePreviewKeySelector(u.getPreviewType,o),l=((e,t,a)=>{const{pluginNavigation:n,fileViewerId:r,featureConfig:o}=u.useFileViewerContext(),s=u.useFileViewerSelector(u.getCurrentPreviewData,r),l=i.React$1.useMemo((()=>[...kc(t,a,s,n),...Fc(e,0,s,a,n,o)]),[t,a,n,s,o,e]),c=i.React$1.useMemo((()=>[]),[]);return i.React$1.useMemo((()=>l.length||c.length?{editActions:l,fileActions:c}:void 0),[l,c])})(t,a,n);return(Lc.has(s)||l)&&o?i.React$1.createElement(Pc,Object.assign({fileViewerId:r,previewKey:o,previewType:s,actions:l},e)):null};Uc.displayName="ToolbarWrapper";const Vc=i.React$1.lazy((()=>new Promise((function(t,i){e(["./c_titlebar_v2_title_bar"],t,i)})).then((function(e){return e.title_bar_esnext})).then((({TitleBar:e})=>({default:e}))))),Bc=(e,t)=>i.React$1.useMemo((()=>a=>{const n=t?i.React$1.createElement(i.React$1.Suspense,{fallback:null},i.React$1.createElement(Vc,Object.assign({},a))):i.React$1.createElement($s,Object.assign({},a));return i.React$1.createElement(Ds,{value:e},n)}),[t,e]),$c=i.React$1.lazy((()=>new Promise((function(t,i){e(["./c_sdk_file_viewer_sidebar"],t,i)})).then((({SidebarContent:e})=>({default:e}))))),jc=e=>i.React$1.useMemo((()=>e?e=>i.React$1.createElement(i.React$1.Suspense,{fallback:null},i.React$1.createElement($c,Object.assign({},e))):void 0),[e]),zc=(e,t,a,n)=>i.React$1.useMemo((()=>e?()=>i.React$1.createElement(Uc,{file:t,sharePermission:a,user:n}):void 0),[e,t,a,n]),Hc=e=>{const t=ei(),a=(({previewSurface:e,passSessionId:t,pluginArgs:a,fileConfig:n})=>i.React$1.useMemo((()=>({previewSurface:e,passSessionId:t,pluginArgs:a,fileConfig:n})),[e,t,a,n]))(e),n=k.isRedesign2023Enabled(t);return{titlebar:{component:Bc(a,n),rightSection:!n&&i.React$1.createElement(sc,Object.assign({},e))},sidebarContent:{component:jc(n)},toolbar:zc(n,e.activePreviewFile.file,e.activePreviewFile.sharePermission,e.user)}};function Kc(e,t,n){const r=a.useDispatch(),o=a.useSelector(eo),s=a.useSelector(to),l=a.useSelector(io);return i.react.exports.useEffect((()=>{const i=t.file_id;var a;o!==i&&(r((a={fileId:i},e=>{e({type:oe.Actions.InitFetchCaptureFileVoiceover,payload:a})})),Je.fetchCaptureFileAssociation(e,t).then((e=>{"string"!=typeof e&&void 0!==e?r(ao(e)):"unauthorized"===e&&n("capture_voice_over_playback_no_access","file_preview_voice_over_playback")})))}),[t,e,r,o]),t.file_id===o?{fileId:o,shortLabel:s,isOpen:l}:{}}const Wc=i.React$1.lazy((()=>s.__awaiter(void 0,void 0,void 0,(function*(){const{RecordedVideoPlayback:t}=yield new Promise((function(t,i){e(["./c_action_plugins_voice_over_plugin_video_playback"],t,i)}));return{default:t}})))),Gc=e=>i.React$1.createElement(i.React$1.Suspense,{fallback:null},i.React$1.createElement(Wc,Object.assign({},e))),qc=Ye.withReduxStore(oe.getStoreForFileViewer())((e=>{const{user:t,file:a}=e,{pluginContext:{logUserAction:n}}=u.useFileViewerContext(),{shortLabel:r,isOpen:o}=Kc(t,a,n);return o&&r?i.React$1.createElement(Gc,Object.assign({},e,{logUserAction:n,shortLabel:r})):null})),Yc=(e,t)=>{if("ON"!==L.fileViewerFeatureExperiments.captureSdkIntegrationVoiceOversViewButton)return null;const a=L.fileViewerFeatureExperiments.captureSdkIntegrationVoiceOversVariant;return i.React$1.createElement(qc,{file:e,user:t,experimentVariant:a})};const Jc=i.react.exports.lazy((()=>s.__awaiter(void 0,void 0,void 0,(function*(){const{PreviewsActivationHub:t}=yield new Promise((function(t,i){e(["./c_activation_hub_previews_hub"],t,i)}));return{default:t}})))),Qc=e=>i.react.exports.createElement(i.react.exports.Suspense,{fallback:null},i.react.exports.createElement(Jc,Object.assign({},e)));Qc.displayName="AsyncPreviewsActivationHub";const Xc=({featureConfig:e,file:t,previewSurface:n})=>{const o=xi(null==e?void 0:e.previews_activation_hub,null==e?void 0:e.previews_disable_campaigns_toolkit);i.react.exports.useEffect((()=>{["CONTROL","V1"].includes(o)&&a.logEvent({class:"activation",action:"exposure",object:"core_attach_activation_hub_m1",properties:{experimentVariant:o}})}),[o]);return Ci({experimentVariant:o,expectedVariant:"V1",file:t,previewSurface:n})?i.react.exports.createElement(Qc,{experimentVariant:o,fileExtension:r.getExtension(t)}):null};Xc.displayName="ActivationHub";const Zc=(e,i,o,l,p,_,m,f,g,v,h,E,w,b,y,I,T,P,A,x,C=!1,M=!1,O=!1,N=!0,D=!1,V,B,$,j,z,H,W)=>{var G,q;const Y=f?()=>{f(),nn(i().file)?a.UserSurvey.trackEvent("audio_preview_viewed","previews"):rn(i().file)&&a.UserSurvey.trackEvent("video_preview_viewed","previews")}:void 0;let J={};const Q=h?new a.DefaultUserApiV2Client(h):new n.NoAuthApiV2Client,X=((e,t,i,a,n,r,o)=>{const s=!!o&&(Jt.includes(e)||Qt.includes(e)),l=ei();return Object.assign(Object.assign({},l),{excel_support:{support:"excel1",embed_support:"unsupported"},annotations:Jt.includes(e),file_flipping:t,mobile_web:U.is_supported_mobile_browser(),preview_content_only:i,transparent_background:a,force_no_toolbar:n||k.isRedesign2023Enabled(l),show_cloud_doc_preview:r,enable_video_editing:s&&"ON"===L.fileViewerFeatureExperiments.fvsdkVideoEditing,enable_multi_video_editor:s&&"NLE"===L.fileViewerFeatureExperiments.fvsdkVideoEditing})})(e,D,C,M,O,N,h),ee=ar(h);U.is_supported_mobile_browser()||a.UserSurvey.trackEvent("preview_viewed","previews");const te=i().file;r.isSharedFile(te)&&setTimeout((()=>{Z.trackReceiverUserLeapEvent(Z.ReceiverUserLeapEvent.VIEWED_SHARED_FILE)}),5e3);const ie=(e,t)=>({width:u.calcContentWidth(window.innerWidth,e,t,U.is_supported_mobile_browser()),height:u.calcContentHeight(window.innerHeight,X.show_titlebar||!0)});let ae;const ne=pe.makeFlowsClient(Q);switch(e){case t.SDKPreviewSurface.BROWSE:case t.SDKPreviewSurface.HOME:case t.SDKPreviewSurface.HELLOSIGN:case t.SDKPreviewSurface.SEARCH:case t.SDKPreviewSurface.RECENTS:case t.SDKPreviewSurface.STARRED:case t.SDKPreviewSurface.STANDALONE_PREVIEW:case t.SDKPreviewSurface.PHOTOS:case t.SDKPreviewSurface.VIDEO_SYNTHESIS:case t.SDKPreviewSurface.COLLECTIONS:case t.SDKPreviewSurface.FILE_LOCKING:case t.SDKPreviewSurface.BACKUP:case t.SDKPreviewSurface.VIDEO_HOME:if(!h)throw new Error("Must be logged in to browse");ae=_a(h,i,e,$,xi(X.previews_activation_hub,X.previews_disable_campaigns_toolkit)),J={presenceBeaconIOClient:cn(h,i),fileSystemClient:Fa(h,i,{allowCopyToDropbox:!1,shareToken:l,encryptionOptions:x,authModalKind:B}),fullScreenClient:Ha(I),printClient:Ka(),navigationClient:qa(h,i,Y,w,b,y,P),fileActionsClient:ae,urlClient:un(h),preferencesClient:ee,flowsClient:ne};break;case t.SDKPreviewSurface.VERSION_HISTORY:if(!h)throw Error("user required for version history");J={presenceBeaconIOClient:cn(h,i),fileSystemClient:void 0,fullScreenClient:Ha(I),printClient:Ka(),navigationClient:Ya(0,0,Y,w,b,y),urlClient:un(h),preferencesClient:ee};break;case t.SDKPreviewSurface.SHARED_LINK:J={fullScreenClient:Ha(I),printClient:Ka(),navigationClient:Ga(Y,w,b,y,o),urlClient:un(h),fileSystemClient:Fa(h,i,{allowCopyToDropbox:!0,shareToken:l,encryptionOptions:x,sharePermission:m,authModalKind:B}),presenceBeaconIOClient:cn(h,i),preferencesClient:ee,flowsClient:ne};break;case t.SDKPreviewSurface.SHARED_LINK_EMBED:case t.SDKPreviewSurface.COMMERCE:case t.SDKPreviewSurface.TRANSFER:J={fullScreenClient:Ha(I),printClient:Ka(),urlClient:un(h),fileSystemClient:Fa(h,i,{allowCopyToDropbox:!0,shareToken:l,encryptionOptions:x,sharePermission:m,authModalKind:B})};break;case t.SDKPreviewSurface.CLIENT_PORTAL:J={fullScreenClient:Ha(I),printClient:Ka(),urlClient:un(h),fileSystemClient:Fa(h,i,{allowCopyToDropbox:!0,shareToken:l,encryptionOptions:x,sharePermission:m,authModalKind:B}),navigationClient:Ja(f)};break;case t.SDKPreviewSurface.SHARED_COLLECTION:J={fullScreenClient:Ha(I),printClient:Ka(),urlClient:un(h),fileSystemClient:Fa(h,i,{allowCopyToDropbox:!0,shareToken:l,encryptionOptions:x,sharePermission:m,authModalKind:B}),navigationClient:Ja(f,w,b),preferencesClient:{rightRail:{setCollapsedState:()=>{},getCollapsedState:()=>!0,setBladeState:()=>{},getBladeState:()=>{}}}};break;case t.SDKPreviewSurface.SHARED_CONTENT_LINK:case t.SDKPreviewSurface.INBAND_SHARE:J={presenceBeaconIOClient:cn(h,i),fileSystemClient:Fa(h,i,{allowCopyToDropbox:!0,shareToken:l,encryptionOptions:x,sharePermission:m,authModalKind:B}),fullScreenClient:Ha(I),printClient:Ka(),navigationClient:Ga(Y,w,b,y),urlClient:un(h),preferencesClient:ee,flowsClient:ne}}const re=te.preview?u.resolvePreviewType(te.preview):void 0;if(te.preview&&re&&re===F.PreviewType.Image)if(X.img_size_optimization){const e=ie(!(null===(G=ee.rightRail)||void 0===G?void 0:G.getCollapsedState())||!1,!1);u.maybePreloadFile(te.preview,e)}else u.maybePreloadFile(te.preview);const oe={logTTI:()=>(e=>{const t=a.get_timer(e);t.markTimeToInteractive(),e&&t.end()})(z),log:zn(e,i),logDuration:Hn,logVideoEvent:(t,n)=>{var o,l;const d=i().file;switch(qn(d,e,t,n),rn(d)?((e,t)=>{s.__awaiter(void 0,void 0,void 0,(function*(){const{previewSurface:i,previewType:n,file:o}=t,s=o?r.getExtension(o):void 0,l=e=>{a.logEvent({class:"previews_video",action:"play",object:"video",properties:{eventState:e,actionScreen:i,fileType:c.getPapFileType(s),fileSize:null==o?void 0:o.bytes,previewType:n?c.getPapPreviewType(n):void 0}})};switch(e){case K.VideoPreviewEvent.VideoStartsPlaying:l("success");break;case K.VideoPreviewEvent.MediaError:l("failed")}}))})(t,{previewSurface:e,file:d}):nn(d)&&((e,t)=>{s.__awaiter(void 0,void 0,void 0,(function*(){const{previewSurface:i,previewType:n,file:o}=t,s=o?r.getExtension(o):void 0,l=e=>{a.logEvent({class:"previews_audio",action:"play",object:"audio",properties:{eventState:e,actionScreen:i,fileType:c.getPapFileType(s),fileSize:null==o?void 0:o.bytes,previewType:n?c.getPapPreviewType(n):void 0}})};switch(e){case K.VideoPreviewEvent.VideoStartsPlaying:l("success");break;case K.VideoPreviewEvent.MediaError:l("failed")}}))})(t,{previewSurface:e,file:d}),t){case K.VideoPreviewEvent.TimeToLoad:nn(d)?(n.video_duration_seconds&&a.UserSurvey.addAttribute("audioPreviewLength",tn(n.video_duration_seconds)),a.UserSurvey.addAttribute("audioPreviewType",r.getExtension(d)),a.UserSurvey.addAttribute("isAudioPreviewFinished","false")):(n.video_duration_seconds&&a.UserSurvey.addAttribute("videoPreviewLength",tn(n.video_duration_seconds)),a.UserSurvey.addAttribute("videoPreviewType",r.getExtension(d)),a.UserSurvey.addAttribute("isVideoPreviewFinished","false"),a.UserSurvey.addAttribute("videoPreviewResolution","auto"));break;case K.VideoPreviewEvent.ChangeVideoQuality:(null===(o=n.extra)||void 0===o?void 0:o.new_video_quality)&&a.UserSurvey.addAttribute("videoPreviewResolution",n.extra.new_video_quality);break;case K.VideoPreviewEvent.MediaEnded:nn(d)?(a.UserSurvey.addAttribute("isAudioPreviewFinished","true"),a.UserSurvey.trackEvent("audio_preview_viewed","previews")):(a.UserSurvey.addAttribute("isVideoPreviewFinished","true"),a.UserSurvey.trackEvent("video_preview_viewed","previews"));break;case K.VideoPreviewEvent.VideoPlaybackSmoothness:(null===(l=n.extra)||void 0===l?void 0:l.num_stalls_per_second_playback)&&a.UserSurvey.addAttribute("videoPreviewNumberOfStallsPerSecondPlayback",n.extra.num_stalls_per_second_playback)}},logVideoEventQuantity:Gn,logVideoEventDuration:Yn},se={batteries:{intl:d.intl,coreIOClients:{apiv2ClientBase:Q},logger:oe,optionalIOClients:Object.assign(Object.assign({},J),{showAuthModal:o,cloudDocsClient:h?bn(h,i,l):void 0,reportExceptionClient:{reportException:(e,t,i)=>S.reportException({err:e,severity:i?"critical":"non-critical",tags:["file-viewer",t],force:!0})}})},callbacks:{onRenderSucceeded:()=>{var n;const o=i().file,s=r.isBrowseFile(o)?a.file_extension(o.fq_path):a.file_extension(o.filename);if(X.previews_disable_campaigns_toolkit||a.emitPageLoaded("preview_page",{file_extension:s,file_name:r.getFilename(o),file_path:r.isSharedFile(o)?o.href:o.fq_path,file_id:o.file_id,googleOneTapVariant:X.google_one_tap_variant}),E)if(X.img_size_optimization){const e=ie(!(null===(n=ee.rightRail)||void 0===n?void 0:n.getCollapsedState())||!1,!1);u.maybePreloadFiles(E,_,e)}else u.maybePreloadFiles(E,_);U.is_supported_mobile_browser()&&(a.UserSurvey.trackEvent("mobile_web_preview_viewed","previews"),e===t.SDKPreviewSurface.SHARED_LINK&&a.UserSurvey.trackEvent("mobile_web_receiver_preview_viewed","previews"))},onPreviewSessionInitialized:e=>{T&&T(e)}},initData:{accountId:h?h.account_id:void 0,deviceType:R.getDeviceType()},featureConfig:X,platformConfig:{osModifierKey:U.mac?"metaKey":"ctrlKey"},fileViewerId:j},le={authModalKind:B,browseContext:g,browseExceptions:v,canRestoreRevision:V,encryptionOptions:x,featureConfig:X,fileActionsClient:ae,getActiveFile:i,previewContentOnly:C,isSendForSignatureEnabled:H,logger:oe,onFileChanged:$,onRestoreRevision:y,openVersionHistory:null===(q=J.navigationClient)||void 0===q?void 0:q.openVersionHistory,setIsPdfEditorActive:p,sharePermission:m,shareToken:l,user:h};return Object.assign(Object.assign({},se),{pluginLoaders:[...xs(e,le),Cs(e,le)],pluginArgs:le})},ed=(e,t,i,n,o,s,l,c,d,p,_,m,f,g,v)=>{const h=function(){const e=/comment_id=(.*)/.exec(a.get_uri().getFragment());return e?e[1]:void 0}(),S=(()=>{const e=$.DBHistory.get_uri().getQuery(),t=e=>{if(e){const t=parseFloat(e);if(!isNaN(t)&&isFinite(t)&&t>=0)return t}},i=t(e.t),a=t(e.e);if(void 0!==i)return{start:i,end:a}})();let E;return(v||"1"===$.DBHistory.get_uri().getQuery().edit||"#edit"===window.location.hash)&&(Q.showEditPlugin(e,d)?E=rr:nr(e,d)?E=u.PDF_EDITOR_PLUGIN_ID:ln(e,d)&&(E=Vt)),{fileInfo:{file_id:e.file_id,sj_id:e.sjid,ns_id:e.ns_id,url:null==c?void 0:c.url},fileMetadata:{file_id:e.file_id,file_name:r.getFilename(e),file_path:r.isBrowseFile(e)?e.fq_path:void 0,file_last_modified_date:e.ts?new Date(1e3*e.ts).toISOString():void 0,file_collection_context:{file_index:i,parent_files_count:n}},previewMetadata:e.preview,fileConfig:t,fileSize:e.bytes,supportedPreviewTypes:[...u.DEFAULT_SUPPORTED_PREVIEW_TYPES,...Qa],sharedLinkInfo:c&&Object.assign(Object.assign({},c),{hasPublicAudienceOrVisibility:!!c.hasPublicAudienceOrVisibility}),sourceSession:{source_action:s,source_context:o,page_start_ts:performance.timing.navigationStart,was_flipped:l},pluginParams:{shouldFocusApproval:p,shouldFocusComment:_,threadId:m,commentId:h,editActivationParams:v,activeEditPlugin:E},defaultRightRailPlugin:p||_||m||h?u.COMMENTS_PLUGIN_ID:u.INFO_BLADE_PLUGIN_ID,brandingInfo:f,timeRange:S,isLoggedIn:!!g}},td=(e,t,i,n,r)=>{const o=[];if(e){const{canCopyToDropboxRoles:s}=e;if(s.length>0){const s=function({canCopyToDropboxRoles:e},t,i,n,r,o,s,l,c,d,u,p,_,m,f){const g=a.Viewer.get_viewer(),v=c?c.role:"anonymous",h=-1===e.indexOf(v);return Ta.buildToDropboxOption(t,i,g,c,v,h,n,d,r,o,p,s,l,u,_,m,f)}(e,t,i,n,void 0,void 0,void 0,void 0,r);o.push({text:s.text,isDisabled:s.isDisabled,role:s.role})}}return o},id=e=>{var n;const{file:s,sharedLinkInfo:l,sharePermission:c,shareToken:d,brandingInfo:p,user:_,previewSurface:m,encryptionOptions:f,closeFile:g,flipToNextFile:v,flipToPreviousFile:h,previewCollection:S,updateFiles:E,fileIndex:w=0,fileCount:b=1,passSessionId:y,previewContentOnly:I=!1,transparentBackground:R=!1,forceNoToolbar:P=!1,showCloudDocPreview:A=!0,onPreviewSessionInitialized:x,onRestoreRevision:C,onFullscreenChange:M,canRestoreRevision:O,canShowFileFlippers:N,authModalKind:D,containerId:k,onFileChanged:F,fileViewerId:L,sourceContext:U,ajaxTimerName:V,implicitTOSVariant:B,editActivationParams:$}=e,j=(({file:e,initialSourceAction:t})=>{const a=i.React$1.useRef(t===T.PreviewSourceAction.Visit?H.SourceAction.Visit:H.SourceAction.Click),n=i.React$1.useRef();return i.React$1.useEffect((()=>{n.current=e}),[e]),void 0!==n.current&&e!==n.current&&(a.current=H.SourceAction.Click),a.current})(e),z=a.useDispatch(),K=a.useSelector(Zr),W={file:s,sharedLinkInfo:l,sharePermission:c,shareToken:d,encryptionOptions:f},G=i.React$1.useRef(W),q=i.React$1.createRef(),Y=i.React$1.useCallback((()=>G.current),[]),J=a.useSelector((e=>o.getOpenActionsForFile(e,s)),a.shallowEqual),Q=i.React$1.useMemo((()=>o.partitionActions(J).cloudEditors),[J]),Z=i.React$1.useMemo((()=>k&&document.getElementById(k)||void 0),[k]),ee=a.useSelector((e=>!!_&&ce.isSendForSignatureEnabled(e))),[te,ie]=i.React$1.useState(!1),{browseContext:ae,browseExceptions:ne,shouldFocusApproval:re,shouldFocusComment:se}=(e=>e.previewSurface===t.SDKPreviewSurface.BROWSE?{browseContext:e.browseContext,browseExceptions:e.browseExceptions,shouldFocusApproval:e.shouldFocusApproval,shouldFocusComment:e.shouldFocusComment}:{})(e),le=e=>ni(Object.assign(Object.assign({},e),{encryptionOptions:f,implicitTOSVariant:B,loggingExtra:Object.assign({source:"file_preview_unlabeled_event"},e.loggingExtra)})),de=i.React$1.useMemo((()=>Zc(m,Y,le,d,ie,w,c,g,ae,ne,_,S,v,h,C,M,x,E,0,f,I,R,P,A,N,O,D,F,L,V,ee,(e=>{(e.previewSurface===t.SDKPreviewSurface.SHARED_LINK||e.previewSurface===t.SDKPreviewSurface.SHARED_CONTENT_LINK)&&e.outOfQuota})(e))),[_,m]),ue=i.React$1.useRef(null),pe=i.React$1.useMemo((()=>{var i;const a=null===(i=G.current)||void 0===i?void 0:i.file,n=a&&r.isBrowseFile(a)&&r.isBrowseFile(s)&&a.file_id===s.file_id&&a.fq_path===s.fq_path&&(u=a.href,g=s.href,u===g||on(u)===on(g));var u,g;if(ue.current&&(te||n))return ue.current;G.current={file:s,sharedLinkInfo:l,sharePermission:c,shareToken:d,encryptionOptions:f};const v=((e,i,a,n,s,l,c,d,u,p)=>{const _=a.map((e=>({displayName:e.description,editorName:"cloud_editor"===e.handler[".tag"]?o.cloudEditorNameToParams(e.handler.editor_name):"",iconUrl:e.icon.url})));if(r.isSharedFile(i))return{cloud_open_with_buttons:_,download_button:{enable_download_button:!n,enable_open_with_button:!n,can_download:!!s&&Pa(s),copy_targets:td(s,l,i,c,p)},enable_print:Wa(s),enable_open_button:!1,enable_restore_button:u,enable_view_on_dropbox_button:!1,canEdit:!1};{const a=!!d&&!d.isCurrentPathWriteable(),r=!(i.read_only||a||e===t.SDKPreviewSurface.VIDEO_SYNTHESIS);return{cloud_open_with_buttons:_,download_button:{enable_download_button:!n,enable_open_with_button:!n,can_download:!0,copy_targets:[]},enable_print:e!==t.SDKPreviewSurface.COMMERCE,enable_open_button:e!==t.SDKPreviewSurface.VERSION_HISTORY,enable_restore_button:u,enable_view_on_dropbox_button:!1,canEdit:r}}})(m,s,Q,I,c,d,f,ae,!!O,_);return ed(s,v,w,b,U,j,!1,l,c,re,se,(e=>"activeCommentThreadId"in e&&e.activeCommentThreadId?e.activeCommentThreadId:void 0)(e),p,_,$)}),[s]);ue.current=pe,i.React$1.useEffect((()=>{if(m!==t.SDKPreviewSurface.VERSION_HISTORY)return Array.from(document.querySelectorAll(sr)).forEach((e=>{e.style.display&&e.setAttribute(lr,e.style.display),e.style.display="none"})),cr}),[]),i.React$1.useEffect((()=>{const e=document.title;return()=>{document.title=e}}),[]);const _e=r.getFilename(s);i.React$1.useEffect((()=>{document.title=_e}),[_e]),i.React$1.useEffect((()=>{const e=a.Snackbar.manager;a.Snackbar.manager=q.current;const t=X.key.getScope();return X.key.setScope("fvsdk_scope"),a.scroll_lock_document(),()=>{a.scroll_unlock_document(),X.key.setScope(t),a.Snackbar.manager=e}}),[]),i.React$1.useEffect((()=>(a.emitPreviewPageLoadChangeEvent(a.PreviewPageLoadEventType.Mount),()=>{a.emitPageChanged(),a.emitPreviewPageLoadChangeEvent(a.PreviewPageLoadEventType.Unmount),a.emitRequestBrowseRefreshEvent()})),[]),i.React$1.useEffect((()=>{a.emitPageChanged()}),[pe]);const me=i.React$1.useCallback((()=>{u.setHubEntryPoint(u.HubEntryPointType.Search)}),[]);Os(me,3e4);const fe=i.React$1.useRef(null),ge=i.React$1.useCallback((e=>{fe.current=e;const t=["dragenter","dragover","dragleave","drop"],i=e=>{e.stopPropagation(),e.preventDefault()};for(const a of t)null==e||e.addEventListener(a,i)}),[]),ve=i.React$1.useMemo((()=>({onHide:e})=>i.React$1.createElement(wr,{activePreviewFile:W,user:_,onHide:e})),[s,_]),he=m===t.SDKPreviewSurface.SHARED_LINK||m===t.SDKPreviewSurface.SHARED_CONTENT_LINK||m===t.SDKPreviewSurface.SHARED_COLLECTION,Se=i.React$1.useMemo((()=>i.React$1.createElement(Mr,{user:_,isSharedLink:he,activePreviewFile:W,authModalKind:D})),[_,W]),Ee=i.React$1.useMemo((()=>i.React$1.createElement(Nr,{user:_,isSharedLink:he,activePreviewFile:W,authModalKind:D,browseContext:ae,onFileChanged:F})),[_,W]),we=i.React$1.useMemo((()=>{if(_)return e=>i.React$1.createElement(kr,Object.assign({user:_,apiv2ClientBase:de.batteries.coreIOClients.apiv2ClientBase},e))}),[_]),be=de.featureConfig,ye=xi(null==be?void 0:be.previews_activation_hub,null==be?void 0:be.previews_disable_campaigns_toolkit),Ie=i.React$1.useMemo((()=>Object.assign(Object.assign({},u.DEFAULT_FILE_CONFIG),pe.fileConfig)),[pe.fileConfig]),{titlebar:Te,sidebarContent:Re,toolbar:Pe}=Hc({user:_,previewSurface:m,passSessionId:y,pluginArgs:de.pluginArgs,activePreviewFile:W,showAuthModal:le,activationHubExpVariant:ye,fileConfig:Ie}),Ae=i.React$1.createElement(Xc,{featureConfig:be,file:s,previewSurface:m});return i.React$1.createElement("div",{ref:ge,id:"fvsdk_container",className:a.classnames("_fvsdk-container_amzuv_5",{"_fvsdk-embed-viewport_amzuv_16":!!Z})},i.React$1.createElement(a.SnackbarManager,{ref:q,getParentElement:()=>fe.current}),i.React$1.createElement(u.FileViewer,Object.assign({},de,{id:"fvsdk-mount-point",viewport:Z,initializeOpts:pe,components:{header:ve,mobileFooter:Se,mobileHeader:Ee,titlebar:Te,sidebarContent:Re,fileSaver:we,activationHub:Ae,previewOverlay:_&&Yc(s,_),toolbar:Pe,banner:!r.isSharedFile(s)&&_&&i.React$1.createElement(Rr,{file:s,user:_,featureConfig:be})}})),i.React$1.createElement(dr,{file:s,user:_}),_&&(null===(n=de.featureConfig)||void 0===n?void 0:n.capture_sdk_integration_voice_overs)&&i.React$1.createElement(Qr,{fileId:s.file_id,logEvent:hr,triggerResetHandler:()=>{z((e=>{e({type:oe.Actions.ResetVoiceoverTrigger})}))},updateViewButtonHandler:(e,t)=>{z(ao({fileId:e,shortLabel:t,override:!0}))},user:_,voiceoverState:K}))};id.displayName="_FileViewer",id.displayName="_FileViewer";const ad=e=>{const t=i.React$1.useMemo((()=>a.UUID.v4({allowInsecure:!0})),[]),n=i.React$1.useMemo((()=>a.UUID.v4({allowInsecure:!0})),[]),[r,o]=i.React$1.useState(!1),s=i.React$1.useCallback((e=>{hr(e,"file_viewer")}),[]),l=i.React$1.useCallback((()=>{o(!0)}),[o]);return"open_in_app_data"in e.file&&e.file.open_in_app_data&&!r&&!e.hideOpenInAppInterstitial?i.React$1.createElement(Er,{file:e.file,filePreviewSessionId:t,fileViewerSessionId:n,onDismiss:l,openInAppData:e.file.open_in_app_data,sharedLinkInfo:e.sharedLinkInfo,fileViewOrigin:e.fileViewOrigin,logUserAction:s}):i.React$1.createElement(id,Object.assign({},e,{fileViewerId:n}))};ad.displayName="FileViewerWithInterstitial";const nd=oe.getStoreForFileViewer(),rd=e=>(se.PreviewsEventLogger.mark(se.PreviewsTimingEvents.SDK_FILE_VIEWER_CODE_START),i.React$1.createElement(a.Provider,{store:nd},i.React$1.createElement(ad,Object.assign({},e))));rd.displayName="FileViewerWithProvider",rd.displayName="FileViewerWithProvider";const od=a.requireCssWithComponent(rd,["/static/typescript/libraries/file-viewer/src/index.web-vflyf4X_E.css","/static/typescript/libraries/comments2/src/index-vfljiK9YC.css","/static/metaserver/static/css/dig-components/index.web-vflvPodS4.css","/static/typescript/component_libraries/dig-experimental/src/index.web-vfl_m6TBk.css","/static/metaserver/static/css/dig-illustrations/index.web-vflzrHQEU.css","/static/metaserver/static/css/spectrum/index.web-vflJy4G-t.css","/static/metaserver/static/css/font_paper_atlas_grotesk-vflDoDLsu.css"]);od.displayName="FileViewer",t.ADD_TO_COLLECTION_ACTION_PLUGIN_ID=Rt,t.AI_PLUGIN_ID=Rs,t.ASSIGNED_TASKS_BLADE_PLUGIN_ID=oo,t.AUTO_SCROLL_PAUSE_THRESHOLD=1e4,t.AndroidOpenInAppUrls=tt,t.CONVERSION_ACTION_PLUGIN_ID=$t,t.COPIED_BUTTON_DISPLAY_THRESHOLD=3e3,t.CloseButton=Ls,t.DEFAULT_VIRTUAL_LIST_HEIGHT=1e3,t.DOCSEND_ANALYTICS_ADD_ON_ACTION_PLUGIN_ID=At,t.DOWNLOAD_ACTION_PLUGIN_ID=vt,t.ESTIMATE_SEGMENT_ITEM_HEIGHT=132,t.FileViewerWithCSS=od,t.GO_TO_FOLDER_PLUGIN_ID=Ft,t.IOSOpenInAppUrls=et,t.Logo=Fs,t.MAX_VIDEO_LENGTH_S=6300,t.MAX_VIDEO_SIZE_GB=10,t.MULTI_VIDEO_EDITOR_PLUGIN=Bt,t.OPEN_DROPDOWN_ACTION_PLUGIN_ID=Et,t.OPEN_IN_DESKTOP_ACTION_PLUGIN_ID=yt,t.OPEN_IN_REPLAY_ACTION_PLUGIN_ID=Dt,t.PAP_NavigateTo_Edit=An,t.PHOTO_EDITOR_PLUGIN_ID=rr,t.PUBLISH_ACTION_PLUGIN_ID=kt,t.PassUi=tc,t.REQUEST_APPROVAL_ACTION_PLUGIN_ID=It,t.RESTORE_ACTION_PLUGIN_ID=Mt,t.RESUME_AUTO_SCROLL_BUTTON_PLACEHOLDER_HEIGHT=40,t.RedesignedShareButton=tl,t.SELF_SIGN_ACTION_PLUGIN_ID=zt,t.SEND_FOR_SIGNATURE_ACTION_PLUGIN_ID=jt,t.SIGNATURES_ACTIONBAR_DROPDOWN_PLUGIN_ID=Nt,t.STARRED_ACTION_PLUGIN_ID=Pt,t.TITLE_BAR_TEST_ID=Vs,t.TRANSCRIPT_ERROR_TESTID="transcript-blade-error",t.TRANSFER_ACTION_PLUGIN_ID=Tt,t.Title=Us,t.TranscriptProgressBar=hs,t.UNZIP_ACTION_PLUGIN_ID=xt,t.VERSION_HISTORY_ACTION_PLUGIN_ID=Ct,t.VIDEO_EDIT_PLUGIN_ID=Ut,t.VOICE_OVER_PLUGIN_ID=Lt,t.WATER_MARKING_PLUGIN_ID=ys,t.allowAllFiles=e=>e,t.alwaysShow=hi,t.canDownloadFile=(e,t)=>!(!(e=>!e)(e)&&!(null==t?void 0:t.canDownloadRoles.length)),t.classes=fs,t.clearCaptureFileVoiceover=function(e){return t=>{t({type:oe.Actions.ClearCaptureFileVoiceover,payload:e})}},t.closeCaptureFileVoiceover=function(){return e=>{e({type:oe.Actions.CloseCaptureFileVoiceover})}},t.copyActionCondition=bi,t.copyPluginDefinition=t=>{const n=(e=>{const{file:t}=e.getActiveFile(),i=bi.filterValidFile(t);return i?Object.assign({file:i},e):void 0})(t);if(n)return{label:d.intl.formatMessage(f.COPY_ACTION_STRING),id:gt,icon:i.React$1.createElement(a.UIIcon,{src:g.CopyLine}),action:{importer:()=>new Promise((function(t,i){e(["./c_action_plugins_copy_action_action"],t,i)})).then((({copyActionWrapper:e})=>e)),args:n},overflowItemTooltipDataAttribute:"action-bar-overflow-menu-copy-menu-item"}},t.deletePluginDefinition=t=>{const n=function(e){const{context:t,onFileChanged:i,previewSurface:a,user:n}=e,{file:r}=e.getActiveFile(),o=Ii.filterValidFile(r);return n&&o?{context:t,file:o,onFileChanged:i,previewSurface:a,user:n}:void 0}(t);if(n)return{label:d.intl.formatMessage(f.DELETE_ACTION_STRING),icon:i.React$1.createElement(a.UIIcon,{src:h.DeleteLine}),id:ht,disabled:n.file.read_only?{disabled:!0,tooltipMessage:d.intl.formatMessage(f.ACTION_DISABLED_STRING)}:{disabled:!1},action:{importer:()=>new Promise((function(t,i){e(["./c_action_plugins_delete_action_action"],t,i)})).then((({deleteActionWrapper:e})=>e)),args:n}}},t.downloadActiveFile=Da,t.download_utils_esnext=ka,t.enablePass=dn,t.extractProps=e=>{const{context:t,getActiveFile:i,onFileChanged:a,previewSurface:n,user:r}=e;if(t&&i&&n&&r)return{context:t,getActiveFile:i,onFileChanged:a,previewSurface:n,user:r}},t.fileActionCondition=Ei,t.filterLoggedInUser=Si,t.filterSurfaceIn=e=>t=>e.includes(t),t.getActionCondition=(e,t)=>{const{previewType:i,previewSurface:a,file:n,user:r,sharePermission:o}=e,{shouldShowForPreviewType:s,shouldShowForPreviewSurface:l,filterValidUser:c,filterValidFile:d}=t,u=c(r),p=d(n,o);if(s(i)&&l(a)&&u&&p)return{user:u,file:p}},t.getClickEntryPointLogModel=ra,t.getClickTourLogModel=e=>e===u.GuidedTours.Rename?Gi:e===u.GuidedTours.Search?qi:e===u.GuidedTours.Workflows?Wi:null,t.getDismissEntryPointLogModel=oa,t.getDismissTourLogModel=e=>e===u.GuidedTours.Rename?Yi:e===u.GuidedTours.Search?Ji:null,t.getFrameRateFromMetadata=function(e){if(null!=e)return"video"===e[".tag"]?e.frame_rate:void 0},t.getOpenInAppUrls=Xa,t.getShowPostCreationTooltip=e=>{const t=Xr(e).fileCaptureVoiceover;return"none"!==t.state&&"fetching"!==t.state&&t.showPostCreationTooltip},t.getShownDrawerLogModel=e=>e===u.DrawerTypes.Comments?Zi:e===u.DrawerTypes.Copy?Xi:e===u.DrawerTypes.Main?Qi:e===u.DrawerTypes.Rename?ea:e===u.DrawerTypes.Search?ta:e===u.DrawerTypes.Transfer?ia:e===u.DrawerTypes.Workflows?aa:null,t.getShownEntryPointLogModel=na,t.getShownTourLogModel=e=>e===u.GuidedTours.Rename?Hi:e===u.GuidedTours.Search?Ki:e===u.GuidedTours.Workflows?zi:null,t.getUserProductivityEngagements=Pi,t.isAddSignatureDropdownEnabled=ro,t.isAnnotating=function(e){return"annotating"===e||"annotating-ax"===e},t.isDownloadAllowed=Pa,t.isDynamicFileActionSurface=Yt,t.isEditingAnnotation=function(e){return"annotating"===e||"annotating-ax"===e||"commenting"===e},t.isInsideSharedFolder=sn,t.isSupportedPreviewType=bs,t.isSupportedPreviewType$1=so,t.isTextProbablyCode=e=>![".txt",".md",".text"].includes(e),t.isVideoPreview=rn,t.logActHubEvent=sa,t.makePluginActionDefinition=bo,t.mobileMeatball="_mobileMeatball_1vqwx_14",t.moveActionCondition=wi,t.movePluginDefinition=t=>{const n=(e=>{const{file:t}=e.getActiveFile(),i=wi.filterValidFile(t);return i?Object.assign({file:i},e):void 0})(t);if(n)return{label:d.intl.formatMessage(f.MOVE_ACTION_STRING),icon:i.React$1.createElement(a.UIIcon,{src:m.MoveLine}),id:St,disabled:n.file.read_only?{disabled:!0,tooltipMessage:d.intl.formatMessage(f.ACTION_DISABLED_STRING)}:{disabled:!1},action:{importer:()=>new Promise((function(t,i){e(["./c_action_plugins_move_action_action"],t,i)})).then((({moveActionWrapper:e})=>e)),args:n}}},t.onAdjust=Mc,t.onCrop=xc,t.onFlip=Cc,t.onRotate=Ac,t.openCaptureFileVoiceover=function(){return e=>{e({type:oe.Actions.OpenCaptureFileVoiceover})}},t.openFile=function(e){return(t,i)=>s.__awaiter(this,void 0,void 0,(function*(){const a=oe.putFile(e);t(a);!ue.previewDataPresentForFile(i(),e)&&!ue.previewDataInFlight(i(),e)&&(a.payload.file.preview?t(ue.populateFilesPreviewData([a.payload.file])):t(ue.fetchPreviewData([a.payload.file],void 0,void 0,L.fileViewerFeatureExperiments.imgSizeOptimization)))}))},t.openImmediately=function(e){let t;if(at(e))t=e.iOSAppUrl;else{if(!nt(e))return;t=e.androidAppUrl}const i=document.createElement("iframe");i.setAttribute("class","open-in-app-transport"),i.setAttribute("src",t),i.setAttribute("style","display: none"),document.body.appendChild(i)},t.openInApp=ut,t.portableSaveAsCopy=vi,t.renamePluginDefinition=t=>{const n=function(e){const{file:t}=e.getActiveFile(),i=yi.filterValidFile(t);return i?Object.assign({file:i},e):void 0}(t);if(n)return{label:d.intl.formatMessage(f.RENAME_ACTION_STRING),icon:i.React$1.createElement(a.UIIcon,{src:v.CursorLine}),id:bt,disabled:n.file.read_only?{disabled:!0,tooltipMessage:d.intl.formatMessage(f.ACTION_DISABLED_STRING)}:{disabled:!1},action:{importer:()=>new Promise((function(t,i){e(["./c_action_plugins_rename_action_action"],t,i)})).then((({renameActionWrapper:e})=>e)),args:n}}},t.saveToDropbox=Na,t.setShowPostCreationTooltip=function(e){return t=>{t({type:oe.Actions.SetShowPostCreationTooltip,payload:{showPostCreationTooltip:e}})}},t.setUserProductivityEngagements=Ai,t.share_helpers_esnext=To,t.shouldShowVideoEditButtons=Nc,t.showAuthModal=ni,t.showEditPlugin=nr,t.snackbars_esnext=Oa,t.titleBar=Ar,t.triggerVoiceover=function(e){return t=>{t({type:oe.Actions.TriggerVoiceover,payload:{triggered:!0,useCamera:e}})}},t.useCaptureForFile=Kc,t.useIsFileOwner=function(e,t){const n=a.useDispatch(),{isFetching:r,isOwner:o}=a.useSelector((i=>((e,t,i)=>{const a=Xr(e).isFileOwnerData;return t&&i&&a[t]&&a[t][i]?Xr(e).isFileOwnerData[t][i]:{isFetching:!1,isOwner:null}})(i,null==e?void 0:e.id,null==t?void 0:t.file_id))),s=i.react.exports.useMemo((()=>e&&new a.FileShareApiClient({userId:e.id})),[e]);return i.react.exports.useEffect((()=>{var i;t&&e&&s&&!r&&null===o&&(n((i={userId:e.id,fileId:t.file_id},e=>{e({type:oe.Actions.FetchIsFileOwner,payload:i})})),s.getMetadataAlpha({contentId:t.file_id}).then((i=>{i&&n(function(e){return t=>{t({type:oe.Actions.SetIsFileOwner,payload:e})}}({userId:e.id,fileId:t.file_id,isOwner:i.access_type===a.ACCESS_LEVEL.OWNER}))})).catch((()=>{n(function(e){return t=>{t({type:oe.Actions.FetchIsFileOwner,payload:e})}}({userId:e.id,fileId:t.file_id}))})))}),[n,t,r,o,s,e]),o},t.usePluginMigrationContext=()=>i.React$1.useContext(Ns)}));
//# sourceMappingURL=c_file_viewer_sdk_file_viewer_file_viewer.js-vflmYIkup.map
