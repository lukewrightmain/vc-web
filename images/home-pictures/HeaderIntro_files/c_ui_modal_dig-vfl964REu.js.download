define(["exports","./c_tslib","./e_ui_page_files_router","./c_core_notify","./e_edison","./c_core_i18n"],(function(e,t,a,s,l,o){"use strict";const{Header:n,Footer:c,Body:i}=a.Modal;class d extends l.React$1.Component{constructor(e){super(e),this.state={open:!0},this.modal=l.React$1.createRef(),this.modalBox=l.React$1.createRef()}invokeCBThenCloseModal(e,t,s=!1){"function"==typeof e&&e.call(this,t);let l=t.defaultPrevented;"isDefaultPrevented"in t&&(l=t.isDefaultPrevented()),l||(this.props.autoClose||s)&&a.unmountModal()}dismissModal(e){const{onDismiss:t,onDismissCompleted:a}=this.props;this.invokeCBThenCloseModal(t,e,!0),a&&a.call(this,e)}onCancelActionClicked(e){this.dismissModal(e)}onAcceptActionClicked(e){const{onAccept:t}=this.props;this.invokeCBThenCloseModal(t,e)}componentDidMount(){a.dispatchModalOpened(),a.Modal.setAppElement(document.body)}componentWillUnmount(){a.dispatchModalClosed()}render(){const e=this.props,t={"db-modal-wrapper":!0,"uxa-modal":!0,"clean-react-modal":!0,"db-modal--default-maestro-style":"default-maestro"===e.style};e.className&&(t[e.className]=!0);const s=a.classnames(t),o=a.getModalId({id:e.id,className:e.className}),{open:d}=this.state,m=this.onCancelActionClicked.bind(this),r=this.onAcceptActionClicked.bind(this),u=e.onShow;return l.React$1.createElement("div",{className:s},l.React$1.createElement("div",{ref:this.modal,className:"db-modal db-modal__dig"},l.React$1.createElement("div",{ref:this.modalBox,className:"db-modal-box"},l.React$1.createElement(a.Modal,{open:d,className:`db-modal-${e.style}`,onRequestClose:m,onAfterOpen:u,"aria-labelledby":"db-modal-title",overlayClassName:"db-modal-overlay",ariaHideApp:!1,id:a.MODAL_ROOT_ID,"data-testid":a.MODAL_ROOT_TESTID,width:e.width||"standard",withCloseButton:a.CLOSE_BUTTON_TEXT},l.React$1.createElement("div",{className:"db-modal__dig-container",id:o},e.title&&l.React$1.createElement(n,{hasBottomSpacing:"title-standard",className:"db-modal-title",id:"db-modal-title"},l.React$1.createElement(a.Title,null,l.React$1.createElement("span",{className:"db-modal-title-text"},e.title))),l.React$1.createElement(i,{ref:this.modalContainer,className:"db-modal-content",hasVerticalSpacing:!1},e.children),l.React$1.createElement(c,{className:"db-modal-buttons"},e.buttonComponent?e.buttonComponent:l.React$1.createElement(l.React$1.Fragment,null,e.helpLink&&l.React$1.createElement(a.Button,{hasNoUnderline:!0,variant:"transparent",className:"dbmodal-extra-link-button db-modal__unclickable-parent"},e.helpLink),e.altAction&&l.React$1.createElement(a.Button,{hasNoUnderline:!0,variant:"transparent",className:"db-modal__alt-action db-modal__unclickable-parent"},e.altAction),e.dismissButtonText?l.React$1.createElement(a.Button,{className:"dbmodal-button dbmodal-button__cancel",key:"tertiary-dismiss",variant:"opacity",onClick:m},e.dismissButtonText):l.React$1.createElement("span",null),e.acceptButtonText&&l.React$1.createElement(a.Button,{className:"dbmodal-button dbmodal-button__accept",key:"primary",variant:"primary",disabled:e.acceptButtonDisabled,onClick:r,isLoading:e.submitting},e.acceptButtonText))))))))}}d.displayName="Modal",d.defaultProps={acceptButtonText:o.intl.formatMessage({id:"nOO9Qi",defaultMessage:"OK"}),dismissButtonText:null,buttonComponent:null,onAccept(){},onDismiss(){},onShow(){},autoClose:!0,style:"default",acceptButtonDisabled:!1};const m={show:e=>{const t={acceptButtonText:e.confirm_text,trackingIdPrefix:e.trackingIdPrefix,onAccept:e.confirm_callback,dismissButtonText:e.cancel_text,onDismiss:e.cancel_callback,onDismissCompleted:e.cancel_completed_callback,title:e.title_text,width:e.width,className:"simple-modal",autoClose:e.autoclose,style:e.style,onShow:e.on_show},o="simple-modal-content",n=e.body_react?l.React$1.createElement("div",{className:o},e.body_react):l.React$1.createElement("div",{className:o,dangerouslySetInnerHTML:{__html:s.purify.sanitize(e.body_html)}}),c=l.React$1.createElement(d,Object.assign({},t),n);return a.mountModal(c)}},r=e=>{var{className:s,children:o}=e,n=t.__rest(e,["className","children"]);return l.React$1.createElement(a.Button,Object.assign({className:a.classnames(s,"dbmodal-button",`button-${n.variant}`,`dbmodal-button__${n.variant}`)},n),o)};r.displayName="ModalButton",r.displayName="ModalButton";const u=e=>{var{className:s}=e,o=t.__rest(e,["className"]);return l.React$1.createElement("div",Object.assign({className:a.classnames(s,"db-modal-buttons")},o))};u.displayName="ModalButtons",u.displayName="ModalButtons";const p=a.requireCssWithComponent(d,["/static/metaserver/static/css/dig-components/index.web-vflvPodS4.css"]);e.ModalButton=r,e.ModalButtons=u,e.ModalWithCSS=p,e.SimpleModal=m}));
//# sourceMappingURL=c_ui_modal_dig.js-vflMBT3xU.map
