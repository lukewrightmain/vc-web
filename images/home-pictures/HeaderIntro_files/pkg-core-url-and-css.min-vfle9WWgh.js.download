define("js/browser/css/css_cache",["require","exports","js/browser/css/inject_css"],(function(e,t,s){"use strict";function r(e){try{const t=new URL(e);return t.pathname?decodeURIComponent(t.pathname):""}catch(e){return""}}function i(e=document){const t=c(e),s=e.querySelectorAll('link[rel="stylesheet"]');for(let e=0;e<s.length;e++){let i=r(s[e].href);0,null==t.already_loaded_css_paths[i]&&(t.loaded_css[i]=Promise.resolve(),t.already_loaded_css_paths[i]="loaded")}}function c(e){const t=e;return t._cssCache||(t._cssCache={loaded_css:Object.create(null),already_loaded_css_paths:Object.create(null)}),t._cssCache}Object.defineProperty(t,"__esModule",{value:!0}),t.loadCssWithCache=t.getOrCreateCache=t.rescanForMoreCssLinks=void 0,t.rescanForMoreCssLinks=i,i(),t.getOrCreateCache=c,t.loadCssWithCache=function(e,t,r,i){let c=t.loaded_css[r];return c||(c=new Promise((c,n)=>{const a=e.createElement("link");return a.href=i,a.rel="stylesheet",a.type="text/css",a.crossorigin="anonymous",a.onload=function(){return t.already_loaded_css_paths[r]="loaded",c()},a.onerror=n,(0,s.injectCss)([{elem:a,path:r}],"loadCssWithCache",e),a}),t.loaded_css[r]=c,t.already_loaded_css_paths[r]="downloading"),c}})),define("metaserver/static/js/css/css",["require","exports","metaserver/static/js/clean/static_urls","metaserver/static/js/core/assert","js/browser/css/css_cache","js/browser/css/css_cache"],(function(e,t,s,r,i,c){"use strict";function n(e,t,r,c=document){const n=(0,i.getOrCreateCache)(c),a=(0,s.static_url)(e);return(0,i.loadCssWithCache)(c,n,e,a).then(t,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.registerCSSForPreload=t.is_loaded=t.require_css_multi=t.require_css=t.css_url=void 0,t.css_url=function(e){return`url("${String(e).replace(/\\/g,"\\\\").replace(/"/g,'\\"')}")`},t.require_css=n,t.require_css_multi=function(e,t,s,r=document){const i=e.map(e=>n(e,void 0,void 0,r));return Promise.all(i).then(t,s)},t.is_loaded=function(e,t=document){const s=(0,i.getOrCreateCache)(t);return!!e.every(e=>((0,r.assert)(e.startsWith("/static/"),`invalid static css path: ${e}`),"loaded"===s.already_loaded_css_paths[e]))||((0,c.rescanForMoreCssLinks)(t),e.every(e=>"loaded"===s.already_loaded_css_paths[e]))},t.registerCSSForPreload=function(e){}})),define("metaserver/static/js/core/uri",["require","exports","metaserver/static/js/core/assert"],(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryComponent=t.URI=void 0;const r=/^(?:([^:\/\\?#]+):)?(?:[\/\\]{2}([^\/\\?#]*))?([^?#]*)(?:\?([^#]*))?(?:[#](.*))?$/,i=/^[a-zA-Z][a-zA-Z0-9+.\-]*$/;class c{constructor(e={}){this.dict={},this.add(e)}static parseString(e){if(!e)return{};const t={};return e.split("&").forEach(e=>{if(""!==e){const s=e.split("="),r=c.decode(s[0]),i=c.decode(s.slice(1).join("="));if(t.hasOwnProperty(r)){const e=t[r];let s;s="string"==typeof e?[e]:void 0===e?[]:e,s.push(i),t[r]=s}else t[r]=i}}),t}add(e,t){if("string"==typeof e)t&&(Array.isArray(t)?this.dict[e]=t.map(String):this.dict[e]=String(t));else for(const t in e)if(e.hasOwnProperty(t)){const s=e[t];null!=s&&(Array.isArray(s)?this.dict[t]=s.map(String):this.dict[t]=String(s))}return this}remove(e){return delete this.dict[e],this}replace(e){return this.dict=e,this}toString(){const e=[],t=Object.keys(this.dict).sort();for(const s of t)if(this.dict.hasOwnProperty(s)){const t=this.dict[s];Array.isArray(t)?t.forEach(t=>{e.push(c.encode(s)+"="+c.encode(t))}):e.push(c.encode(s)+"="+c.encode(t))}return e.length?e.join("&"):""}static decode(e){return null==e?"":n.decode(e.replace(/\+/g,"%20"))}static encode(e){return null==e?"":n.encode(e).replace(/%20/g,"+")}}t.QueryComponent=c;class n{constructor(e={}){this.query=new c,this.initFromObject(e)}initFromObject(e){this.setScheme(e.scheme),this.authority=e.authority||"",this.path=e.path||"",this.setQuery(e.query),this.fragment=e.fragment||""}getScheme(){return this.scheme}getAuthority(){return this.authority}getPath(){return this.path}getQuery(){return this.query.dict}getFragment(){return this.fragment}setScheme(e=""){const t=!e||Boolean(e.match(i));return(0,s.assert)(t,"Invalid scheme",{exc_extra:{scheme_param:e}}),this.scheme=e,this}setAuthority(e=""){return this.authority=e,this}setPath(e=""){return this.path=e,this}setQuery(e={}){return this.query=new c(e),this}setFragment(e=""){return this.fragment=e,this}updateQuery(e,t){return this.query.add(e,t),this}removeQuery(e){return this.query.remove(e),this}clone(){return new n(this.toObject())}toObject(){return{scheme:this.getScheme(),authority:this.getAuthority(),path:this.getPath(),query:this.getQuery(),fragment:this.getFragment()}}toString(){let e="";return this.scheme&&(e+=this.scheme+":"),this.authority&&(e+="//"+n.encode(this.authority,":@[]")),e+this.toRelativeUri()}toRelativeUri(){let e="";this.path&&((0,s.assert)(!this.authority||!this.path.length||"/"===this.path[0],'Path must start with a "/" if URI is not relative'),e+=n.encode(this.path,"/"));const t=this.query.toString();return t&&(e+="?"+t),this.fragment&&(e+="#"+n.encode(this.fragment,":@[]/&=+?#!")),e}static parse(e){const t=String(e).match(r)||[],[,s,i,a,o,h]=t,u=new n;return u.setScheme(s),u.setAuthority(n.decode(i)),u.setPath(n.decode(a)),u.setQuery(c.parseString(o)),u.setFragment(n.decode(h)),u}static decode(e){return e?decodeURIComponent(e):""}static encode(e,t=""){if(!e)return"";e=encodeURIComponent(e),t+="~";for(const s of t){const t=encodeURIComponent(s);e=e.replace(new RegExp(t,"g"),s)}return e}static encode_parts(e,t="/"){return e.split(t).map(e=>n.encode(e)).join(t)}}t.URI=n,n.Query=c})),define("metaserver/static/js/clean/static_urls",["require","exports","metaserver/static/js/core/assert","metaserver/static/js/core/uri"],(function(e,t,s,r){"use strict";function i(e){return e}Object.defineProperty(t,"__esModule",{value:!0}),t.static_url=t.apply_static_url_dev_vfl=void 0,t.apply_static_url_dev_vfl=i,t.static_url=function(e){return(0,s.assert)(e.startsWith("/static/"),`'${e}' is not a /static url`),e=e,new r.URI({scheme:"https",authority:"cfl.dropboxstatic.com",path:e}).toString()}}));
//# sourceMappingURL=pkg-core-url-and-css.min.js-vfljjLSbC.map