define(["exports","./c_src_file_viewer_components","./c_lodash-es_lodash"],(function(e,t,n){"use strict";class r{constructor(){this.getDisposer=()=>()=>{this._array.forEach((e=>e())),this._array=[]},this.push=e=>{this._array.push(e)},this._array=[]}}const i=(e,t,n=!1)=>{const i=new r;for(const[r,s]of Object.entries(t))n?e.one(r,s):e.on(r,s),i.push((()=>e.off(r,s)));return i},s=500;function o(e,t){return"backward"===t?e.paused()&&e.currentTime()<.2:e.duration()-e.currentTime()<.2}e.disableAtEndpoint=(e,t,r)=>{const a=()=>r(o(e,t)),u={seeking:n.throttle(a,s),durationchange:a,seeked:a,playing:()=>r(!1)};return"forward"===t&&(u.ended=()=>r(!0)),i(e,u).getDisposer()},e.getPlayPauseKeybinding=function(e){return t.getKeyboardBinding({key:" ",callback:n=>(e.paused()?e.play():e.pause(),t.isKeyboardEvent(n)&&n.preventDefault(),!0)})},e.getTechFromPlayer=function(e){return e.tech({IWillNotUseThisInPlugins:!0})},e.getVideoTruncated=function(e){var n;return null===(n=t.filterAudioVideoRivieraData(e))||void 0===n?void 0:n.isTruncated},e.isAtEndpoint=o,e.setupVideoJsEvents=(e,t,n=!1)=>i(e,t,n).getDisposer(),e.tagCriticalPathContentRequest=function(e,t){if(e&&t){const n=new URL(e);return n.searchParams.set("psid",t),n.toString()}return e}}));
//# sourceMappingURL=c_preview_audio_video_helper_utils.js-vflA91ylR.map
