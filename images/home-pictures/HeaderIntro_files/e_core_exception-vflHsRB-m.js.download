define(["exports","./c_core_exception_info","metaserver/static/js/modules/constants/page_load","metaserver/static/js/modules/constants/request","./c_lodash-es_lodash"],(function(e,r,t,o,n){"use strict";let s="production";function c(e){s=e}const i=[];function a(e){i.push(e)}function d(e){const r=i.indexOf(e);r>=0&&i.splice(r,1)}function l(e){var t;const{err:o}=e,n=null!==(t=null===window||void 0===window?void 0:window.EDISON_LOCALMODE)&&void 0!==t&&t;if(o.reported||n)return;const[s,c,a]=r.collectExceptionStack(o);o.isAssertion&&i.forEach((e=>e(a))),o.stack_frames=s.reverse(),o.context_tb=c.reverse(),o.tags=function(e,r){const t=new Set;return e&&e.forEach((e=>t.add(e))),r&&r.forEach((e=>t.add(e))),Array.from(t.values())}(e.tags,o.tags),o.excExtra=function(e,r){let t={};return e&&(t=Object.assign(Object.assign({},t),e)),r&&(t=Object.assign(Object.assign({},t),r)),t}(e.exc_extra,o.excExtra),o.severity=e.severity,o.force=e.force,window.onerror&&window.onerror(o.message,void 0,void 0,void 0,o)}function u(e,t={}){t={severity:t.severity||r.SEVERITY.NONCRITICAL,tags:t.tags||[],exc_extra:t.exc_extra||{},silent:!!t.silent};const o=new Error(e);l({err:o,force:!0,tags:(t.tags||[]).concat("module:exception","reportStack"),severity:t.severity,exc_extra:t.exc_extra}),"production"!==s&&(t.severity===r.SEVERITY.CRITICAL?(t.silent||alert(e),console&&console.error&&console.error(o)):console&&console.warn&&console.warn(o))}var E=Object.freeze({__proto__:null,overrideEnvironmentForTesting:c,registerOnFailedAssert:a,unregisterOnFailedAssert:d,reportException:l,reportStack:u,SEVERITY:r.SEVERITY});e.SEVERITY=r.SEVERITY,e.JSException=E,e.overrideEnvironmentForTesting=c,e.registerOnFailedAssert=a,e.reportException=l,e.reportStack=u,e.unregisterOnFailedAssert=d,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=e_core_exception.js-vflXYTOYs.map
