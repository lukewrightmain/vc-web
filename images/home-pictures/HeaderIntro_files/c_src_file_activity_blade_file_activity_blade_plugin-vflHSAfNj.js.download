define(["require","exports","./c_tslib","./e_edison","./c_file_activity_component_file_activity_blade","./e_ui_page_files_router","./c_src_file_viewer_components","./c_core_logging_constants","./c_ui-icon_line_file-history","./c_api_v2_redux_files","./c_core_uri","./c_lodash-es_lodash","./c_apex-metrics_src_types","./c_src_right-rail_hooks","./c_src_common_filepath","./c_breadcrumb_index","./c_ui-icon_line_more-horizontal","./c_flows_approval_approval_io_client","./c_typeahead_index","./c_form_row_index","./c_core_i18n","./e_core_exception","./c_core_exception_info","metaserver/static/js/modules/constants/page_load","metaserver/static/js/modules/constants/request","./c_src_sink_index","./c_core_browser_detection","metaserver/static/js/modules/core/langpack","./c_file_viewer_sdk_file_viewer_experiments","metaserver/static/js/modules/constants/file_viewer_configuration","metaserver/static/js/modules/constants/file_viewer_feature_experiments","metaserver/static/js/modules/constants/file_viewer_flows_experiments","./c_combinations_index","./c_controls_index","metaserver/static/js/modules/constants/files_spa","./c_core_notify","metaserver/static/js/modules/constants/env","metaserver/static/js/modules/constants/web_experience_constants","metaserver/static/js/modules/constants/viewer","metaserver/static/js/modules/constants/auth","./c_api_v2_noauth_client","./c_browser_cookies","metaserver/static/js/modules/constants/time","metaserver/static/js/modules/constants/ajax_strings","./c_csrf","./c_core_xhr","metaserver/static/js/modules/constants/locales","metaserver/static/js/modules/constants/webtiming","metaserver/static/js/modules/constants/sharing","metaserver/static/js/modules/constants/trademark","metaserver/static/js/modules/constants/campaigns_orchestration","metaserver/static/js/modules/constants/maestro_nav_strings","metaserver/static/js/modules/constants/search","metaserver/static/js/modules/constants/undo_strings","metaserver/static/js/modules/constants/contacts","metaserver/static/js/modules/constants/login_and_register","./c_core_types_preview_type","./c_src_file_extension_extension_constants","./c_src_logging_performance","./c_core_utils_redesign2023","./c_ui-icon_line_sidebar-show","./c_src_simple-action-bar_action_bar_types","./c_src_toolbar","./c_ui-icon_line_zoom-out","./c_truncate_index","./c_resize-observer-polyfill_dist_ResizeObserver","./c_ui-icon_line_collapse-right","./c_ui-icon_line_expand-left"],(function(e,t,s,i,r,o,n,c,a,_,l,d,m,u,v,f,p,h,g,y,x,I,b,j,w,R,A,C,V,U,E,T,$,k,F,H,P,L,M,z,B,O,D,G,N,S,Y,q,J,K,Q,W,X,Z,ee,te,se,ie,re,oe,ne,ce,ae,_e,le,de,me,ue){"use strict";const ve=i.React$1.lazy((()=>s.__awaiter(void 0,void 0,void 0,(function*(){const{FileActivity:t}=yield new Promise((function(t,s){e(["./c_file_activity_component_file_activity_blade"],t,s)})).then((function(e){return e.file_activity_esnext}));return{default:t}}))));t.FileActivityPluginBase=class{constructor(e,t,s,l,d){this.lifecycle={},this.rightRailUI={Sidebar:e=>{const t=this.onOpenVersionHistory,s=i.react.exports.useMemo((()=>t?{enabled:!0,onVersionHistoryClicked:()=>{t(),this.context.logUserAction(c.UserAction.VersionHistory,"legacy_previews_right_rail")}}:{enabled:!1}),[t]),{expandedBlade:a}=i.React$1.useContext(_.RightRailContext);n.useRecordPreviewsTimerOnMount(this.context.fileViewerId,c.PreviewsTimer.SidebarContentsMount,{bladeId:n.FILE_ACTIVITY_PLUGIN_ID},a===n.FILE_ACTIVITY_PLUGIN_ID);const l=i.react.exports.useCallback((e=>{this.context.logUserAction(e,"right_sidebar")}),[]);return i.React$1.createElement(o.Provider,{store:this.store},i.React$1.createElement(r.FileActivityBlade,{id:n.FILE_ACTIVITY_PLUGIN_ID,fileId:e.file.fileId,user:this.user,intl:this.platform.intl,versionHistory:s,logFilterChange:l}))},Control:()=>i.React$1.createElement(r.CollapsedFileActivityBladeButton,{id:n.FILE_ACTIVITY_PLUGIN_ID,intl:this.platform.intl})},this.sidebarUI={Icon:()=>i.React$1.createElement(o.UIIcon,{src:a.FileHistoryLine}),Title:()=>i.React$1.createElement(i.React$1.Fragment,null,this.platform.intl.formatMessage({id:"g4fiTc",defaultMessage:"File Activity"})),TitleAccessory:()=>{const e=this.onOpenVersionHistory,t=i.react.exports.useMemo((()=>e?{enabled:!0,onVersionHistoryClicked:()=>{e(),this.context.logUserAction(c.UserAction.VersionHistory,"preview_left_sidebar")}}:{enabled:!1}),[e]);return t&&t.enabled?i.React$1.createElement(r.VersionHistoryMenu,{onVersionHistoryClicked:t.onVersionHistoryClicked,iconSize:"standard"}):null},Content:e=>i.React$1.createElement(i.React$1.Suspense,{fallback:null},i.React$1.createElement(o.Provider,{store:this.store},i.React$1.createElement(ve,{fileId:e.file.fileId,user:this.user,logUserAction:this.context.logUserAction})))},this.platform=e,this.store=t,this.user=s,this.context=l,this.onOpenVersionHistory=d}}}));
//# sourceMappingURL=c_src_file_activity_blade_file_activity_blade_plugin.js-vflGtwWYV.map
