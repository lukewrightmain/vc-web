define(["exports","./e_edison","./e_ui_page_files_router","./c_components_spacer_index","./c_controls_index","./c_flows_approval_approval_io_client","./c_form_row_index","./c_components_approval-forms_approval_checkbox_in_share","./c_core_i18n"],(function(e,a,t,l,o,r,s,n,i){"use strict";const c=({fileId:e,ioClient:t,multiApprovers:l=!1,actionSurface:o,onCreate:s,onCreateFailure:n,onCreateSuccess:i,onEditSuccess:c,editArgs:p,threadId:d})=>{var u;const m=l?20:1,[v,g]=a.react.exports.useState(!1),[f,R]=a.react.exports.useState(!1),[h,b]=a.react.exports.useState([]),[M,E]=a.react.exports.useState(!0),[A,$]=a.react.exports.useState(null!==(u=null==p?void 0:p.content)&&void 0!==u?u:""),[C,y]=a.react.exports.useState(!1),{suggestions:T,onQueryChange:B}=t.useSuggestions(h),S=t.logger,_=a.react.exports.useCallback((e=>a.React$1.createElement(r.TypeaheadSuggestion,{suggestion:e,getInitials:t.getInitials})),[t.getInitials]),F=a.react.exports.useCallback((e=>{g(!1),R(!1),$(e.currentTarget.value)}),[]),L=h.length>0&&h.length<=m&&0===h.filter((e=>e.validationResult!==r.ValidationResult.OK)).length,I=()=>{var a;g(!1),R(!1),y(!0);const l={actor:"requester",approval_type:"request",requester_email:null==p?void 0:p.approvalMetadata.requester_email,status:"pending",type:"approval",approvers:null!==(a=null==p?void 0:p.approvalMetadata.approvers)&&void 0!==a?a:h.map((({email:e,name:a})=>({email:e,display_name:a}))),requires_all:p?p.approvalMetadata.requires_all:M};if(p)t.editApprovalRequest(e,p.commentId,A).then((()=>{null==c||c(p.commentId,d,{text:A,metadata:[l]}),S.logEditApprovalRequestSuccess(e,A.length,d)})).catch((()=>{g(!0),y(!1)}));else{const a=h.map((({email:e})=>({email:e})));null==s||s(h.length),t.createApproval(e,A,a,M).then((a=>{null==i||i(h.length,{text:A,metadata:[l]}),S.logSubmitApprovalSuccess(e,o,A.length,JSON.stringify(h.map((({dbx_account_id:e})=>e))),M,h.length,a.comment_id),t.triggerSprigSurvey()})).catch((e=>{var a;null==n||n(h.length,I),g(!0),"user_not_found"===(null===(a=e.error)||void 0===a?void 0:a[".tag"])&&R(!0),y(!1)}))}};return{canSubmit:!!p||L,detailsInputValue:A,handleDetailsChange:F,handleNeedsAllApproversChange:a=>{E(a),S.logApproverOptionsClick(e,a,o)},handleRecipientsChange:e=>{g(!1),R(!1),b(e)},handleSubmit:I,hasError:v,isUserNotFoundError:f,needsAllApprovers:M,onQueryChange:B,recipientNumLimit:m,recipients:h,renderTypeaheadSuggestion:_,requestPending:C,suggestions:T}},p=({onCancel:e,onRequestSuccess:i,onEditSuccess:p,ioClient:d,user:u,fileId:m,inlineWithComments:v,approvalVariant:g,editArgs:f,threadId:R})=>{var h;const{canSubmit:b,detailsInputValue:M,handleDetailsChange:E,handleNeedsAllApproversChange:A,handleRecipientsChange:$,handleSubmit:C,hasError:y,isUserNotFoundError:T,needsAllApprovers:B,onQueryChange:S,recipientNumLimit:_,recipients:F,renderTypeaheadSuggestion:L,requestPending:I,suggestions:x}=c({fileId:m,ioClient:d,multiApprovers:"MULTI_APPROVER"===g,onCreateSuccess:(e,...a)=>null==i?void 0:i(...a),editArgs:f,threadId:R,onEditSuccess:p,actionSurface:"request_approval_form"}),N=a.React$1.useRef(null),{title:q,requestSubmitButtonLabel:k,cancelButtonLabel:w,detailsInputLabel:P,detailsInputPlaceholder:z,approverInputPlaceholder:O,approverInputLabel:U,multiApproverInputLabel:V,approverInputTooltipTitle:H,userNotFoundError:j,genericError:D,editSubmitButtonLabel:Y,addAnApproverTooltip:Q,createNewRequestTooltip:W,onlyOneApproverAllowedTooltip:G,onlyTwentyApproversAllowedTooltip:K,betaBadgeLabel:J,radioButtonAllApprovers:X,radioButtonOneApprover:Z}=function(){const e=t.useIntl();return{title:e.formatMessage({id:"hEJ2Yn",defaultMessage:"Get approval"}),requestSubmitButtonLabel:e.formatMessage({id:"6+7BLc",defaultMessage:"Send"}),cancelButtonLabel:e.formatMessage({id:"KQ8scR",defaultMessage:"Cancel"}),detailsInputLabel:e.formatMessage({id:"R+Was/",defaultMessage:"Message"}),detailsInputPlaceholder:e.formatMessage({id:"A62fV9",defaultMessage:"Add a note about what you need approved."}),approverInputPlaceholder:e.formatMessage({id:"0rnwy6",defaultMessage:"Add an email or name"}),approverInputLabel:e.formatMessage({id:"v53Uf+",defaultMessage:"Approver"}),multiApproverInputLabel:e.formatMessage({id:"/qlqYb",defaultMessage:"Approver(s)"}),approverInputTooltipTitle:e.formatMessage({id:"ss5f1a",defaultMessage:"Approvers are sent an email with your message and a link to the file."}),userNotFoundError:e.formatMessage({id:"UzX8SG",defaultMessage:"Couldn’t send approval request because 1 or more approvers don’t have a Dropbox account."}),genericError:e.formatMessage({id:"vK1TiB",defaultMessage:"Something went wrong. Please try again later."}),editSubmitButtonLabel:e.formatMessage({id:"WGyt7S",defaultMessage:"Save changes"}),addAnApproverTooltip:e.formatMessage({id:"CoADMJ",defaultMessage:"Add an approver to your request"}),createNewRequestTooltip:e.formatMessage({id:"2hpgtD",defaultMessage:"Create a new request to get approval from another person"}),onlyOneApproverAllowedTooltip:e.formatMessage({id:"6CxwHA",defaultMessage:"You can only have one approver per request"}),onlyTwentyApproversAllowedTooltip:e.formatMessage({id:"s3OEMQ",defaultMessage:"You can only have twenty approvers per request"}),betaBadgeLabel:e.formatMessage({id:"PbRgl7",defaultMessage:"Beta"}),radioButtonAllApprovers:e.formatMessage({id:"dCiUbC",defaultMessage:"Everyone needs to approve"}),radioButtonOneApprover:e.formatMessage({id:"IVLVww",defaultMessage:"Only one approval needed"})}}(),ee="approval-request-form__details-input",ae=d.logger;a.React$1.useEffect((()=>{ae.logShownRequestForm(m,"request_approval_form")}),[m]);const te=e=>a.React$1.createElement(t.Button,{onClick:C,variant:"primary",disabled:e,size:"small",className:n.classes.approvalFormFooterPrimaryAction,isLoading:I},f?Y:k);return a.React$1.createElement("div",{className:t.classnames(n.classes.approvalForm,{[n.classes.inlineWithComments]:v}),ref:N},a.React$1.createElement("div",{className:n.classes.approvalFormTitle},a.React$1.createElement(t.Avatar,{src:u.photoUrl,backgroundColor:t.avatarColorForUserIdentifier(u.initials),hasNoOutline:!0,size:"small",style:{marginRight:"6px"}},u.initials),a.React$1.createElement(t.Text,{isBold:!0,tagName:"h1"},q),a.React$1.createElement(t.AccessoryBadge,null,J)),a.React$1.createElement("div",{className:n.classes.approvalFormBody},f?a.React$1.createElement(a.React$1.Fragment,null,a.React$1.createElement(s.FormLabel,{htmlFor:"approval-form__approver"},a.React$1.createElement(t.Text,{isBold:!0,size:"small",tagName:"label"},"MULTI_APPROVER"===g?V:U)),a.React$1.createElement(t.Tooltip,{title:W,boundary:N,placement:"top-start",auto:!0},a.React$1.createElement(t.Text,{id:"approval-form__approver",size:"small",className:n.classes.approvalFormApproverDisplayName},null===(h=f.approvalMetadata.approvers)||void 0===h?void 0:h.map((e=>`@${e.display_name?e.display_name:e.email} `))))):a.React$1.createElement(r.ContactTypeahead,{placeholder:O,recipients:F,onRecipientsChange:$,onTypeAheadSelection:e=>ae.logAddApprover(m,"request_approval_form",e.dbx_account_id),suggestions:x,onQueryChange:S,renderTypeaheadSuggestion:L,recipientNumLimit:_,label:"MULTI_APPROVER"===g?V:U,labelSubtext:a.React$1.createElement(t.Tooltip,{title:H,placement:"top"},a.React$1.createElement("div",{className:n.classes.approvalModalApproverInputTooltip},a.React$1.createElement(t.UIIcon,{src:t.HelpLine,size:"small"}))),maxNumTooltip:"MULTI_APPROVER"===g?K:G,onFocus:()=>ae.logFocusApproverTypeahead(m,"request_approval_form")}),a.React$1.createElement(l.Spacer,{multiplier:2}),a.React$1.createElement(s.FormLabel,{htmlFor:ee},a.React$1.createElement(t.Text,{isBold:!0,size:"small",tagName:"label"},P)),a.React$1.createElement(t.TextArea,{className:n.classes.approvalFormsTextArea,id:ee,placeholder:z,"aria-label":z,value:M,onChange:E}),"MULTI_APPROVER"===g&&(F.length>1||(null==f?void 0:f.approvalMetadata.approvers)&&f.approvalMetadata.approvers.length>1)?a.React$1.createElement(s.FormControlGroup,{className:n.classes.approvalFormRadioButtonGroup},a.React$1.createElement("div",{className:n.classes.approvalFormRadioButtonRow},a.React$1.createElement(o.RadioButton,{checked:f?f.approvalMetadata.requires_all:B,disabled:!!f,"aria-label":X,onClick:()=>A(!0)}),a.React$1.createElement("div",{className:n.classes.approvalFormRadioButtonText},a.React$1.createElement(t.Text,{size:"small"},X))),a.React$1.createElement("div",{className:n.classes.approvalFormRadioButtonRow},a.React$1.createElement(o.RadioButton,{checked:f?!f.approvalMetadata.requires_all:!B,disabled:!!f,"aria-label":Z,onClick:()=>A(!1)}),a.React$1.createElement("div",{className:n.classes.approvalFormRadioButtonText},a.React$1.createElement(t.Text,{size:"small"},Z)))):null,y&&(T?a.React$1.createElement(s.FormHelperText,{variant:"alert"},j):a.React$1.createElement(s.FormHelperText,{variant:"alert"},D))),a.React$1.createElement("div",{className:n.classes.approvalFormFooter},a.React$1.createElement(t.Button,{onClick:()=>{ae.logRequestFormCancelClick(m,"request_approval_form"),d.trackUserSurveyEvent("approval_request_abandoned"),e()},variant:"transparent",size:"small",disabled:I},w),b?te(!1):a.React$1.createElement(t.Tooltip,{title:Q,placement:"top-start",auto:!0,boundary:N},a.React$1.createElement("span",{style:{display:"inline-block"},tabIndex:0},te(!0)))))};p.displayName="ApprovalRequestFormInternal";const d=e=>a.React$1.createElement(i.Provider,{value:e.intl},a.React$1.createElement(p,Object.assign({},e)));d.displayName="ApprovalRequestForm";const u=({onCancel:e,onRespondSuccess:o,onEditSuccess:r,user:i,inlineWithComments:c,ioClient:p,fileId:d,threadId:u,editArgs:m})=>{var v;const[g,f]=a.react.exports.useState(null!==(v=null==m?void 0:m.content)&&void 0!==v?v:""),[R,h]=a.react.exports.useState("approved"==(null==m?void 0:m.approvalMetadata.status)||"rejected"!=(null==m?void 0:m.approvalMetadata.status)&&void 0),[b,M]=a.react.exports.useState(!1),[E,A]=a.react.exports.useState(!1),$=a.React$1.useRef(null),{title:C,submitButtonLabel:y,cancelButtonLabel:T,detailsInputLabel:B,detailsInputPlaceholder:S,approveChipLabel:_,rejectChipLabel:F,genericError:L,approveOrRequestFirstTooltip:I,addDetailsTooltip:x,betaBadgeLabel:N}=function(){const e=t.useIntl();return{title:e.formatMessage({id:"TKvySt",defaultMessage:"Respond to request"}),submitButtonLabel:e.formatMessage({id:"mVrd/b",defaultMessage:"Submit"}),cancelButtonLabel:e.formatMessage({id:"KQ8scR",defaultMessage:"Cancel"}),detailsInputLabel:e.formatMessage({id:"rFAfdB",defaultMessage:"Details"}),detailsInputPlaceholder:e.formatMessage({id:"hzYIsD",defaultMessage:"Tell requester more about your decision"}),approveChipLabel:e.formatMessage({id:"TjnDNv",defaultMessage:"Approve"}),rejectChipLabel:e.formatMessage({id:"YEnec6",defaultMessage:"Request change"}),genericError:e.formatMessage({id:"vK1TiB",defaultMessage:"Something went wrong. Please try again later."}),approveOrRequestFirstTooltip:e.formatMessage({id:"2p63Fj",defaultMessage:"Approve or request change first"}),addDetailsTooltip:e.formatMessage({id:"wWiE03",defaultMessage:"Add details about your change request"}),betaBadgeLabel:e.formatMessage({id:"HA3jPv",defaultMessage:"Beta"})}}(),q=p.logger,k="approval-respond-form__details-input";a.React$1.useEffect((()=>{q.logShownRespondForm(d,u)}),[d,u]);const w=()=>{M(!1),A(!0);const e={type:"approval",status:R?"approved":"rejected",requester_email:null==m?void 0:m.approvalMetadata.requester_email,approval_type:"response",actor:"approver",approvers:null==m?void 0:m.approvalMetadata.approvers,requires_all:null==m?void 0:m.approvalMetadata.requires_all};m?p.editApprovalResponse(d,m.commentId,R,g).then((()=>{q.logApprovalResponseResubmitSuccess(d,u,e.status,g.length),r&&r(m.commentId,u,{text:g,metadata:[e]})})).catch((()=>{M(!0),A(!1)})):p.respondToApprovalRequest(d,u,R,g).then((()=>{o&&o({text:g,metadata:[e]},u),q.logSubmitResponseSuccess(e.status,d,u,g.length)})).catch((()=>{M(!0),A(!1)}))},P=R||void 0!==R&&!!g,z=e=>a.React$1.createElement(t.Button,{onClick:w,variant:"primary",size:"small",disabled:e,className:n.classes.approvalFormFooterPrimaryAction,isLoading:E},y),O=e=>{q.logApproveChipClick(d,u,e),h(e)};return a.React$1.createElement("div",{className:t.classnames(n.classes.approvalForm,{[n.classes.inlineWithComments]:c}),ref:$},a.React$1.createElement("div",{className:n.classes.approvalFormTitle},a.React$1.createElement(t.Avatar,{src:i.photoUrl,backgroundColor:t.avatarColorForUserIdentifier(i.initials),hasNoOutline:!0,size:"small",style:{marginRight:"6px"}},i.initials),a.React$1.createElement(t.Text,{isBold:!0,tagName:"h1"},C),a.React$1.createElement(t.AccessoryBadge,null,N)),a.React$1.createElement("div",{className:n.classes.approvalFormBody},a.React$1.createElement("div",{className:n.classes.approvalRespondFormActionChipsGroup},a.React$1.createElement(t.FilterChip,{className:R?n.classes.approveActionSelected:void 0,isSelected:R,onClick:()=>O(!0),withIconLeft:a.React$1.createElement("div",{className:n.classes.approvalRespondFormIconContainer},a.React$1.createElement(t.UIIcon,{size:"small",src:t.CheckmarkCircleLine})),size:"small"},_),a.React$1.createElement(l.Spacer,{multiplier:2}),a.React$1.createElement(t.FilterChip,{className:!1===R?n.classes.rejectActionSelected:void 0,isSelected:!1===R,onClick:()=>O(!1),withIconLeft:a.React$1.createElement("div",{className:n.classes.approvalRespondFormIconContainer},a.React$1.createElement(t.UIIcon,{size:"small",src:t.WarningLine})),size:"small"},F)),a.React$1.createElement(l.Spacer,{multiplier:2}),a.React$1.createElement(s.FormLabel,{htmlFor:k},a.React$1.createElement(t.Text,{isBold:!0,size:"small",tagName:"label"},B)),a.React$1.createElement(t.TextArea,{className:n.classes.approvalFormsTextArea,id:k,placeholder:S,"aria-label":S,value:g,onChange:e=>{f(e.currentTarget.value)}}),b&&a.React$1.createElement(s.FormHelperText,{variant:"alert"},L)),a.React$1.createElement("div",{className:n.classes.approvalFormFooter},a.React$1.createElement(t.Button,{onClick:()=>{e&&(q.logRespondFormCancelClick(d),e())},variant:"transparent",size:"small",disabled:E},T),P?z(!1):a.React$1.createElement(t.Tooltip,{title:null==R?I:R||g?null:x,placement:"top-start",auto:!0,boundary:$},a.React$1.createElement("span",{style:{display:"inline-block"},tabIndex:0},z(!0)))))};u.displayName="ApprovalRespondFormInternal";const m=e=>a.React$1.createElement(i.Provider,{value:e.intl},a.React$1.createElement(u,Object.assign({},e)));var v;m.displayName="ApprovalRespondForm",function(e){e.SetApprovalForm="@@approval/setApprovalForm"}(v||(v={}));const g=({open:e,onRequestClose:l,onSubmit:r,onBackButtonClick:s,ioClient:i})=>{const{feedbackModalTitle:c,radioButtonTitle:p,radioButtonYesLabel:d,radioButtonNoLabel:u,textAreaYesTitle:m,textAreaNoTitle:v,backButtonLabel:g,submitFeedbackButtonLabel:f,textAreaPlaceholderTitle:R}=function(){const e=t.useIntl();return{feedbackModalTitle:e.formatMessage({id:"0/HL+Q",defaultMessage:"What do you think of approval requests?"}),radioButtonTitle:e.formatMessage({id:"ftYhEs",defaultMessage:"Is this feature helpful?"}),radioButtonYesLabel:e.formatMessage({id:"mU1MrK",defaultMessage:"Yes"}),radioButtonNoLabel:e.formatMessage({id:"s6xbpD",defaultMessage:"No"}),textAreaYesTitle:e.formatMessage({id:"iX7U41",defaultMessage:"What suggestions do you have to make it better?"}),textAreaNoTitle:e.formatMessage({id:"ZVfnJI",defaultMessage:"What could make this feature more helpful to you?"}),textAreaPlaceholderTitle:e.formatMessage({id:"Ttsb+L",defaultMessage:"Let us know what you think here"}),backButtonLabel:e.formatMessage({id:"zEvexQ",defaultMessage:"Back"}),submitFeedbackButtonLabel:e.formatMessage({id:"F2GxG/",defaultMessage:"Submit"})}}(),[h,b]=a.react.exports.useState(!0),[M,E]=a.react.exports.useState("");return a.React$1.createElement(t.Modal,{open:e,isCentered:!0,withCloseButton:"Close",onRequestClose:l},a.React$1.createElement(t.Modal.Header,{hasBottomSpacing:"title-standard"},a.React$1.createElement(t.Modal.Title,null,c)),a.React$1.createElement(t.Modal.Body,null,p,a.React$1.createElement("div",{className:n.classes.feedbackMenuRadioButtons},a.React$1.createElement(o.RadioButton,{id:"approval-is-helpful",checked:h,onChange:()=>b(!0)}),a.React$1.createElement(t.Label,{htmlFor:"approval-is-helpful"},d),a.React$1.createElement(o.RadioButton,{id:"approval-is-not-helpful",checked:!h,onChange:()=>b(!1)}),a.React$1.createElement(t.Label,{htmlFor:"approval-is-not-helpful"},u)),h?m:v,a.React$1.createElement("div",{className:n.classes.feedbackMenuTextArea},a.React$1.createElement(t.TextArea,{placeholder:R,maxLength:5e3,onChange:e=>{E(e.currentTarget.value)}})),a.React$1.createElement(t.Text,{size:"small",color:"faint"},M.length,"/5000")),a.React$1.createElement(t.Modal.Footer,null,s&&a.React$1.createElement(t.Button,{variant:"opacity",onClick:s},g),a.React$1.createElement(t.Button,{variant:"primary",onClick:()=>{r(),i.logApprovalsFeedback(h,M)}},f)))};const f=({file:e,ioClient:l,multiApprovers:o=!1,onRequestClose:i,onSubmit:p,onSubmitFailure:d,onSubmitSuccess:u,open:m,showFeedbackButton:v=!1})=>{const f=t.useIntl(),[R,h]=a.react.exports.useState(!1),b=l.logger;a.React$1.useEffect((()=>{b.logShownRequestForm(e.id,"request_approval_modal")}),[e.id]);const{canSubmit:M,detailsInputValue:E,handleDetailsChange:A,handleNeedsAllApproversChange:$,handleRecipientsChange:C,handleSubmit:y,needsAllApprovers:T,onQueryChange:B,recipientNumLimit:S,recipients:_,renderTypeaheadSuggestion:F,requestPending:L,suggestions:I}=c({fileId:e.id,ioClient:l,multiApprovers:o,onCreate:p,onCreateFailure:d,onCreateSuccess:u,actionSurface:"request_approval_modal"}),{modalHeaderSubtitle:x,closeButtonLabel:N,feedbackButtonLabel:q,cancelButtonLabel:k,submitButtonLabel:w,modalBodyTitle:P,detailsInputLabel:z,detailsInputPlaceholder:O,approverInputPlaceholder:U,approverInputTooltipTitle:V,singleApproverInputLabel:H,multiApproverInputLabel:j}=function(e){const a=t.useIntl();return{feedbackButtonLabel:a.formatMessage({id:"ivQ2Ac",defaultMessage:"Share feedback"}),cancelButtonLabel:a.formatMessage({id:"wCMmYo",defaultMessage:"Cancel"}),submitButtonLabel:a.formatMessage({id:"c/mz8E",defaultMessage:"Send"}),closeButtonLabel:a.formatMessage({id:"OS5Xe5",defaultMessage:"Close"}),modalHeaderSubtitle:e.modifiedBy?a.formatMessage({id:"RzXKqn",defaultMessage:"Last edited by {modifiedBy} at {modifiedAt}"},{modifiedBy:e.modifiedBy,modifiedAt:e.modifiedAt}):a.formatMessage({id:"s0jdsx",defaultMessage:"Last edited by you at {modifiedAt}"},{modifiedAt:e.modifiedAt}),modalBodyTitle:a.formatMessage({id:"6ta9rl",defaultMessage:"Get approval"}),detailsInputLabel:a.formatMessage({id:"DjtbhT",defaultMessage:"Message"}),detailsInputPlaceholder:a.formatMessage({id:"A62fV9",defaultMessage:"Add a note about what you need approved."}),approverInputPlaceholder:a.formatMessage({id:"0rnwy6",defaultMessage:"Add an email or name"}),approverInputTooltipTitle:a.formatMessage({id:"+lp2vo",defaultMessage:"Approvers are sent an email with your message and a link to the file."}),singleApproverInputLabel:a.formatMessage({id:"zha+hc",defaultMessage:"Approver"}),multiApproverInputLabel:a.formatMessage({id:"gdOMIk",defaultMessage:"Approver(s)"})}}(e),D=a.react.exports.useCallback((()=>{h(!0)}),[]),Y=a.react.exports.useCallback((()=>{b.logRequestFormCancelClick(e.id,"request_approval_modal"),l.trackUserSurveyEvent("approval_request_abandoned"),i()}),[e.id,l,b,i]);return a.React$1.createElement(a.React$1.Fragment,null,a.React$1.createElement(t.Modal,{open:m&&!R,isCentered:!0,withCloseButton:N,onRequestClose:Y,width:540},a.React$1.createElement("div",{className:n.classes.approvalModalContentWrapper},a.React$1.createElement(t.Modal.Header,{hasBottomSpacing:"title-standard",className:n.classes.approvalModalHeader},a.React$1.createElement(t.FileIcon$1,{extension:e.name.split(".").pop()||"",size:"small"}),a.React$1.createElement("div",{className:n.classes.approvalModalTitlesWrapper},a.React$1.createElement("p",{className:n.classes.approvalModalHeaderTitle},a.React$1.createElement(t.Text,{variant:"paragraph",size:"standard",isBold:!0},e.name)),null!==e.modifiedBy&&a.React$1.createElement("p",{className:n.classes.approvalModalHeaderSubtitle},a.React$1.createElement(t.Text,{variant:"label",size:"small"},x)))),a.React$1.createElement(t.Modal.Body,{className:n.classes.approvalModalBody},a.React$1.createElement(t.Title,{className:n.classes.approvalModalBodyTitle},P),a.React$1.createElement(s.FormRow,null,a.React$1.createElement(r.ContactTypeahead,{placeholder:U,recipients:_,onRecipientsChange:C,onTypeAheadSelection:a=>{b.logAddApprover(e.id,"request_approval_modal",a.dbx_account_id)},suggestions:I,onQueryChange:B,renderTypeaheadSuggestion:F,recipientNumLimit:S,label:o?j:H,labelSubtext:a.React$1.createElement(t.Tooltip,{title:V,placement:"right"},a.React$1.createElement("div",{className:n.classes.approvalModalApproverInputTooltip},a.React$1.createElement(t.UIIcon,{src:t.HelpLine}))),onFocus:()=>{b.logFocusApproverTypeahead(e.id,"request_approval_modal")},maxNumTooltip:f.formatMessage({id:"w7qLQr",defaultMessage:"You can only have {recipientNumLimit, plural, one {# approver} other {# approvers}} per request"},{recipientNumLimit:S})})),o&&_.length>1?a.React$1.createElement(n.ApprovalTypeRadioButtonGroup,{className:n.classes.approvalModalRadioButtonGroup,needsAllApprovers:T,onChange:$}):null,a.React$1.createElement(s.FormRow,null,a.React$1.createElement(s.FormLabel,{htmlFor:"approval-request-modal__details-input"},a.React$1.createElement(t.Text,{isBold:!0,size:"small",tagName:"label"},z)),a.React$1.createElement(t.TextArea,{className:n.classes.approvalFormsTextArea,id:"approval-request-modal__details-input",placeholder:O,"aria-label":O,value:E,onChange:A}))),a.React$1.createElement(t.Modal.Footer,{className:n.classes.approvalModalFooter},v&&a.React$1.createElement(t.Button,{variant:"transparent",onClick:D},q),a.React$1.createElement(t.Button,{variant:"opacity",onClick:Y},k),a.React$1.createElement(t.Button,{disabled:!M,isLoading:L,variant:"primary",onClick:y},w)))),v&&a.React$1.createElement(g,{open:m&&R,onRequestClose:()=>h(!1),onBackButtonClick:()=>h(!1),onSubmit:()=>h(!1),ioClient:l}))};f.displayName="ApprovalRequestModal",e.ApprovalRequestForm=d,e.ApprovalRequestModal=f,e.ApprovalRespondForm=m,e.approvalReducer=(e={},{type:a,payload:t})=>a===v.SetApprovalForm?Object.assign(Object.assign({},e),t):e,e.setApprovalForm=function(e){return{type:v.SetApprovalForm,payload:e}}}));
//# sourceMappingURL=c_components_approval-forms_approval_request_modal.js-vflyrPk44.map
