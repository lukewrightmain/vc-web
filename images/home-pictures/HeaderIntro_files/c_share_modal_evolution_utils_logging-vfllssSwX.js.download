define(["exports","./c_src_utils_logging"],(function(e,n){"use strict";function i(e){const i=new URL(e);if(-1!==i.search.indexOf("rlkey")){const e=i.searchParams.get("rlkey");return{kind:n.LinkKeyTypes.RL,val:e,link_type:n.LinkTypes.Righteous}}if(-1!==i.pathname.indexOf("/s/")||-1!==i.pathname.indexOf("/sh/")){const e=e=>e.pathname.indexOf("/raw/")*e.pathname.indexOf("/dl/")*e.pathname.indexOf("/print/")>0,t=e(i)?3:2,a=i.pathname.split("/")[t];return{kind:n.LinkKeyTypes.SH,val:a,link_type:n.LinkTypes.Shmodel}}return{kind:n.LinkKeyTypes.NONE,val:"",link_type:n.LinkTypes.NONE}}function t(e){if(!e)return{};const t={link_id:e.id,link_access_level:(a=e.link_permissions.link_access_level,a?a.hasOwnProperty(".tag")?a[".tag"]:a:n.AccessType.Viewer)};var a;const s=i(e.url);return s.kind!==n.LinkKeyTypes.NONE&&(t[s.kind]=s.val,t.link_type=s.link_type),t}e.buildExtraFromLinkMetadata=t,e.buildExtraFromMetadata=function(e,i){return Object.assign(Object.assign({},function(e){return{user_access_type:e.access_type,is_folder:e.isFolder(),fq_path:e.path_lower,content_id:e.contentId(),ns_id:e.nsId(),can_create_edit_link:e.canCreateEditLink(),can_create_view_link:e.canCreateViewLink(),can_edit_inband_invite:e.canEditInbandInvite(),can_view_inband_invite:e.canViewInbandInvite(),max_access:e.canCreateEditLink()||e.canEditInbandInvite()?n.AccessType.Editor:n.AccessType.Viewer}}(e)),t(i))},e.getLinkKey=i}));
//# sourceMappingURL=c_share_modal_evolution_utils_logging.js-vflJ2Li5G.map
