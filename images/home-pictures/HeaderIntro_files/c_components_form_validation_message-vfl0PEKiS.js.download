define(["exports","./e_ui_page_files_router","./e_edison","./c_hooks_lib_index","./c_sharing_settings_utils_sharing_settings_util","./c_components_icons_icon_dropdown_selected","./c_truncate_index","./c_components_sharing_modal_banner","./c_controls_index","./c_tslib","./c_ui-icon_line_settings","./c_core_i18n","./c_src_utils_logging","./c_es_src_dropbox","./c_browser_cookies","./c_ui-icon_line_edit","./c_ui-icon_line_show","./c_typeahead_index"],(function(e,t,a,s,n,r,i,o,c,l,d,g,p,m,u,_,h,E){"use strict";const f="expires",b="allow_download",S="default",A="audience",v="require_password",x="dropdown",T="toggle",M="button";class k extends a.react.exports.Component{render(){const e=this.props.optionsDict[this.props.currentValue].label;return a.react.exports.createElement(t.Menu.Wrapper,{className:"sharing-settings-dropdown",onSelection:e=>{e!==this.props.currentValue&&this.props.onValueSelected(e)}},(({getContentProps:s,getTriggerProps:n})=>a.react.exports.createElement(a.react.exports.Fragment,null,a.react.exports.createElement(t.Button,Object.assign({},n(),{withDropdownIcon:!0,variant:"opacity",disabled:this.props.disabled}),a.react.exports.createElement(i.Truncate,{maxWidth:180},e)),a.react.exports.createElement(t.Menu.Content,Object.assign({"data-sharing-sdk":"1"},s()),a.react.exports.createElement(t.Menu.Segment,null,this.props.valuesList.map((e=>a.react.exports.createElement(t.Menu.ActionItem,{key:e,value:e,"aria-label":this.props.optionsDict[e].label,className:e===this.props.currentValue?"selected":""},a.react.exports.createElement("div",{style:{width:"250px",marginBottom:"8px"}},a.react.exports.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},e===this.props.currentValue?a.react.exports.createElement(r.IconDropdownSelected,{className:"scl-sharing-dropdown-menu-item-dig__path-color"}):null,a.react.exports.createElement(t.Text,{isBold:!0,className:e===this.props.currentValue?"scl-sharing-dropdown-menu-item-dig__selected-color":"",style:{marginLeft:e===this.props.currentValue?"12px":"24px"}},this.props.optionsDict[e].label)),a.react.exports.createElement("div",{style:{marginLeft:"24px",marginTop:"4px"}},a.react.exports.createElement(t.Text,{color:"faint",size:"small",tagName:"div",style:{lineHeight:"18px"}},this.props.optionsDict[e].description)))))))))))}}k.displayName="SettingDropdown";class C extends a.react.exports.PureComponent{constructor(){super(...arguments),this.handleLinkClicked=e=>{e.preventDefault(),this.props.descriptionLinkOnClicked&&this.props.descriptionLinkUrl&&this.props.descriptionLinkOnClicked(this.props.descriptionLinkUrl)}}render(){const{policyFieldName:e,className:s,rightSideElement:n,bottomElement:r}=this.props,i=t.classnames("scl-sharing-modal-settings-row",s);return a.react.exports.createElement("div",{className:i,"data-testid":e},a.react.exports.createElement("div",{className:"scl-sharing-modal-settings-row-outer"},a.react.exports.createElement("div",{className:"scl-sharing-modal-settings-row-info"},a.react.exports.createElement("div",{className:"scl-sharing-modal-settings-row-display-name"},a.react.exports.createElement("span",{className:"scl-sharing-modal-settings-row-info-display-name-title",title:this.props.displayNameTitle},this.props.displayName)),a.react.exports.createElement("div",{className:"scl-sharing-modal-settings-row-details"},a.react.exports.createElement("span",{className:"scl-sharing-modal-settings-row-details-span",title:this.props.description},this.props.description,this.props.descriptionLinkUrl&&this.props.descriptionLinkText&&a.react.exports.createElement("span",null," ",a.react.exports.createElement("a",{className:"scl-sharing-modal-settings-row-description-link",href:"#",onClick:this.handleLinkClicked},this.props.descriptionLinkText))))),n&&a.react.exports.createElement("div",{className:"scl-sharing-modal-settings-right-element"},n)),r&&a.react.exports.createElement("div",{className:"scl-sharing-modal-settings-bottom-element"},r))}}C.displayName="SharingModalSettingsRow";const y="scl-card";class O extends a.react.exports.PureComponent{render(){const{className:e}=this.props,s=t.classnames(y,e);return a.react.exports.createElement("div",{className:s},this.renderHeader(),this.renderBody())}renderHeader(){if(this.props.icon||this.props.title||this.props.actions)return a.react.exports.createElement("div",{className:"scl-card__header"},this.props.icon&&a.react.exports.createElement("div",{className:"scl-card__icon"},this.props.icon),this.props.title&&a.react.exports.createElement("div",{className:"scl-card__title"},this.props.title),this.props.actions&&a.react.exports.createElement("div",{className:"scl-card__actions"},this.props.actions))}renderBody(){return a.react.exports.createElement("div",{className:"scl-card__body"},this.props.children)}}O.displayName="Card";const N=e=>{const{policyName:t,policyDict:s,selector:n,onLinkClicked:r,extra:i,className:o}=e;return a.react.exports.createElement(C,{policyFieldName:t,key:s.title,displayName:s.title,displayNameTitle:s.title,description:s.description,descriptionLinkUrl:s.descriptionLinkUrl,descriptionLinkText:s.descriptionLinkText,descriptionLinkOnClicked:r,rightSideElement:n,bottomElement:i,className:o})};let I;const w=e=>{const s=a.react.exports.useMemo((()=>(I++,`settings-toggle-id-${I}`)),[]),{currentValue:n,optionsDict:r,disabled:i}=e,o=r[n].label;return a.react.exports.createElement(a.react.exports.Fragment,null,a.react.exports.createElement("p",{style:{display:"flex",justifyContent:"flex-end"}},a.react.exports.createElement(t.Text,{tagName:"label",color:"faint",style:{marginRight:"8px"},htmlFor:s},o),a.react.exports.createElement(c.Toggle,{id:s,"aria-label":r[n].label,className:"sharing-settings-modal__toggle",isToggled:r[n].value,disabled:i,onChange:t=>{i||e.onOptionChange(!r[n].value,t)}})))},L=e=>{const{intl:t,linkMetadata:r,linkPolicy:i,onPolicyUpdate:o}=e,c=(e=>{const{linkMetadata:t,linkPolicy:a}=e,s=new Date;let r;if(n.isExternalAudience(a.audience)){const{days_to_expire_policy:e}=t.link_permissions;n.isExpirationPolicyEnforcedByAdmin(t.link_permissions)&&(r=new Date(s.getFullYear(),s.getMonth(),s.getDate()+n.daysExpirationPolicyToNumber[e]))}return{before:new Date(s.getFullYear(),s.getMonth(),s.getDate()+1),after:r}})(e),l=i.expires||new Date;return a.react.exports.createElement("div",{className:"sharing-settings-modal__input_spacing"},a.react.exports.createElement(s.DatePickerInput,{value:l,disabled:!n.canModifyExpire(r)||e.readOnlyPolicy,isDateBlocked:e=>e<c.before||!!(c.after&&e>c.after),onChange:e=>{e&&o({expires:e,display_expiration_warning:!1})},dayLabelFormat:a.react.exports.useCallback((e=>t.formatDate(e,{day:"2-digit"})),[t]),monthLabelFormat:e=>t.formatDate(e,{month:"long",year:"numeric"}),weekdayLabelFormat:e=>t.formatDate(e,{weekday:"narrow"})}))},R=e=>{const{linkPolicy:t,linkMetadata:s,getPolicyDict:r,onPolicyUpdate:i}=e,o=r(f),c=null!=e.linkPolicy.expires?"enabled":"disabled",{days_to_expire_policy:l}=s.link_permissions;return a.react.exports.createElement(w,{currentValue:c,optionsDict:o.optionsDict,onOptionChange:(e,a)=>{let r=null;e&&(r=t.expires,t.expires||(r=n.daysAfterToday(n.isExternalAudience(t.audience)&&n.isExpirationPolicySetByAdmin(s.link_permissions)?n.daysExpirationPolicyToNumber[l]:30))),i({expires:r,display_expiration_warning:!1})},disabled:D(s,t)||e.readOnlyPolicy})},D=(e,t)=>!n.canToggleExpire(e)||n.isExternalAudience(t.audience)&&n.isExpirationPolicyEnforcedByAdmin(e.link_permissions),P=(e,t)=>n.isPasswordPolicyEnforcedByAdmin(e)&&n.isExternalAudience(t);function j(e,t){return t.link_password||""===t.link_password?t.link_password:n.hasLinkPassword(e)?"123456":""}const F=e=>{const{intl:s,linkPolicy:r,linkPermissions:i,onPolicyUpdate:o}=e;return a.react.exports.createElement("div",{className:"sharing-settings-modal__input_spacing"},a.react.exports.createElement(t.TextInput,{role:"textbox",autoFocus:!0,className:"password-input__input",disabled:!n.canModifyPassword(i)||e.readOnlyPolicy,placeholder:s.formatMessage({id:"um5odk",defaultMessage:"Set password"}),name:"link_password",onChange:e=>{o({[e.target.name]:e.target.value})},type:"password",isInvalid:!r.link_password,value:j(i,r)}))};class ${constructor(e){if(!(this instanceof $))return new $(e);this.s=e,this.info=this.widthInfo(),this.length=e.length?this.info[this.s.length-1]:0}static initClass(){this.ACCURACY=2,this.CODEPOINT_TO_WIDTH={32:38,33:25,34:42,35:67,36:58,37:92,38:75,39:25,40:33,41:33,42:58,43:58,44:25,45:33,46:25,47:42,48:58,49:58,50:58,51:58,52:58,53:58,54:58,55:58,56:58,57:58,58:25,59:25,60:58,61:58,62:58,63:50,64:100,65:67,66:67,67:67,68:75,69:58,70:58,71:75,72:83,73:33,74:25,75:67,76:58,77:100,78:83,79:83,80:67,81:83,82:67,83:58,84:58,85:75,86:67,87:100,88:67,89:58,90:58,91:33,92:42,93:33,94:58,95:50,96:67,97:58,98:67,99:50,100:67,101:58,102:33,103:58,104:67,105:25,106:25,107:58,108:25,109:100,110:67,111:67,112:67,113:67,114:42,115:50,116:42,117:67,118:58,119:83,120:58,121:58,122:50,123:42,124:58,125:42,126:58,161:25,162:58,163:58,164:58,165:58,166:58,167:58,168:67,169:92,170:42,171:50,172:58,174:92,175:58,176:50,177:58,178:42,179:42,180:67,181:67,182:75,183:25,184:25,185:42,186:42,187:50,188:83,189:83,190:83,191:50,192:67,193:67,194:67,195:67,196:67,197:67,198:92,199:67,200:58,201:58,202:58,203:58,204:33,205:33,206:33,207:33,208:75,209:83,210:83,211:83,212:83,213:83,214:83,215:58,216:83,217:75,218:75,219:75,220:75,221:58,222:67,223:67,224:58,225:58,226:58,227:58,228:58,229:58,230:92,231:50,232:58,233:58,234:58,235:58,236:25,237:25,238:25,239:25,240:67,241:67,242:67,243:67,244:67,245:67,246:67,247:58,248:67,249:67,250:67,251:67,252:67,253:58,254:67,255:58,256:75,257:67,258:75,259:67,260:75,261:67,262:75,263:58,264:75,265:58,266:75,267:58,268:75,269:58,270:83,271:83,272:83,273:75,274:67,275:67,276:67,277:67,278:67,279:67,280:67,281:67,282:67,283:67,284:83,285:75,286:83,287:75,288:83,289:75,290:83,291:75,292:83,293:75,294:92,295:75,296:33,297:33,298:33,299:33,300:33,301:33,302:33,303:33,304:33,305:25,306:67,307:67,308:42,309:33,310:75,311:67,312:67,313:58,314:33,315:58,316:33,317:58,318:42,319:58,320:50,321:67,322:42,323:83,324:75,325:83,326:75,327:83,328:75,329:83,330:83,331:75,332:92,333:67,334:92,335:67,336:92,337:67,338:100,339:100,340:75,341:50,342:75,343:50,344:75,345:50,346:67,347:58,348:67,349:58,350:67,351:58,352:67,353:58,354:75,355:42,356:75,357:42,358:75,359:42,360:83,361:75,362:83,363:75,364:83,365:75,366:83,367:75,368:83,369:75,370:83,371:75,372:100,373:92,374:75,375:58,376:75,377:67,378:67,379:67,380:67,381:67,382:67,383:42,384:75,385:83,386:67,387:75,388:75,389:67,390:75,391:83,392:58,393:83,394:100,395:67,396:75,397:67,398:67,399:75,400:58,401:58,402:75,403:83,404:75,405:100,406:50,407:50,408:75,409:67,410:50,411:67,412:117,413:83,414:75,415:92,416:92,417:75,418:117,419:100,420:75,421:75,422:75,423:67,424:58,425:67,426:58,427:42,428:75,429:42,430:75,431:83,432:75,433:92,434:83,435:75,436:75,437:67,438:67,439:67,440:67,441:58,442:58,443:75,444:75,445:58,446:50,447:67,448:33,449:50,450:50,451:33,452:142,453:142,454:133,455:100,456:92,457:67,458:117,459:117,460:100,461:75,462:67,463:33,464:33,465:92,466:67,467:83,468:75,469:83,470:75,471:83,472:75,473:83,474:75,475:83,476:75,477:67,478:75,479:67,480:75,481:67,482:100,483:100,484:92,485:75,486:83,487:75,488:75,489:67,490:92,491:67,492:92,493:67,494:67,495:58,496:33,497:142,498:142,499:133,500:83,501:75,502:117,503:67,504:83,505:75,506:75,507:67,508:100,509:100,510:92,511:67,512:75,513:67,514:75,515:67,516:67,517:67,518:67,519:67,520:33,521:33,522:33,523:33,524:92,525:67,526:92,527:67,528:75,529:50,530:75,531:50,532:83,533:75,534:83,535:75,536:67,537:58,538:75,539:42,540:58,541:58,542:83,543:75,544:83,545:100,546:92,547:67,548:67,549:67,550:75,551:67,552:67,553:67,554:92,555:67,556:92,557:67,558:92,559:67,560:92,561:67,562:75,563:58,564:67,565:100,566:67,567:33,568:100,569:100,570:75,571:75,572:58,573:58,574:67,575:58,576:58,577:67,578:50,579:75,580:75,581:75,582:75,583:58,584:58,585:25,586:83,587:58,588:75,589:33,590:75,591:58,880:67,881:50,882:67,883:50,884:33,885:33,886:75,887:67,888:108,889:108,890:67,891:58,892:58,893:58,894:42,895:108,896:108,897:108,898:108,899:108,900:67,901:67,902:75,903:42,904:83,905:100,906:58,907:108,908:100,909:108,910:100,911:100,912:42,913:75,914:67,915:58,916:83,917:67,918:67,919:83,920:92,921:33,922:75,923:75,924:100,925:83,926:75,927:92,928:83,929:67,930:108,931:67,932:75,933:75,934:83,935:75,936:83,937:92,938:33,939:75,940:83,941:58,942:75,943:42,944:67,945:83,946:67,947:67,948:67,949:58,950:75,951:75,952:67,953:42,954:67,955:67,956:75,957:67,958:67,959:67,960:92,961:67,962:67,963:75,964:67,965:67,966:92,967:67,968:92,969:100,970:42,971:67,972:67,973:67,974:100,975:108,976:58,977:75,978:75,979:100,980:75,981:92,982:100,983:67,984:92,985:67,986:75,987:58,988:58,989:58,990:67,991:58,992:75,993:92,994:100,995:92,996:75,997:58,998:75,999:58,1e3:75,1001:75,1002:67,1003:67,1004:83,1005:58,1006:50,1007:42,1008:67,1009:67,1010:58,1011:33,1012:92,1013:58,1014:58,1015:67,1016:67,1017:75,1018:100,1019:83,1020:58,1021:75,1022:75,1023:75,1024:67,1025:67,1026:92,1027:58,1028:75,1029:67,1030:33,1031:33,1032:42,1033:108,1034:108,1035:83,1036:75,1037:83,1038:75,1039:83,1040:75,1041:67,1042:67,1043:58,1044:83,1045:67,1046:92,1047:67,1048:83,1049:83,1050:75,1051:83,1052:100,1053:83,1054:92,1055:83,1056:67,1057:75,1058:75,1059:75,1060:83,1061:75,1062:83,1063:75,1064:108,1065:108,1066:75,1067:92,1068:67,1069:75,1070:108,1071:75,1072:67,1073:67,1074:58,1075:58,1076:75,1077:67,1078:83,1079:58,1080:75,1081:75,1082:67,1083:67,1084:83,1085:75,1086:67,1087:75,1088:75,1089:58,1090:58,1091:58,1092:92,1093:67,1094:75,1095:58,1096:92,1097:100,1098:67,1099:83,1100:58,1101:58,1102:92,1103:58,1104:67,1105:67,1106:75,1107:58,1108:58,1109:58,1110:33,1111:33,1112:42,1113:92,1114:92,1115:75,1116:67,1117:75,1118:58,1119:75,1120:100,1121:75,1122:75,1123:67,1124:83,1125:83,1126:75,1127:67,1128:100,1129:92,1130:92,1131:83,1132:117,1133:108,1134:67,1135:67,1136:83,1137:83,1138:92,1139:67,1140:83,1141:67,1142:83,1143:67,1144:133,1145:125,1146:92,1147:67,1148:100,1149:75,1150:100,1151:75,1152:75,1153:58,1154:75,1155:0,1156:0,1157:0,1158:0,1159:108,1160:0,1161:0,1162:83,1163:75,1164:67,1165:58,1166:67,1167:75,1168:58,1169:58,1170:67,1171:58,1172:75,1173:67,1174:100,1175:92,1176:67,1177:58,1178:75,1179:67,1180:83,1181:75,1182:75,1183:67,1184:83,1185:75,1186:83,1187:75,1188:100,1189:83,1190:117,1191:100,1192:92,1193:75,1194:75,1195:58,1196:75,1197:58,1198:75,1199:58,1200:75,1201:58,1202:75,1203:75,1204:100,1205:83,1206:75,1207:67,1208:75,1209:67,1210:75,1211:58,1212:92,1213:75,1214:92,1215:75,1216:33,1217:92,1218:83,1219:75,1220:67,1221:83,1222:67,1223:83,1224:75,1225:83,1226:75,1227:75,1228:58,1229:100,1230:83,1231:25,1232:75,1233:67,1234:75,1235:67,1236:100,1237:100,1238:67,1239:67,1240:75,1241:67,1242:75,1243:67,1244:92,1245:83,1246:67,1247:58,1248:67,1249:58,1250:83,1251:75,1252:83,1253:75,1254:92,1255:67,1256:92,1257:67,1258:92,1259:67,1260:75,1261:58,1262:75,1263:58,1264:75,1265:58,1266:75,1267:58,1268:75,1269:58,1270:58,1271:42,1272:92,1273:83,1274:58,1275:42,1276:75,1277:58,1278:75,1279:58,2026:67,19977:108,65403:58},this._ELLIPSIS_LENGTH=new $("…").length}static em_snippet(e,t,a){return null==t&&(t=50),null==a&&(a=.75),new $(e.toString()).snippet(t,a).toString()}widthInfo(){const e={"-1":0};for(let t=0,a=this.s.length,s=0<=a;s?t<a:t>a;s?t++:t--)e[t]=e[t-1]+this.ems(this.s.charAt(t));return e}findSpot(e){let t;if(!e)return 0;let a=0,s=this.s.length;for(;a<=s;){t=Math.floor(a/2+s/2);const n=this.info[t-1];if(n>e)s=t-1;else{if(!(n<e))return t;a=t+1}}return a>t?a:t}ems(e){const t=e.charCodeAt(0),a=$.CODEPOINT_TO_WIDTH[t];return a?a/Math.pow(10,$.ACCURACY):768<=t&&t<=879?0:65377<=t&&t<=65500?.58:11904<=t&&t<=40911||44032<=t&&t<=55215||4352<=t&&t<=4607||63744<=t&&t<=64255||65280<=t&&t<=65535||131072<=t&&t<=196607?1.08:.65}substr(e,t){const a=this.findSpot(e);if(null!=t){let s=this.findSpot(e+t);if(s-a<this.s.length){const e=this.s.charCodeAt(s-a);65024<=e&&e<=65039&&s--}return new $(this.s.substr(a,s-a))}return new $(this.s.substr(a))}toString(){return this.s}snippet(e=50,t=.75){if(this.length<=e)return this;const a=(e-=$._ELLIPSIS_LENGTH)*t,s=e-a,n=this.length-s,r=this.substr(0,a),i=this.substr(n);return new $(r.toString()+"…"+i.toString())}}$.initClass();class H extends a.react.exports.Component{render(){const e=this.props.linkPermissions.resolved_visibility,t=this.props.linkPermissions.audience_options[0].disallowed_reason;return t!==n.LinkAudienceDisallowedReason.RestrictedBySharedFolder&&t!==n.LinkAudienceDisallowedReason.DeleteAndRecreate?null:a.react.exports.createElement(o.SharingModalBanner,{className:"sharing-settings-modal__banner",type:"default",message:a.react.exports.createElement("span",null,a.react.exports.createElement("span",{className:"shared-link-settings-modal__audience-disallowed-text"},this.audienceDisallowedText(e))," ",a.react.exports.createElement("span",{className:"shared-link-settings-modal__audience-disallowed-advice u-font-meta"},this.audienceDisallowedAdviceText(t)))})}audienceDisallowedText(e){if(e===n.ResolvedVisibilityPolicy.shared_folder_only){let e=this.props.linkPermissions.restricting_shared_folder_path;return void 0!==e?(e=$.em_snippet(e,t.SNIPPET_SIZES.FILENAME),this.props.intl.formatMessage({id:"Wzk4tW",defaultMessage:"Only members of the shared folder “{shared_folder_name}” can view this link."},{shared_folder_name:e})):void 0}return e===n.ResolvedVisibilityPolicy.only_you?this.props.intl.formatMessage({id:"kp9e20",defaultMessage:"Only you can view this link."}):void 0}audienceDisallowedAdviceText(e){return e===n.LinkAudienceDisallowedReason.RestrictedBySharedFolder?this.props.intl.formatMessage({id:"D2VN2I",defaultMessage:"To change who can access the link, go to the shared folder options."}):e===n.LinkAudienceDisallowedReason.DeleteAndRecreate?this.props.intl.formatMessage({id:"HbDkss",defaultMessage:"To change who can access the link, delete this link and create a new one."}):void 0}}H.displayName="RestrictedVisibilityBanner";const V=e=>{const{linkPermissions:s,linkPolicy:r,getPolicyDict:i,onPolicyUpdate:o}=e,c=r.audience||"",l=s.audience_options.filter((e=>!((e,a)=>"public"===e&&n.isPasswordPolicyEnforcedByAdmin(a)&&!t.isRighteousLink(a))(e.audience,s)&&e.allowed)).map((e=>e.audience)),d=i(A),g=l.length>1;return a.react.exports.createElement(k,{currentValue:c,valuesList:l,optionsDict:d.optionsDict,onValueSelected:e=>{const t={audience:e};!function(e,t,a,s){if(n.isExternalAudience(e)){if(n.isExpirationPolicySetByAdmin(t)){const e=new Date,r=new Date(e.getFullYear(),e.getMonth(),e.getDate()+n.daysExpirationPolicyToNumber[t.days_to_expire_policy]);(!a.expires||a.expires>r)&&(s.expires=r,s.display_expiration_warning=!0)}n.isPasswordPolicyEnforcedByAdmin(t)&&!a.require_password&&(s.require_password=!0,"public"===e&&(s.display_password_warning=!0))}else s.display_expiration_warning=!1,s.display_password_warning=!1}(e,s,r,t),o(t)},disabled:!g||e.readOnlyPolicy})};function B(e){const t="password"===e.linkPolicy.audience;return a.react.exports.createElement("div",null,a.react.exports.createElement(V,Object.assign({},e)),t&&a.react.exports.createElement(F,Object.assign({},e)))}function U(e){return Boolean(e&&e.allow_download?e.can_disallow_download:e.can_allow_download)}const G=e=>{const{linkPolicy:t,onPolicyUpdate:s,getPolicyDict:n,linkPermissions:r}=e,i=t.allow_download?"disabled":"enabled",o=n(b);return a.react.exports.createElement(w,{currentValue:i,optionsDict:o.optionsDict,onOptionChange:(e,t)=>{s(b,!e)},disabled:!U(r)||e.readOnlyPolicy})},K={default:"transparent",active:"#D0D4D9",edit:"transparent",view:"transparent"},W=()=>a.react.exports.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.react.exports.createElement("g",{transform:"translate(-24.000000, -8.000000)"},a.react.exports.createElement("g",null,a.react.exports.createElement("g",{transform:"translate(24.000000, 8.000000)"},a.react.exports.createElement("circle",{stroke:"#D0D4D9",strokeWidth:"1.32",cx:"16",cy:"16",r:"15.34"}),a.react.exports.createElement("path",{d:"M21.0859375,13.1015625 L20.0195312,14.1679688 L17.8320312,11.9804688\n                L18.8984375,10.9140625 C19.007813,10.804687 19.1445304,10.75 19.3085938,10.75\n                C19.4726571,10.75 19.6093745,10.804687 19.71875,10.9140625 L21.0859375,12.28125\n                C21.195313,12.3906255 21.25,12.5273429 21.25,12.6914062 C21.25,12.8554696\n                21.195313,12.992187 21.0859375,13.1015625 Z M10.75,19.0625 L17.203125,12.609375\n                L19.390625,14.796875 L12.9375,21.25 L10.75,21.25 L10.75,19.0625 Z",fill:"#6A7C8F"}))))),z=()=>a.react.exports.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.react.exports.createElement("g",{transform:"translate(-24.000000, -8.000000)"},a.react.exports.createElement("g",null,a.react.exports.createElement("g",{transform:"translate(24.000000, 8.000000)"},a.react.exports.createElement("circle",{stroke:"#D0D4D9",strokeWidth:"1.32",cx:"16",cy:"16",r:"15.34"}),a.react.exports.createElement("path",{d:"M14.7695312,14.7695312 C15.1158871,14.4231754 15.5260393,14.25 16,14.25\n                  C16.4739607,14.25 16.8841129,14.4231754 17.2304688,14.7695312 C17.5768246,\n                  15.1158871 17.75,15.5260393 17.75,16 C17.75,16.4739607 17.5768246,16.8841129\n                  17.2304688,17.2304688 C16.8841129,17.5768246 16.4739607,17.75 16,17.75 C15.5260393,\n                  17.75 15.1158871,17.5768246 14.7695312,17.2304688 C14.4231754,16.8841129 14.25,\n                  16.4739607 14.25,16 C14.25,15.5260393 14.4231754,15.1158871 14.7695312,14.7695312\n                  Z M13.921875,18.078125 C14.5052113,18.643232 15.1979127,18.9257812 16,18.9257812\n                  C16.8020873,18.9257812 17.4902315,18.6386747 18.0644531,18.0644531 C18.6386747,\n                  17.4902315 18.9257812,16.8020873 18.9257812,16 C18.9257812,15.1979127 18.6386747,\n                  14.5097685 18.0644531,13.9355469 C17.4902315,13.3613253 16.8020873,13.0742188 16,\n                  13.0742188 C15.1979127,13.0742188 14.5097685,13.3613253 13.9355469,13.9355469\n                  C13.3613253,14.5097685 13.0742188,15.1979127 13.0742188,16 C13.0742188,16.8020873\n                  13.356768,17.4947887 13.921875,18.078125 Z M12.0898438,12.828125 C13.2565163,\n                  12.0260377 14.5598886,11.625 16,11.625 C17.4401114,11.625 18.7434837,12.0260377\n                  19.9101562,12.828125 C21.0768288,13.6302123 21.915362,14.6874934 22.4257812,16\n                  C21.915362,17.3125066 21.0768288,18.3697877 19.9101562,19.171875 C18.7434837,\n                  19.9739623 17.4401114,20.375 16,20.375 C14.5598886,20.375 13.2565163,19.9739623\n                  12.0898438,19.171875 C10.9231712,18.3697877 10.084638,17.3125066 9.57421875,\n                  16 C10.084638,14.6874934 10.9231712,13.6302123 12.0898438,12.828125 Z",fill:"#667C91"}))))),q=()=>a.react.exports.createElement("g",{fill:"#6A7C8F",transform:"translate(16.071068, 16.071068) rotate(-315.000000)\n                  translate(-16.071068, -16.071068) translate(13.071068, 9.071068)"},a.react.exports.createElement("path",{d:"M5.98487348,4.76239943 L4.58487348,4.76239943 L4.58487348,3.36107038\n                      C4.58487348,2.58309388 3.95807213,1.96239943 3.18487348,1.96239943\n                      C2.40628423,1.96239943 1.78487348,2.58860575 1.78487348,3.36107038\n                      L1.78487348,6.16372849 C1.78487348,6.94170499 2.41167483,7.56239943\n                      3.18487348,7.56239943 L3.18487348,8.96239943 C1.63847618,8.96239943\n                      0.384873479,7.70483456 0.384873479,6.16532106 L0.384873479,3.3594778\n                      C0.384873479,1.81469408 1.64162279,0.562399434 3.18487348,0.562399434\n                      C4.73127078,0.562399434 5.98487348,1.81996431 5.98487348,3.3594778\n                      L5.98487348,4.76239943 Z"}),a.react.exports.createElement("path",{d:"M0.384873479,9.66239943 L1.78487348,9.66239943 L1.78487348,11.0637285\n                      C1.78487348,11.841705 2.41167483,12.4623994 3.18487348,12.4623994\n                      C3.96346273,12.4623994 4.58487348,11.8361931 4.58487348,11.0637285\n                      L4.58487348,8.26107038 C4.58487348,7.48309388 3.95807213,6.86239943\n                      3.18487348,6.86239943 L3.18487348,5.46239943 C4.73127078,5.46239943\n                      5.98487348,6.71996431 5.98487348,8.2594778 L5.98487348,11.0653211\n                      C5.98487348,12.6101048 4.72812417,13.8623994 3.18487348,13.8623994\n                      C1.63847618,13.8623994 0.384873479,12.6048346 0.384873479,11.0653211\n                      L0.384873479,9.66239943 Z"})),Z=e=>{var{className:s}=e,n=l.__rest(e,["className"]);return a.react.exports.createElement("div",Object.assign({className:t.classnames("scl-scooter-loader",s)},n),a.react.exports.createElement("div",{className:"scl-scooter-loader-animation"}))};Z.displayName="ScooterLoader";const Y="scl-banner";class X extends a.react.exports.PureComponent{render(){const{variant:e="default",className:s,showTopCaret:n,children:r}=this.props,i=t.classnames(Y,s,{"scl-banner--transparent-left":"transparent-left"===e});return a.react.exports.createElement("div",{className:i},n&&a.react.exports.createElement("div",{className:"scl-banner__caret-up"}),a.react.exports.createElement("div",{className:"scl-banner__container"},r))}}X.displayName="Banner";const J="scl-sharing-modal-downgrade-banner";class Q extends a.react.exports.PureComponent{render(){const{subheader:e,header:s,onClickOutlineButton:n,onClickTransparentButton:r,outlineButtonLabel:i,transparentButtonLabel:o,showCloseButton:c}=this.props;return a.react.exports.createElement("div",{className:`${J} dig-Theme---VIS`},a.react.exports.createElement("div",{className:`${J}__header`},a.react.exports.createElement(t.Text,{isBold:!0,size:"large"},s),c&&this.renderCloseButton()),a.react.exports.createElement("div",{className:`${J}__subheader`},a.react.exports.createElement(t.Text,null,e)),a.react.exports.createElement("div",{className:`${J}__buttons`},a.react.exports.createElement(t.Button,{variant:"outline",onClick:n},i),a.react.exports.createElement(t.Button,{variant:"transparent",onClick:r},o)))}renderCloseButton(){return a.react.exports.createElement(t.IconButton,{variant:"transparent","aria-label":"close",className:`${J}__close`,onClick:this.props.onClickCloseButton,size:"standard"},a.react.exports.createElement(t.UIIcon,{src:t.CloseLine}))}}Q.displayName="SharingModalDowngradeBanner";const ee="scl-sharing-modal-header",te=e=>{const{children:s,className:n,closeButtonVisible:r=!1,icon:i,settingsButtonVisible:o=!1}=e,c=t.classnames(ee,n);return a.react.exports.createElement("div",{className:c},a.react.exports.createElement("div",{className:`${ee}__icon`},i),a.react.exports.createElement("div",{className:`${ee}__children`},s),o&&a.react.exports.createElement(t.IconButton,{"aria-label":"settings",className:`${ee}__settings`,onClick:e.onClickSettingsButton,variant:"transparent"},a.react.exports.createElement(t.UIIcon,{src:d.SettingsLine})),r&&a.react.exports.createElement(t.IconButton,{"aria-label":"close",className:`${ee}__close`,onClick:e.onClickCloseButton,variant:"transparent"},a.react.exports.createElement(t.UIIcon,{src:t.CloseLine})))},ae=e=>{{const{title:s,subTitle:n}=e,r=l.__rest(e,["title","subTitle"]);return a.react.exports.createElement(te,Object.assign({},r),a.react.exports.createElement(t.Text,{size:"standard",isBold:!0,className:`${ee}__title`},s),n&&a.react.exports.createElement("div",{className:`${ee}__sub-title`},n))}};ae.displayName="SharingModalHeaderTitle";const se=e=>{const{forwardedRef:s,inputAriaLabel:n,inputAutoFocus:r,defaultValue:i,inputPlaceholder:o,isContentNameFocused:c,onInputBlur:d,onInputChange:g,onInputFocus:p,onInputKeyUp:m}=e,u=l.__rest(e,["forwardedRef","inputAriaLabel","inputAutoFocus","defaultValue","inputPlaceholder","isContentNameFocused","onInputBlur","onInputChange","onInputFocus","onInputKeyUp"]);return a.react.exports.createElement(te,Object.assign({closeButtonVisible:!0},u),a.react.exports.createElement(t.TextInput,{style:c?void 0:{fontWeight:500},ref:e.forwardedRef,className:`${ee}__input`,"aria-label":n,autoFocus:r,onChange:g,onFocus:p,onBlur:d,onKeyUp:m,placeholder:o,defaultValue:i}),e.children)};se.displayName="SharingModalHeaderInput";const ne="scl-back-button",re=e=>{const{autoFocus:s,className:n,onBackButtonClick:r,label:i,icon:o}=e,c=t.classnames(ne,n);return a.react.exports.createElement("div",{className:c},a.react.exports.createElement(t.Button,{hasNoUnderline:!0,"aria-label":"settings",autoFocus:s,className:"scl-back-button__wrapper",onClick:r,variant:"transparent"},a.react.exports.createElement(t.UIIcon,{src:o,className:"scl-back-button__icon"}),a.react.exports.createElement("span",{className:"scl-back-button__label"},i)))},ie=e=>{const s=`${ee}--with-back-button`;return a.react.exports.createElement(te,Object.assign({className:s},e),a.react.exports.createElement(re,{autoFocus:e.autoFocus,onBackButtonClick:e.onClickBackButton,label:e.label,icon:t.ChevronLeftLine}))};ie.displayName="SharingModalHeaderWithBackButton";const oe=e=>{var{children:s,className:n,backgroundColor:r,avatarSize:i=32,variant:o,shape:c}=e,d=l.__rest(e,["children","className","backgroundColor","avatarSize","variant","shape"]);const g=t.classnames(`scl-sharing-avatar-initials-${i}-${c}`,{"scl-avatar-text-inactive":"inactive"===o,"scl-sharing-avatar-text":!0},n),p={background:`${r}`,border:`1px solid ${r}`,borderRadius:"square"===c?"12%":"50%",height:`${i}px`,width:`${i}px`};return a.react.exports.createElement("div",Object.assign({className:g,style:p},d),s)};oe.displayName="SharingAvatarInitials";const ce="scl-action-container";class le extends a.react.exports.Component{render(){const e=this.props,{banner:s,footer:n,children:r,className:i,header:o,headerSize:c,showBorder:d}=e,g=l.__rest(e,["banner","footer","children","className","header","headerSize","showBorder"]),p=t.classnames(i,ce,{[`${ce}--bordered`]:d});return a.react.exports.createElement("div",Object.assign({className:p},g),o&&a.react.exports.createElement("div",{className:`${ce}__header`},a.react.exports.createElement(t.Title,{size:c,isBold:!0},o)),s&&a.react.exports.createElement("div",{className:`${ce}__banner`},s),a.react.exports.createElement("div",{className:`${ce}__children`},r),n&&a.react.exports.createElement("div",{className:`${ce}__footer`},n))}}le.displayName="ActionContainer",le.defaultProps={showBorder:!1};const de=a.react.exports.createContext(new m.Dropbox({})),ge=({sdk:e,children:t})=>a.react.exports.createElement(de.Provider,{value:e},t);ge.displayName="DropboxSdkProvider";const pe=g.createIntl({locale:"en"});Object.assign(Object.assign({},g.createIntl({locale:"en"})),{formatMessage(...e){const[t,a]=e;return pe.formatMessage(Object.assign(Object.assign({},t),{id:"placeholder"}),a)}});const me=({children:e,intl:t})=>t?a.react.exports.createElement(g.Provider,{value:t},e):e;me.displayName="Provider";const ue=(...e)=>{},_e=t.SHARE_ACTION_ORIGIN_TYPE.SHARING_SDK_SANDBOX,he=a.react.exports.createContext({sink:ue,metadata:{},origin:_e}),Ee=({sink:e,children:t,origin:s})=>{const n=a.react.exports.useMemo((()=>({sink:e,metadata:{},origin:s})),[e,s]);return a.react.exports.createElement(he.Provider,{value:n},t)};Ee.displayName="Provider";const fe=()=>{const e=a.react.exports.useContext(he);return a.react.exports.useCallback(((t,a)=>{const s={type:t,payload:a};e.sink(s,e.metadata,e.origin)}),[e])},be=e=>{var{children:t}=e,s=l.__rest(e,["children"]);const n=a.react.exports.useContext(he),[r]=a.react.exports.useState({sink:n.sink,metadata:{},origin:n.origin});return r.metadata=Object.assign(Object.assign({},n.metadata),s),a.react.exports.createElement(he.Provider,{value:r},t)};var Se;be.displayName="MetadataProvider",e.Platforms=void 0,(Se=e.Platforms||(e.Platforms={})).SANDBOX="SANDBOX",Se.METASERVER="METASERVER",Se.PAPER="PAPER",Se.DESKTOP="DESKTOP";const Ae=a.react.exports.createContext(e.Platforms.SANDBOX),ve=({platform:e,children:t})=>a.react.exports.createElement(Ae.Provider,{value:e},t);ve.displayName="Provider";const xe=()=>a.react.exports.useContext(Ae),Te=a.react.exports.createContext({redirectWindowToken:null}),Me=()=>a.react.exports.useContext(Te).redirectWindowToken,ke=e=>{var{children:t}=e,s=l.__rest(e,["children"]);const n=a.react.exports.useMemo((()=>({redirectWindowToken:s.redirectWindowToken})),[s.redirectWindowToken]);return a.react.exports.createElement(Te.Provider,{value:n},t)};function Ce(e){const t=window.document.createElement("a");t.href=e;let a=t.protocol||window.location.protocol;":"===t.protocol&&(a=window.location.protocol);const s=t.hostname||window.location.hostname;let n=t.port||window.location.port;"443"===n&&"https:"===a&&(n="");let r=s;return n&&(r=r+":"+n),a+"//"+r+(0===t.pathname.indexOf("/")?t.pathname:`/${t.pathname}`)+t.search+t.hash}ke.displayName="Provider";class ye{constructor(e,t,a){this.callbacks=[],this.children=[],this.parents=[],this.isActive=!1,this.cancelledCallbacks=new WeakMap,this.tracker=e,this.getter=t,this.setter=a,this.currentValue=this.getter(null),this.previousValue=this.currentValue,this.generation=this.tracker.generation,this.updateValue()}unregisterChild(e){this.children=this.children.filter((t=>t!==e)),this.updateStatus()}registerChild(e){this.children=[...this.children,e],this.updateStatus()}updateStatus(){(this.children.length>0||this.callbacks.length>0)!==this.isActive&&(this.isActive?(this.isActive=!1,this.parents.forEach((e=>e.unregisterChild(this)))):(this.isActive=!0,this.previousValue=this.currentValue,this.parents.forEach((e=>e.registerChild(this)))))}obs(e){const t=(t,a)=>e(t,a);return this.callbacks=[...this.callbacks,t],this.updateStatus(),()=>{this.cancelledCallbacks.set(t,!0),this.callbacks=this.callbacks.filter((e=>e!==t)),this.updateStatus()}}updateValue(){const e=this.parents;if(this.generation=this.tracker.generation,this.tracker.stack.push([]),this.currentValue=this.getter(this.currentValue),this.parents=this.tracker.stack.pop()||[],!this.isActive)return;this.currentValue!==this.previousValue&&(this.tracker.toUpdate=[...this.tracker.toUpdate,...this.children],this.tracker.toNotify=[...this.tracker.toNotify,this]);const t=this.parents,a=t.filter((t=>!e.find((e=>t===e)))),s=e.filter((e=>!t.find((t=>e===t))));a.forEach((e=>e.registerChild(this))),s.forEach((e=>e.unregisterChild(this)))}get(){return(this.tracker.stack[this.tracker.stack.length-1]||[]).push(this),this.generation!==this.tracker.generation&&this.updateValue(),this.currentValue}notify(){if(this.currentValue===this.previousValue)return;const e=this.previousValue;this.previousValue=this.currentValue,this.callbacks.forEach((t=>{this.cancelledCallbacks.has(t)||t(this.currentValue,e)}))}set(e){if(this.tracker.depth++,this.tracker.generation++,this.tracker.toUpdate.push(this),this.setter(e),this.tracker.depth--,0===this.tracker.depth){for(;this.tracker.toUpdate.length>0;){const e=this.tracker.toUpdate;this.tracker.toUpdate=[],e.forEach((e=>e.updateValue()))}for(;this.tracker.toNotify.length>0;){const e=this.tracker.toNotify;this.tracker.toNotify=[],e.forEach((e=>e.notify()))}}}}const Oe=new class{constructor(){this.stack=[],this.depth=0,this.generation=0,this.toNotify=[],this.toUpdate=[]}},Ne=e=>{let t=e;return new ye(Oe,(()=>t),(e=>{t=e}))},Ie=(e,t)=>new ye(Oe,e,t||(()=>{})),we=e=>(e=>{const t=new ye(Oe,(()=>null),(t=>e(...t)));return(...e)=>t.set(e)})(e)(),Le=e=>{const[,t]=a.react.exports.useState((()=>e.get()));return a.react.exports.useEffect((()=>e.obs((e=>t(e)))),[e]),e.get()},Re=(e,t)=>{const s=(e=>{const[t]=a.react.exports.useState((()=>Ne(e)));return t.set(e),t})(e);return a.react.exports.useState((()=>t(s)))[0]},De=e=>window.open(e,"_blank"),Pe=a.react.exports.createContext(De),je=({openUrl:e,children:t})=>a.react.exports.createElement(Pe.Provider,{value:e},t);je.displayName="Provider";const Fe=()=>{const e=a.react.exports.useContext(Pe);return a.react.exports.useCallback((t=>{e(t)}),[e])},$e=e=>e.formatMessage({id:"0NA7+K",defaultMessage:"Close"}),He=()=>{const s=t.useIntl(),n=Be(),r=Fe(),i=xe()===e.Platforms.DESKTOP?{style:{position:"absolute",bottom:-12,left:0,right:0}}:{};return{showCompleted:e=>n((n=>a.react.exports.createElement(t.Snackbar$1,Object.assign({},n,i),a.react.exports.createElement(t.UIIcon,{src:t.CheckmarkLine}),a.react.exports.createElement(t.Snackbar$1.Message,null,e.message),a.react.exports.createElement(t.Snackbar$1.Actions,null,a.react.exports.createElement(t.Button,{variant:"transparent",inverse:!0,onClick:n.onRequestClose},$e(s)))))),showInProgress:e=>n((s=>a.react.exports.createElement(t.Snackbar$1,Object.assign({},s,i,{timeout:0}),a.react.exports.createElement(t.Spinner,{size:"small",inverse:!0}),a.react.exports.createElement(t.Snackbar$1.Message,null,e.message)))),showFailure:e=>n((n=>{const o=Ce(e.helpUrl||""),c=a.react.exports.useCallback((()=>{r(o)}),[o]);return a.react.exports.createElement(t.Snackbar$1,Object.assign({},n,i),a.react.exports.createElement(t.UIIcon,{src:t.FailLine}),a.react.exports.createElement(t.Snackbar$1.Message,null,e.message),a.react.exports.createElement(t.Snackbar$1.Actions,null,e.helpMessage&&e.helpUrl?a.react.exports.createElement(t.Button,{variant:"transparent",inverse:!0,onClick:c},e.helpMessage):null,a.react.exports.createElement(t.Button,{variant:"transparent",inverse:!0,onClick:n.onRequestClose},$e(s))))}))}},Ve=a.react.exports.createContext({store:{$item:Ne(null),$props:Ne({})}}),Be=()=>{const{store:e}=a.react.exports.useContext(Ve);return t=>{var a,s;null===(s=(a=e.$props.get()).onSnackbarShownChange)||void 0===s||s.call(a,!0);const n=Math.random().toString();return e.$item.set({key:n,Snackbar:t}),()=>{var t,a;const s=e.$item.get();s&&s.key===n&&(e.$item.set(null),null===(a=(t=e.$props.get()).onSnackbarShownChange)||void 0===a||a.call(t,!1))}}},Ue=()=>{const e=t.useIntl(),s=(()=>{const e=t.useIntl(),s=Be();return a.react.exports.useCallback((n=>s((s=>a.react.exports.createElement(t.Snackbar$1,Object.assign({},s),a.react.exports.createElement(t.Snackbar$1.Message,null,n),a.react.exports.createElement(t.Snackbar$1.Actions,null,a.react.exports.createElement(t.Button,{variant:"transparent",inverse:!0},$e(e))))))),[e,s])})();return a.react.exports.useCallback((()=>s(e.formatMessage({id:"+iNJRS",defaultMessage:"There was a problem completing this request."}))),[e,s])},Ge=()=>{const{store:e}=a.react.exports.useContext(Ve),t=Le(e.$item),s=(e=>{const{store:t}=a.react.exports.useContext(Ve);return a.react.exports.useCallback((()=>{var a,s;const n=t.$item.get();n&&n.key===e&&(t.$item.set(null),null===(s=(a=t.$props.get()).onSnackbarShownChange)||void 0===s||s.call(a,!1))}),[t,e])})(t?t.key:"");return t?a.reactDom.exports.createPortal(a.react.exports.createElement("div",{key:t.key,style:{position:"fixed",display:"flex",zIndex:2e4,width:"100%",bottom:"1em",justifyContent:"center"},"data-sharing-sdk":"1"},a.react.exports.createElement(t.Snackbar,{style:{flexGrow:1},key:t.key,open:!0,onRequestClose:s})),document.body):null},Ke=({children:e,onSnackbarShownChange:t})=>{const s=Re({onSnackbarShownChange:t},(e=>({$item:Ne(null),$props:e})));return a.react.exports.createElement(Ve.Provider,{value:{store:s}},a.react.exports.createElement(a.react.exports.Fragment,null,e,a.react.exports.createElement(Ge,null)))};Ke.displayName="Provider";const We=e=>"boolean"==typeof e,ze=e=>"number"==typeof e,qe=e=>"string"==typeof e,Ze=e=>!(e=>null===e)(e)&&!(e=>Array.isArray(e))(e)&&"object"==typeof e,Ye=e=>t=>Ze(t)&&Object.entries(e).every((([e,a])=>a(t[e])));var Xe;e.Status=void 0,(Xe=e.Status||(e.Status={})).SUCCESS="SUCCESS",Xe.ERROR="ERROR",Xe.FATAL="FATAL";const Je=Ye({status:ze,headers:e=>!0,error:Ye({error:Ye({".tag":qe})})}),Qe=Ye({status:ze}),et=t=>l.__awaiter(void 0,void 0,void 0,(function*(){try{const a=yield t;return{status:e.Status.SUCCESS,output:a.result}}catch(t){const a=t;return Je(a)?{status:e.Status.ERROR,error:a.error.error,statusCode:a.status}:Qe(t)?{status:e.Status.FATAL,statusCode:t.status,error:t}:{status:e.Status.FATAL,error:t}}})),tt=(e,t)=>({name:e.name,fetch:t,type:"standard"}),at=tt({name:"sharing_receiving.SharingTiburonLogger"},(e=>t=>{const a=Object.assign(Object.assign({},t),{extras:nt(rt(JSON.stringify(t.extras)))});return et(e.sharingReceivingSharingTiburonLogger(a))})),st=e=>e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65,nt=e=>{let t=2,a="";const s=e.length;let n=0;for(let r=0;r<s;r++)t=r%3,r>0&&4*r/3%76==0&&(a+="\r\n"),n|=e[r]<<(16>>>t&24),2!==t&&e.length-r!=1||(a+=String.fromCodePoint(st(n>>>18&63),st(n>>>12&63),st(n>>>6&63),st(63&n)),n=0);return a.substr(0,a.length-2+t)+(2===t?"":1===t?"=":"==")},rt=e=>{let t;const a=e.length;let s=0;for(let n=0;n<a;n++)t=e.codePointAt(n),t>65536&&n++,s+=t<128?1:t<2048?2:t<65536?3:t<2097152?4:t<67108864?5:6;const n=new Uint8Array(s);let r=0,i=0;for(;r<s;)t=e.codePointAt(i),t<128?n[r++]=t:t<2048?(n[r++]=192+(t>>>6),n[r++]=128+(63&t)):t<65536?(n[r++]=224+(t>>>12),n[r++]=128+(t>>>6&63),n[r++]=128+(63&t)):t<2097152?(n[r++]=240+(t>>>18),n[r++]=128+(t>>>12&63),n[r++]=128+(t>>>6&63),n[r++]=128+(63&t),i++):t<67108864?(n[r++]=248+(t>>>24),n[r++]=128+(t>>>18&63),n[r++]=128+(t>>>12&63),n[r++]=128+(t>>>6&63),n[r++]=128+(63&t),i++):(n[r++]=252+(t>>>30),n[r++]=128+(t>>>24&63),n[r++]=128+(t>>>18&63),n[r++]=128+(t>>>12&63),n[r++]=128+(t>>>6&63),n[r++]=128+(63&t),i++),i++;return n},it=(e,t)=>(console.warn("Exaustive typecheck failed."),t),ot={viewer_no_comment:-10,viewer:1,editor:2,owner:3},ct={".tag":"viewer"},lt={".tag":"editor"},dt=(e,t)=>Object.assign({".tag":e},t||{}),gt=dt("invite_editor"),pt=dt("invite_viewer"),mt=dt("invite_viewer_no_comment"),ut=dt("create_view_link"),_t=dt("create_edit_link"),ht=dt("change_options"),Et=dt("relinquish_membership"),ft=dt("remove_download_policy"),bt=dt("set_download_policy"),St=dt("share_message_as_comment"),At=dt("unshare"),vt=dt("enable_viewer_info"),xt=dt("disable_viewer_info"),Tt=e=>"file"===e[".tag"],Mt=e=>"file_folder"===e[".tag"]||"shared_folder"===e[".tag"],kt=e=>"shared_folder"===e[".tag"],Ct=e=>"collection"===e[".tag"],yt=e=>Mt(e)&&!!e.is_confidential,Ot=e=>Mt(e)&&!!e.is_team_folder,Nt=e=>!!Mt(e)&&e.is_inside_team_folder,It=e=>e.policy,wt=(e,t)=>{var a;return(null!==(a=e.permissions)&&void 0!==a?a:[]).some((e=>e.action[".tag"]===t[".tag"]&&e.allow))},Lt=(e,t)=>"editor"===t[".tag"]?wt(e,gt):"viewer"===t[".tag"]&&wt(e,pt),Rt=(e,t,a)=>((e,t,a,s,n,r,i,o,c)=>!(a||s&&!c)&&("editor"===e[".tag"]?t||n?r:o:"viewer"===e[".tag"]?!!t||(n?r:i):"other"!==e[".tag"]&&it(0,!1)))(t,Mt(e),Ot(e),yt(e),Ct(e),wt(e,gt),wt(e,ut),wt(e,_t),a),Dt={".tag":"no_one"},Pt={".tag":"password"},jt={".tag":"team"},Ft={".tag":"public"},$t=e=>e.links.find((e=>{var t;return"editor"!==(null===(t=e.link_permissions.link_access_level)||void 0===t?void 0:t[".tag"])}))||null,Ht=e=>e.links.find((e=>{var t;return"editor"===(null===(t=e.link_permissions.link_access_level)||void 0===t?void 0:t[".tag"])}))||null,Vt=(e,t)=>"editor"===t[".tag"]?Ht(e):$t(e),Bt=e=>{const t=e.link_permissions;if(t.effective_audience)return t.effective_audience;if(!t.resolved_visibility)return Ft;const a=t.resolved_visibility[".tag"];switch(a){case"public":case"password":case"no_one":return{".tag":a};case"team_only":return jt;case"team_and_password":return Pt;case"shared_folder_only":case"only_you":return Dt;default:return Ft}},Ut=e=>e.access_type?e.access_type[".tag"]:void 0,Gt=e=>{const t={link_id:e.id,link_access_level:(a=e.link_permissions.link_access_level,a?a[".tag"]:ct[".tag"])};var a;const s=(e=>{const t=new URL(e);if(t.search.includes("rlkey"))return{kind:"rlkey",val:t.searchParams.get("rlkey"),link_type:"righteous"};if(t.pathname.includes("/s/")||t.pathname.includes("/sh/")){const e=e=>e.pathname.includes("/raw/")||e.pathname.includes("/dl/")||e.pathname.includes("/print/"),a=e(t)?3:2;return{kind:"tkey",val:t.pathname.split("/")[a],link_type:"shmodel"}}return null})(e.url);return s&&(t[s.kind]=s.val,t.link_type=s.link_type),t},Kt=e=>({platform_name:e.platformName,platform_version:e.platformVersion,build_channel:e.buildChannel,build_number:e.buildNumber}),Wt=(e,t,a,s)=>{const n=t.shareModalSessionId,r=t.sharingObjectMetadata,i=t.desktopMetadata;return n&&(s=Object.assign(Object.assign({},s),{modal_session_id:n})),t.sharingObjectIdentifier&&("file"===t.sharingObjectIdentifier[".tag"]?s=Object.assign(Object.assign({},s),{file_id:t.sharingObjectIdentifier.fileId}):"shared_folder"===t.sharingObjectIdentifier[".tag"]?s=Object.assign(Object.assign({},s),{ns_id:t.sharingObjectIdentifier.sharedFolderId}):"file_folder"===t.sharingObjectIdentifier[".tag"]?s=Object.assign(Object.assign({},s),{fq_path:t.sharingObjectIdentifier.path}):"collection"===t.sharingObjectIdentifier[".tag"]&&(s=Object.assign(Object.assign({},s),{ns_id:t.sharingObjectIdentifier.nsId,collection_id:t.sharingObjectIdentifier.collectionId}))),r&&r.path_lower&&(s=Object.assign(Object.assign({},s),{fq_path:r.path_lower})),r&&Tt(r)&&(s=Object.assign(Object.assign({},s),{file_id:r.id})),r&&kt(r)&&(s=Object.assign(Object.assign({},s),{ns_id:r.shared_folder_id})),r&&Ct(r)&&(s=Object.assign(Object.assign({},s),{ns_id:r.shared_folder_id,collection_id:r.collectionId})),i&&(s=Object.assign(Object.assign({},s),Kt(i))),{share_tiburon_event_type:e,share_tib_action_origin_type:a,extras:s}},zt=(e,t,a,s)=>{const n=t.shareModalSessionId,r=t.sharingLinkMetadata,i=t.sharingObjectMetadata,o=t.desktopMetadata;return n&&(s=Object.assign(Object.assign({},s),{modal_session_id:n})),r&&(s=Object.assign(Object.assign({},s),Gt(r))),i&&(s=Object.assign(Object.assign({},s),(e=>Object.assign(Object.assign({user_access_type:"editor"===Ut(e)?"writer":"reader",is_folder:Mt(e),fq_path:e.path_lower,content_id:Tt(e)?e.id:kt(e)?e.shared_folder_id:Mt(e)?e.path_lower:Ct(e)?e.collectionId:""},Object.assign({},kt(e)||Ct(e)?{ns_id:e.shared_folder_id}:{})),{can_create_edit_link:wt(e,_t),can_create_view_link:wt(e,ut),can_edit_inband_invite:wt(e,gt),can_view_invand_invite:wt(e,pt),max_access:wt(e,_t)||wt(e,gt)?"editor":"viewer"}))(i))),o&&(s=Object.assign(Object.assign({},s),Kt(o))),{share_tiburon_event_type:e,share_tib_action_origin_type:a,extras:s}},qt=e=>{const t=a.react.exports.useContext(de),s=fe();if("standard"===e.type){const n=a.react.exports.useMemo((()=>e.fetch(t)),[e,t]);return a.react.exports.useCallback((t=>l.__awaiter(void 0,void 0,void 0,(function*(){const a=Math.random().toString();s("ENDPOINT_FETCH_BEGIN",{name:e.name,input:t,id:a});const r=Date.now(),i=yield n(t),o=Date.now();return s("ENDPOINT_FETCH_END",{name:e.name,id:a,latency:o-r,response:i}),i}))),[n,e,s])}{const t=e.useFetch();return a.react.exports.useCallback((a=>l.__awaiter(void 0,void 0,void 0,(function*(){const n=Math.random().toString();s("ENDPOINT_FETCH_BEGIN",{name:e.name,input:a,id:n});const r=Date.now(),i=yield t(a),o=Date.now();return s("ENDPOINT_FETCH_END",{name:e.name,id:n,latency:o-r,response:i}),i}))),[t,e,s])}},Zt=(e,t)=>{let a={is_alpha:!0};return t.sharingLinkAccessLevel&&(a=Object.assign(Object.assign({},a),{access:t.sharingLinkAccessLevel[".tag"]})),e.createSharedLinkStartTime&&(a=Object.assign(Object.assign({},a),{timing:Date.now()-e.createSharedLinkStartTime})),a},Yt=()=>{const e=(()=>{const e=qt(at);return{SHARE_MODAL_SHARE__PREVALIDATION__API_START:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.AttemptTargetValidation,t,s,a))},SHARE_MODAL_SHARE__INVITE__VALIDATION_API_START:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.AttemptTargetValidation,t,s,a))},SHARE_MODAL_SHARE__PREVALIDATION__API_SUCCESS:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.SucceedTargetValidation,t,s,a))},SHARE_MODAL_SHARE__INVITE__VALIDATION_API_SUCCESS:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.SucceedTargetValidation,t,s,a))},SHARE_MODAL_SHARE__PREVALIDATION__API_ERROR:({event:t,metadata:a,extras:s,origin:n})=>{e(Wt(p.TiburonEventName.FailTargetValidation,a,n,Object.assign(Object.assign({},s),{error:t.payload.error[".tag"]})))},SHARE_MODAL_SHARE__PREVALIDATION__API_FATAL:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.FailTargetValidation,t,s,Object.assign(Object.assign({},a),{error:"unknown server error"})))},SHARE_MODAL_SHARE__INVITE__VALIDATION_API_ERROR:({event:t,metadata:a,extras:s,origin:n})=>{e(Wt(p.TiburonEventName.FailTargetValidation,a,n,Object.assign(Object.assign({},s),{error:t.payload.error[".tag"]})))},SHARE_MODAL_SHARE__INVITE__VALIDATION_API_FATAL:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.FailTargetValidation,t,s,Object.assign(Object.assign({},a),{error:"unknown server error"})))},SHARE_MODAL_MANAGE_ACCESS__MANAGE_ACCESS__CLICK:({metadata:t,extras:a,origin:s})=>{t.sharingObjectMembership&&(a=Object.assign(Object.assign({},a),{access_level:t.sharingObjectMembership.access_type[".tag"]})),e(Wt(p.TiburonEventName.ClickManageAccess,t,s,a))},SHARE_MODAL_MANAGE_ACCESS__UPDATE_MEMBER_ACCESS__CLICK:({event:t,metadata:a,extras:s,origin:n})=>{e(Wt(p.TiburonEventName.SelectChangeMemberPermission,a,n,Object.assign(Object.assign({},s),{new_access:"editor"===t.payload.next[".tag"]?"writer":"reader",old_access:"editor"===t.payload.previous[".tag"]?"writer":"reader"})))},SHARE_MODAL_MANAGE_ACCESS__UPDATE_FILE_MEMBER_ACCESS__API_SUCCESS:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.SucceedChangeMemberPermission,t,s,Object.assign(Object.assign({},a),{http_status_code:200,response_status:"success",is_alpha:!1})))},SHARE_MODAL_MANAGE_ACCESS__UPDATE_FILE_MEMBER_ACCESS__API_FATAL:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.FailChangeMemberPermission,t,s,Object.assign(Object.assign({},a),{is_alpha:!1,http_status_code:0,error_tag:"undefined"})))},SHARE_MODAL_MANAGE_ACCESS__UPDATE_FILE_MEMBER_ACCESS__API_ERROR:({event:t,metadata:a,extras:s,origin:n})=>{e(Wt(p.TiburonEventName.FailChangeMemberPermission,a,n,Object.assign(Object.assign({},s),{is_alpha:!1,http_status_code:t.payload.response.statusCode,error_tag:t.payload.response.error[".tag"]})))},SHARE_MODAL_SHARE__CREATE_LINK__API_START:({metadata:t,extras:a,origin:s,cache:n})=>{t.sharingLinkAccessLevel&&(a=Object.assign(Object.assign({},a),{access:t.sharingLinkAccessLevel[".tag"]})),n.createSharedLinkStartTime=Date.now(),e(Wt(p.TiburonEventName.AttemptCreateSharedLinkWithSettings,t,s,a))},SHARE_MODAL_SETTINGS__CREATE_LINK_API_START:({metadata:t,extras:a,origin:s,cache:n})=>{t.sharingLinkAccessLevel&&(a=Object.assign(Object.assign({},a),{access:t.sharingLinkAccessLevel[".tag"]})),n.createSharedLinkStartTime=Date.now(),e(Wt(p.TiburonEventName.AttemptCreateSharedLinkWithSettings,t,s,a))},SHARE_MODAL_SHARE__CREATE_LINK__API_SUCCESS:({metadata:t,event:a,origin:s,extras:n,cache:r})=>{t=Object.assign(Object.assign({},t),{sharingLinkMetadata:a.payload.response.output}),e(Wt(p.TiburonEventName.SucceedCreateSharedLinkWithSettings,t,s,Object.assign(Object.assign({http_status_Code:200,response_status:"success"},Zt(r,t)),n)))},SHARE_MODAL_SETTINGS__CREATE_LINK_API_SUCCESS:({metadata:t,event:a,origin:s,extras:n,cache:r})=>{t=Object.assign(Object.assign({},t),{sharingLinkMetadata:a.payload.response.output}),e(Wt(p.TiburonEventName.SucceedCreateSharedLinkWithSettings,t,s,Object.assign(Object.assign({http_status_Code:200,response_status:"success"},Zt(r,t)),n)))},SHARE_MODAL_SHARE__CREATE_LINK__API_ERROR:({metadata:t,event:a,extras:s,origin:n,cache:r})=>{"shared_link_already_exists"!==a.payload.response.error[".tag"]?e(Wt(p.TiburonEventName.FailCreateSharedLinkWithSettings,t,n,Object.assign(Object.assign({error_tag:a.payload.response.error[".tag"],http_status_code:a.payload.response.statusCode,fail_at:"link_creation"},Zt(r,t)),s))):e(Wt(p.TiburonEventName.SucceedCreateSharedLinkWithSettings,t,n,Object.assign(Object.assign({http_status_code:a.payload.response.statusCode,response_status:"success"},Zt(r,t)),s)))},SHARE_MODAL_SETTINGS__CREATE_LINK_API_ERROR:({metadata:t,extras:a,cache:s,origin:n,event:r})=>{"shared_link_already_exists"!==r.payload.response.error[".tag"]?e(Wt(p.TiburonEventName.FailCreateSharedLinkWithSettings,t,n,Object.assign(Object.assign({error_tag:r.payload.response.error[".tag"],http_status_code:r.payload.response.statusCode,fail_at:"link_creation"},Zt(s,t)),a))):e(Wt(p.TiburonEventName.SucceedCreateSharedLinkWithSettings,t,n,Object.assign(Object.assign({http_status_code:r.payload.response.statusCode,response_status:"success"},Zt(s,t)),a)))},SHARE_MODAL_SHARE__CREATE_LINK__API_FATAL:({metadata:t,extras:a,origin:s,cache:n})=>{e(Wt(p.TiburonEventName.FailCreateSharedLinkWithSettings,t,s,Object.assign(Object.assign(Object.assign({fail_at:"link_creation"},Zt(n,t)),{http_status_code:0,error_tag:"undefined_error"}),a)))},SHARE_MODAL_SETTINGS__CREATE_LINK_API_FATAL:({metadata:t,extras:a,origin:s,cache:n})=>{e(Wt(p.TiburonEventName.FailCreateSharedLinkWithSettings,t,s,Object.assign(Object.assign(Object.assign({fail_at:"link_creation"},Zt(n,t)),{http_status_code:0,error_tag:"undefined_error"}),a)))},SHARE_MODAL_SHARE__CREATE_LINK__CLICK:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.ClickTibCreateLink,t,s,a))},SHARE_MODAL_SETTINGS__CREATE_LINK__CLICK:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.ClickTibCreateLink,t,s,a))},SHARE_MODAL_SHARE__INVITE__START:({metadata:t,extras:a,origin:s,cache:n})=>{n.inviteStartTime=Date.now(),e(Wt(p.TiburonEventName.ClickInbandShareButton,t,s,Object.assign({in_progress:!1},a)));const r=t.sharingLinkMetadata;r&&e(zt(p.TiburonEventName.ClickShareButtonLinkSettingsStatus,t,s,Object.assign(Object.assign({},a),{isPasswordRequired:r.link_permissions.require_password||!1,isExpirationEnabled:!!r.expires,isDisabledDownloadEnabled:!r.link_permissions.allow_download})))},SHARE_MODAL_SHARE__COPY_LINK__CLICK:({metadata:t,extras:a,origin:s})=>{e(zt(p.TiburonEventName.CopySharedLink,t,s,Object.assign(Object.assign({},a),{tokenized_contact_count:t.sharingInviteTargets?t.sharingInviteTargets.length:0})))},SHARE_MODAL_SHARE__CREATE_LINK__COPY_START:({metadata:t,event:a,origin:s,extras:n})=>{t=Object.assign(Object.assign({},t),{sharingLinkMetadata:a.payload.linkMetadata}),e(zt(p.TiburonEventName.CopySharedLink,t,s,Object.assign(Object.assign({},n),{tokenized_contact_count:t.sharingInviteTargets?t.sharingInviteTargets.length:0})))},SHARE_MODAL_SHARE__CREATE_LINK__COPY_ERROR:({metadata:t,extras:a,origin:s})=>{e(zt(p.TiburonEventName.CopySharedLinkFailure,t,s,Object.assign(Object.assign({},a),{tokenized_contact_count:t.sharingInviteTargets?t.sharingInviteTargets.length:0,error:"failed_copy_to_clipboard"})))},SHARE_MODAL_SHARE__COPY_LINK__COPY_ERROR:({metadata:t,extras:a,origin:s})=>{e(zt(p.TiburonEventName.CopySharedLinkFailure,t,s,Object.assign(Object.assign({},a),{tokenized_contact_count:t.sharingInviteTargets?t.sharingInviteTargets.length:0,error:"failed_copy_to_clipboard"})))},SHARE_MODAL_SHARE__CREATE_LINK__COPY_FORBIDDEN:({metadata:t,extras:a,origin:s})=>{e(zt(p.TiburonEventName.CopySharedLinkFailure,t,s,Object.assign(Object.assign({},a),{tokenized_contact_count:t.sharingInviteTargets?t.sharingInviteTargets.length:0,error:"failed_copy_to_clipboard"})))},SHARE_MODAL_SHARE__INVITE__CANCELLED:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.FailInbandShare,t,s,Object.assign({error_tag:"contacts_error",error_message:"contact validation error",num_recipients:t.sharingInviteTargets?t.sharingInviteTargets.length:0},a)))},SHARE_MODAL_SHARE__INVITE__ADD_FILE_MEMBER_API_ERROR:({metadata:t,extras:a,origin:s,cache:n,event:r})=>{n.inviteStartTime&&(a.timing=Date.now()-n.inviteStartTime),e(zt(p.TiburonEventName.FailInbandShare,t,s,Object.assign(Object.assign({},a),{error_tag:r.payload.response.error[".tag"],http_status_code:r.payload.response.statusCode,num_recipients:t.sharingInviteTargets?t.sharingInviteTargets.length:0})))},SHARE_MODAL_SHARE__INVITE__ADD_FILE_MEMBER_API_FATAL:({metadata:t,extras:a,origin:s,cache:n})=>{n.inviteStartTime&&(a.timing=Date.now()-n.inviteStartTime),e(zt(p.TiburonEventName.FailInbandShare,t,s,Object.assign(Object.assign({},a),{error_tag:"undefined",http_status_code:0,num_recipients:t.sharingInviteTargets?t.sharingInviteTargets.length:0})))},SHARE_MODAL_SHARE__INVITE__ADD_FOLDER_MEMBER__API_ERROR:({event:t,metadata:a,extras:s,origin:n,cache:r})=>{r.inviteStartTime&&(s=Object.assign(Object.assign({},s),{timing:Date.now()-r.inviteStartTime})),e(zt(p.TiburonEventName.FailInbandShare,a,n,Object.assign(Object.assign({},s),{error_tag:t.payload.response.error[".tag"],http_status_code:t.payload.response.statusCode,num_recipients:a.sharingInviteTargets?a.sharingInviteTargets.length:0})))},SHARE_MODAL_SHARE__INVITE__ADD_FOLDER_MEMBER__API_FATAL:({metadata:t,extras:a,origin:s,cache:n})=>{n.inviteStartTime&&(a=Object.assign(Object.assign({},a),{timing:Date.now()-n.inviteStartTime})),e(zt(p.TiburonEventName.FailInbandShare,t,s,Object.assign(Object.assign({},a),{error_tag:"undefined",http_status_code:0,num_recipients:t.sharingInviteTargets?t.sharingInviteTargets.length:0})))},SHARE_MODAL_SHARE__INVITE__SHARE_FILE_FOLDER__FAILURE:({event:t,metadata:a,extras:s,origin:n,cache:r})=>{r.inviteStartTime&&(s=Object.assign(Object.assign({},s),{timing:Date.now()-r.inviteStartTime})),"ApiError"===t.payload.output.type||"PollingApiError"===t.payload.output.type?s=Object.assign(Object.assign({},s),{error_tag:t.payload.output.value.response.error[".tag"],http_status_code:t.payload.output.value.response.statusCode}):"NetworkFailure"===t.payload.output.type||"PollingNetworkFailure"===t.payload.output.type?s=Object.assign(Object.assign({},s),{error_tag:"unknown",http_status_code:0}):"PollingFailed"===t.payload.output.type?s=Object.assign(Object.assign({},s),{error_tag:"failed",http_status_code:0}):"PollingTimeout"===t.payload.output.type&&(s=Object.assign(Object.assign({},s),{error_tag:"timeout",http_status_code:0})),e(zt(p.TiburonEventName.FailInbandShare,a,n,Object.assign(Object.assign({},s),{num_recipients:a.sharingInviteTargets?a.sharingInviteTargets.length:0})))},SHARE_MODAL_SETTINGS__PAGE_VIEW:({metadata:t,extras:a,origin:s,event:n})=>{e(Wt(p.TiburonEventName.ViewSettingsScreen,t,s,Object.assign(Object.assign({},a),{settings_tab:n.payload.selected_tab}))),e(Wt(p.TiburonEventName.ViewSettingsTab,t,s,Object.assign(Object.assign({},a),{settings_tab:n.payload.selected_tab})))},SHARE_MODAL_SETTINGS__TAB_CHANGE:({metadata:t,extras:a,origin:s,event:n})=>{e(Wt(p.TiburonEventName.ViewSettingsTab,t,s,Object.assign(Object.assign({},a),{settings_tab:n.payload.selected_tab})))},SHARE_MODAL_MANAGE_ACCESS__SETTINGS_GEAR__CLICK:({metadata:t,extras:a,origin:s})=>{e(zt(p.TiburonEventName.ClickSettingsGear,t,s,Object.assign(Object.assign({},a),{screen:p.ScreenName.ManageAccessScreen})));const n=t.sharingObjectMetadata;n&&(Tt(n)?e(Wt(p.TiburonEventName.OpenFileSettingsModal,t,s,a)):Mt(n)&&e(Wt(p.TiburonEventName.OpenFolderSettingsModal,t,s,a)))},SHARE_MODAL_MANAGE_ACCESS__SETTINGS_TEXT__CLICK:({metadata:t,extras:a,origin:s,event:n})=>{e(zt(p.TiburonEventName.ClickManageAccessPageSettingsText,t,s,Object.assign(Object.assign({},a),{screen:p.ScreenName.ManageAccessScreen,settings_tab:n.payload.settings_tab,link_access_level:n.payload.link_access_level,link_type:n.payload.link_type})));const r=t.sharingObjectMetadata;r&&e(Wt(Tt(r)?p.TiburonEventName.OpenFileSettingsModal:p.TiburonEventName.OpenFolderSettingsModal,t,s,a))},SHARE_MODAL_SHARE__SETTINGS_GEAR__CLICK:({metadata:t,extras:a,origin:s})=>{e(zt(p.TiburonEventName.ClickSettingsGear,t,s,Object.assign(Object.assign({},a),{screen:p.ScreenName.ShareScreen})));const n=t.sharingObjectMetadata;n&&(Tt(n)?e(Wt(p.TiburonEventName.OpenFileSettingsModal,t,s,a)):Mt(n)&&e(Wt(p.TiburonEventName.OpenFolderSettingsModal,t,s,a)))},SHARE_MODAL_SHARE__SETTINGS_LINK__CLICK:({metadata:t,extras:a,origin:s})=>{a=t.sharingLinkAccessLevel&&"editor"===t.sharingLinkAccessLevel[".tag"]?Object.assign(Object.assign({},a),{settings_tab:"edit_link_settings"}):Object.assign(Object.assign({},a),{settings_tab:"view_link_settings"}),e(zt(p.TiburonEventName.ClickSettingsText,t,s,a))},SHARE_MODAL_SHARE__INVITE__ADD_FILE_MEMBER_API_SUCCESS:({metadata:t,extras:a,origin:s,cache:n})=>{n.inviteStartTime&&(a=Object.assign(Object.assign({},a),{timing:Date.now()-n.inviteStartTime})),e(Wt(p.TiburonEventName.SucceedInbandShare,t,s,Object.assign(Object.assign({},a),{num_recipients:t.sharingInviteTargets?t.sharingInviteTargets.length:0})))},SHARE_MODAL_SHARE__INVITE__ADD_FOLDER_MEMBER__API_SUCCESS:({metadata:t,extras:a,cache:s,origin:n})=>{s.inviteStartTime&&(a=Object.assign(Object.assign({},a),{timing:Date.now()-s.inviteStartTime})),e(Wt(p.TiburonEventName.SucceedInbandShare,t,n,Object.assign(Object.assign({},a),{num_recipients:t.sharingInviteTargets?t.sharingInviteTargets.length:0})))},SHARE_MODAL_SHARE__INVITE__NAVIGATE_ATTEMPT:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.AttemptNavigateAwayDuringShare,t,s,a))},SHARE_MODAL_SHARE__INVITE__NAVIGATE_AWAY:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.SucceedNavigateAwayDuringShare,t,s,a))},SHARE_MODAL_SETTINGS__UPSELL_LINK__CLICKED:({event:t,metadata:a,extras:s,origin:n})=>{s=Object.assign(Object.assign({},s),{element_trackingId:"link_settings_pro_upsell",element_href:t.payload.href}),e(Wt(p.TiburonEventName.ElementClick,a,n,s))},SHARE_MODAL_SETTINGS__UPSELL_LINK__EXPOSED:({event:t,metadata:a,extras:s,origin:n})=>{s=Object.assign(Object.assign({},s),{element_trackingId:"link_settings_pro_upsell",element_href:t.payload.href}),e(Wt(p.TiburonEventName.ElementView,a,n,s))},SHARE_MODAL_SETTINGS__UNSHARE_OBJECT_API_START:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.AttemptRemoveAllMembers,t,s,a))},SHARE_MODAL_SETTINGS__UNSHARE_OBJECT_API_ERROR:({metadata:t,event:a,origin:s,extras:n})=>{e(Wt(p.TiburonEventName.FailRemoveAllMembers,t,s,Object.assign({http_status_code:a.payload.response.statusCode,error_message:a.payload.response.error[".tag"]},n)))},SHARE_MODAL_SETTINGS__UNSHARE_OBJECT_API_FATAL:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.FailRemoveAllMembers,t,s,Object.assign({http_status_code:0,error_message:"undefined_error"},a)))},SHARE_MODAL_SETTINGS__UNSHARE_OBJECT_API_SUCCESS:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.SucceedRemoveAllMembers,t,s,Object.assign({http_status_code:200,response_status:"success"},a)))},SHARE_MODAL_MANAGE_ACCESS__REMOVE_FILE_MEMBER__API_START:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.AttemptRemoveMember,t,s,a))},SHARE_MODAL_MANAGE_ACCESS__REMOVE_FILE_MEMBER__API_ERROR:({metadata:t,extras:a,origin:s,event:n})=>{e(Wt(p.TiburonEventName.FailRemoveMember,t,s,Object.assign({http_status_code:n.payload.response.statusCode,error_tag:n.payload.response.error[".tag"]},a)))},SHARE_MODAL_MANAGE_ACCESS__REMOVE_FILE_MEMBER__API_FATAL:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.FailRemoveMember,t,s,Object.assign({http_status_code:0,error_tag:"undefined_error"},a)))},SHARE_MODAL_MANAGE_ACCESS__REMOVE_FILE_MEMBER__API_SUCCESS:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.SucceedRemoveMember,t,s,Object.assign({http_status_code:200},a)))},SHARE_MODAL_DATA_LOADER__INITIAL_LOADER__START:({metadata:t,extras:a,origin:s,cache:n})=>{n.shareModalDataLoadStartTime=Date.now(),n.inviteStartTime=void 0,n.createSharedLinkStartTime=void 0,e(Wt(p.TiburonEventName.BeginShareFlow,t,s,a))},SHARE_MODAL_DATA_LOADER__INITIAL_LOADER__SUCCESS:({metadata:t,extras:a,origin:s,cache:n})=>{n.shareModalDataLoadStartTime&&(a=Object.assign(Object.assign({},a),{timing:Date.now()-n.shareModalDataLoadStartTime})),e(Wt(p.TiburonEventName.ViewShareModal,t,s,a))},SHARE_MODAL_ERROR_SCREEN__VIEW:({metadata:t,extras:a,origin:s,event:n})=>{a=Object.assign(Object.assign({},a),{event:n}),e(Wt(p.TiburonEventName.ViewErrorScreen,t,s,a))},SHARE_MODAL_SETTINGS__LINK_AUDIENCE_CHANGE:({metadata:t,extras:a,origin:s,event:n})=>{if(t.sharingLinksMetadata){const e=Vt(t.sharingLinksMetadata,n.payload.link_access_level);e&&(a=Object.assign(Object.assign({},a),Gt(e)))}e(Wt(p.TiburonEventName.ChangeSharedLinkAudience,t,s,Object.assign({old_audience:n.payload.previous[".tag"],new_audience:n.payload.next[".tag"],screen:p.ScreenName.SettingsScreen},a)))},SHARE_MODAL_MANAGE_ACCESS__PARENT_FOLDER_CHANGE_ACCESS_MODAL__VIEW:({metadata:t,extras:a,event:s,origin:n})=>{e(Wt(p.TiburonEventName.OpenParentFolderAccessModal,t,n,Object.assign(Object.assign({},a),{num_parent_folders:s.payload.numParents})))},SHARE_MODAL_MANAGE_ACCESS__PARENT_FOLDER_REMOVE_ACCESS_MODAL__VIEW:({metadata:t,extras:a,event:s,origin:n})=>{e(Wt(p.TiburonEventName.OpenParentFolderAccessModal,t,n,Object.assign(Object.assign({},a),{num_parent_folders:s.payload.numParents})))},SHARE_MODAL_SHARE__VIEW:({metadata:t,extras:a,origin:s})=>{e(zt(p.TiburonEventName.ViewShareScreen,t,s,Object.assign(Object.assign({},a),{share_tab:t.sharingLinkAccessLevel&&"editor"===t.sharingLinkAccessLevel[".tag"]?"edit_tab":"view_tab"}))),e(zt(p.TiburonEventName.ViewShareTab,t,s,Object.assign(Object.assign({},a),{share_tab:t.sharingLinkAccessLevel&&"editor"===t.sharingLinkAccessLevel[".tag"]?"edit_tab":"view_tab"})))},SHARE_MODAL_SHARE__LINK_ACCESS_LEVEL__CHANGE:({metadata:t,extras:a,origin:s,event:n})=>{e(zt(p.TiburonEventName.ViewShareTab,t,s,Object.assign(Object.assign({},a),{share_tab:"editor"===n.payload.next[".tag"]?"edit_tab":"view_tab"})))},SHARE_MODAL_MANAGE_ACCESS__VIEW:({metadata:t,extras:a,origin:s,event:n})=>{e(zt(p.TiburonEventName.ViewManageAccessScreen,t,s,Object.assign(Object.assign({},a),{manage_tab:n.payload.manage_tab})))},SHARE_MODAL_MANAGE_ACCESS_TAB__VIEW:({metadata:t,extras:a,origin:s,event:n})=>{e(zt(p.TiburonEventName.ViewManageAccessTab,t,s,Object.assign(Object.assign({},a),{manage_tab:n.payload.manage_tab})))},SHARE_MODAL_SHARE__MANAGE_ACCESS__CLICK:({metadata:t,extras:a,origin:s})=>{e(zt(p.TiburonEventName.ClickWhoCanAccess,t,s,a))},SHARE_MODAL__REQUEST_CLOSE__CALLED:({metadata:t,extras:a,origin:s,event:n,cache:r})=>{t=Object.assign(Object.assign({},t),{sharingObjectIdentifier:n.payload.objectIdentifier}),t=Object.assign(Object.assign({},t),{shareModalSessionId:n.payload.sessionId}),r.inviteStartTime&&(a=Object.assign(Object.assign({},a),{time_modal_opened:Date.now()-r.inviteStartTime})),e(Wt(p.TiburonEventName.CloseShareModal,t,s,a))},TARGETS_TOKENIZER__TARGETS_SEARCH__API_START:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.AttemptTargetSearch,t,s,a))},TARGETS_TOKENIZER__TARGETS_SEARCH__API_SUCCESS:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.SucceedTargetSearch,t,s,a))},TARGETS_TOKENIZER__TARGETS_SEARCH__API_ERROR:({metadata:t,extras:a,origin:s,event:n})=>{e(Wt(p.TiburonEventName.FailTargetSearch,t,s,Object.assign(Object.assign({},a),{error:n.payload.response.error[".tag"]})))},TARGETS_TOKENIZER__TARGETS_SEARCH__API_FATAL:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.FailTargetSearch,t,s,Object.assign(Object.assign({},a),{error:"unknown"})))},RRC_SENDER_CREATE_SHARING_TASKS_ERROR:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.RRCSenderCreateSharingTasksError,t,s,Object.assign(Object.assign({},a),{error:"unknown"})))},SHARE_MODAL_SETTINGS__DELETE_LINK_API_START:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.AttemptDeleteSharedLink,t,s,a))},SHARE_MODAL_SETTINGS__DELETE_LINK_API_ERROR:({metadata:t,event:a,origin:s,extras:n})=>{e(Wt(p.TiburonEventName.FailDeleteSharedLink,t,s,Object.assign({http_status_code:a.payload.response.statusCode,error_message:a.payload.response.error[".tag"]},n)))},SHARE_MODAL_SETTINGS__DELETE_LINK_API_FATAL:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.FailDeleteSharedLink,t,s,Object.assign({http_status_code:0,error_message:"undefined_error"},a)))},SHARE_MODAL_SETTINGS__DELETE_LINK_API_SUCCESS:({metadata:t,extras:a,origin:s})=>{e(Wt(p.TiburonEventName.SucceedDeleteSharedLink,t,s,Object.assign({http_status_code:200,response_status:"success"},a)))},SHARE_MODAL_SETTINGS__CREATE_LINK__NAMESPACE_CREATE_ERROR:({metadata:t,extras:a,event:s,origin:n})=>{var r,i;a=Object.assign(Object.assign({},a),{http_status_code:0,error_tag:"undefined_error",access:(null===(r=t.sharingLinkAccessLevel)||void 0===r?void 0:r[".tag"])||"unknown"}),a="ApiError"===s.payload.output.type||"PollingApiError"===s.payload.output.type?Object.assign(Object.assign({},a),{http_status_code:200,error_tag:s.payload.output.value.response.error[".tag"],access:(null===(i=t.sharingLinkAccessLevel)||void 0===i?void 0:i[".tag"])||"unknown"}):"NetworkFailure"===s.payload.output.type||"PollingNetworkFailure"===s.payload.output.type?Object.assign(Object.assign({},a),{http_status_code:s.payload.output.value.response.statusCode||0}):Object.assign(Object.assign({},a),{error_tag:s.payload.output.type}),e(Wt(p.TiburonEventName.FailCreateNamespaceAfterLinkCreated,t,n,a))},SHARE_MODAL_SHARE__CREATE_LINK__NAMESPACE_CREATE_ERROR:({metadata:t,extras:a,event:s,origin:n})=>{var r,i;a=Object.assign(Object.assign({},a),{http_status_code:0,error_tag:"undefined_error",access:(null===(r=t.sharingLinkAccessLevel)||void 0===r?void 0:r[".tag"])||"unknown"}),a="ApiError"===s.payload.output.type||"PollingApiError"===s.payload.output.type?Object.assign(Object.assign({},a),{http_status_code:200,error_tag:s.payload.output.value.response.error[".tag"],access:(null===(i=t.sharingLinkAccessLevel)||void 0===i?void 0:i[".tag"])||"unknown"}):"NetworkFailure"===s.payload.output.type||"PollingNetworkFailure"===s.payload.output.type?Object.assign(Object.assign({},a),{http_status_code:s.payload.output.value.response.statusCode||0}):Object.assign(Object.assign({},a),{error_tag:s.payload.output.type}),e(Wt(p.TiburonEventName.FailCreateNamespaceAfterLinkCreated,t,n,a))},SHARE_MODAL_TASK_MENU__RRC_SENDER__TOGGLE_ALL_CLICK:({metadata:t,extras:a,origin:s,event:n})=>{e(Wt(p.TiburonEventName.RRCSenderTaskMenuToggleAllClick,t,s,Object.assign(Object.assign({},a),n.payload)))},SHARE_MODAL_TASK_MENU__RRC_SENDER__TASK_MENU_CLICK:({metadata:t,extras:a,origin:s,event:n})=>{e(Wt(p.TiburonEventName.RRCSenderTaskMenuClick,t,s,Object.assign(Object.assign({},a),n.payload)))},SHARE_MODAL_TASK_MENU__RRC_SENDER__TASK_MENU_ITEM_CLICK:({metadata:t,extras:a,origin:s,event:n})=>{e(Wt(p.TiburonEventName.RRCSenderTaskMenuItemClick,t,s,Object.assign(Object.assign({},a),n.payload)))}}})(),t=a.react.exports.useMemo((()=>({})),[]);return a.react.exports.useCallback(((a,s,n)=>{const r=e[a.type];if(r&&n)try{r({event:a,metadata:s,origin:n,cache:t,extras:{is_sdk:!0}})}catch(e){}}),[e,t])},Xt=({sink:t,children:s,origin:n})=>{const r=(()=>{const t=xe();return a.react.exports.useCallback(((a,s)=>{var n;("SANDBOX"===t||t===e.Platforms.DESKTOP&&"developer"===(null===(n=s.desktopMetadata)||void 0===n?void 0:n.buildChannel))&&window.console.log(a,s)}),[t])})(),i=Yt(),o=a.react.exports.useMemo((()=>((...e)=>(...t)=>{e.forEach((e=>{try{e(...t)}catch(e){}}))})(t,r,i)),[t,r,i]);return a.react.exports.createElement(Ee,{sink:o,origin:n},s)};Xt.displayName="LoggingProviderWithBuiltIns";const Jt=({loggingSink:t,sdk:s,children:n,redirectWindowToken:r=null,intl:i,platform:o=e.Platforms.SANDBOX,openUrl:c=null,origin:l,onSnackbarShownChange:d})=>a.react.exports.createElement(me,{intl:i},a.react.exports.createElement(ve,{platform:o},a.react.exports.createElement(je,{openUrl:c||De},a.react.exports.createElement(ge,{sdk:s},a.react.exports.createElement(ke,{redirectWindowToken:r},a.react.exports.createElement(Xt,{sink:t||ue,origin:l},a.react.exports.createElement(Ke,{onSnackbarShownChange:d},n)))))));Jt.displayName="Provider";const Qt=e=>dt("email",{email:e}),ea=e=>"user"===e[".tag"]?""===e.dbx_account_id?`EMAIL:${e.email}`:`DBX_ID:${e.dbx_account_id}`:"group"===e[".tag"]?`DBX_ID:${e.group_id}`:"email"===e[".tag"]?`EMAIL:${e.email}`:it(0,"UNKNOWN"),ta=e=>"user"===e[".tag"]&&e.photo_url||null,aa=/^www\.dropbox\.com$/,sa=/^meta-.*\.dev\.corp\.dropbox\.com$/,na=e=>!!e.confidential_folder_links_enabled,ra=e=>e.formatMessage({id:"Jaz6mY",defaultMessage:"Link for editing"}),ia=e=>e.formatMessage({id:"HUaQ+r",defaultMessage:"Link for viewing"});class oa extends a.react.exports.PureComponent{render(){const{className:e,icon:s,disableIcon:n,title:r,disableTitle:i,subtitle:o,disableButton:c,buttonText:l,onClickButton:d}=this.props,g=t.classnames("scl-links-info-row",e),p=i?"faint":"standard";return a.react.exports.createElement("div",{className:g},a.react.exports.createElement("div",{className:`${g}__icon ${n?"disabled":""}`},s),a.react.exports.createElement("div",{className:`${g}__container`},a.react.exports.createElement("div",{className:`${g}__title ${i?"disabled":""}`},a.react.exports.createElement(t.Text,{size:"small",color:p},r)),a.react.exports.createElement("div",{className:`${g}__subtitle`},a.react.exports.createElement(t.Text,{color:"faint",size:"small"},o))),a.react.exports.createElement("div",{className:`${g}__button ${c?"disabled":""}`},a.react.exports.createElement(t.Button,{variant:"transparent",size:"small",onClick:d},l)))}}oa.displayName="LinksInfoRow";const ca=({isLinkExisting:e})=>!e,la=e=>{const s=t.useIntl(),n=(({linkAccessLevel:e})=>"editor"===e[".tag"]?a.react.exports.createElement(t.UIIcon,{src:_.EditLine,role:"presentation"}):a.react.exports.createElement(t.UIIcon,{src:h.ShowLine,role:"presentation"}))(e),r=((e,t)=>"editor"===t[".tag"]?ra(e):ia(e))(s,e.linkAccessLevel),i=((e,t,a,s)=>a&&t?((e,t,a)=>"editor"===a[".tag"]?"public"===t[".tag"]?e.formatMessage({id:"pS+xkY",defaultMessage:"Anyone with this link can edit"}):"team"===t[".tag"]?e.formatMessage({id:"woEqCF",defaultMessage:"Team members with this link can edit"}):"password"===t[".tag"]?e.formatMessage({id:"ltAbbX",defaultMessage:"Only people with the password can edit"}):"no_one"===t[".tag"]?e.formatMessage({id:"Vsuzcf",defaultMessage:"Only people invited can edit"}):"":"public"===t[".tag"]?e.formatMessage({id:"+yHekt",defaultMessage:"Anyone with this link can view"}):"team"===t[".tag"]?e.formatMessage({id:"vCAOR6",defaultMessage:"Team members with this link can view"}):"password"===t[".tag"]?e.formatMessage({id:"OiPH5W",defaultMessage:"Only people with the password can view"}):"no_one"===t[".tag"]?e.formatMessage({id:"MCi4Ms",defaultMessage:"Only people invited can view"}):"")(e,t,s):e.formatMessage({id:"+9ti3K",defaultMessage:"Create this link in settings"}))(s,e.linkAudience,e.isLinkExisting,e.linkAccessLevel),o=ca(e),c=ca(e),l=(({onLinksSettingsTextClick:e})=>a.react.exports.useCallback((()=>{e()}),[e]))(e),d=(e=>e.formatMessage({id:"7yZAb1",defaultMessage:"Settings"}))(s);return a.react.exports.createElement(a.react.exports.Fragment,null,a.react.exports.createElement(oa,{icon:n,disableIcon:o,title:r,disableTitle:c,subtitle:i,disableButton:!1,buttonText:d,onClickButton:l}))};la.displayName="LinkListItemSection";const da=()=>{const e=t.useIntl(),s=(e=>e.formatMessage({id:"fvGBmm",defaultMessage:"You don't have access to links"}))(e),n=(e=>e.formatMessage({id:"0Y5iuS",defaultMessage:"If you need a link, ask the owner to share it with you"}))(e);return a.react.exports.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",paddingTop:"20px"}},a.react.exports.createElement("div",{style:{height:"48px",width:"48px"}},a.react.exports.createElement(t.InfoPictogram,null)),a.react.exports.createElement("div",null,a.react.exports.createElement("div",{style:{textAlign:"center",paddingTop:"20px"}},a.react.exports.createElement(t.Title,{size:"small"},s)),a.react.exports.createElement("div",{style:{textAlign:"center",padding:"0 24px 0 24px"}},a.react.exports.createElement(t.Text,{size:"standard"},n))))};da.displayName="NoPermissionsSection";const ga=(e,t)=>{const s=fe();return a.react.exports.useCallback((()=>{var a,n;let r=ct,i=p.getLinkType(null===(a=e.$viewLinkMetadata.get())||void 0===a?void 0:a.url),o=p.SettingsTabName.ViewLinkSettingsTab;t===lt&&(r=lt,i=p.getLinkType(null===(n=e.$editLinkMetadata.get())||void 0===n?void 0:n.url),o=p.SettingsTabName.EditLinkSettingsTab),t===lt?e.$props.get().onEditLinkSettingsClick():e.$props.get().onViewLinkSettingsClick(),s("SHARE_MODAL_MANAGE_ACCESS__SETTINGS_TEXT__CLICK",{link_access_level:r,link_type:i,settings_tab:o})}),[e,s])},pa=({store:e})=>{const t=Le(e.$shouldShowEditLinkInfo),s=Le(e.$editLinkAudience),n=Le(e.$isEditLinkExisting),r=ga(e,lt),i=Le(e.$objectMetadata),o=Le(e.$canCreateEditLink);return t?a.react.exports.createElement(a.react.exports.Fragment,null,a.react.exports.createElement(la,{canCreateLink:o,isLinkExisting:n,linkAccessLevel:lt,linkAudience:s,objectMetadata:i,onLinksSettingsTextClick:r})):a.react.exports.createElement(a.react.exports.Fragment,null)};pa.displayName="EditLinkInfoWrapper";const ma=({store:e})=>{const t=Le(e.$viewLinkAudience),s=Le(e.$isViewLinkExisting),n=ga(e,ct),r=Le(e.$objectMetadata),i=Le(e.$shouldShowViewLinkInfo),o=Le(e.$canCreateViewLink);return i?a.react.exports.createElement(a.react.exports.Fragment,null,a.react.exports.createElement(la,{canCreateLink:o,isLinkExisting:s,linkAccessLevel:ct,linkAudience:t,objectMetadata:r,onLinksSettingsTextClick:n})):a.react.exports.createElement(a.react.exports.Fragment,null)};ma.displayName="ViewLinkInfoWrapper";const ua=({store:e})=>Le(e.$shouldShowNoPermissionsPage)?a.react.exports.createElement(a.react.exports.Fragment,null,a.react.exports.createElement(da,null)):a.react.exports.createElement(a.react.exports.Fragment,null);ua.displayName="NoPermissionsPageWrapper";const _a=({store:e})=>a.react.exports.createElement("div",{style:{border:"1px solid var(--color__faint__border)",height:"250px",padding:"13px"}},a.react.exports.createElement(pa,{store:e}),a.react.exports.createElement("div",{style:{height:"4px"}}),a.react.exports.createElement(ma,{store:e}),a.react.exports.createElement(ua,{store:e}));_a.displayName="LinkList";const ha=e=>{const t=(e=>Re(e,(e=>{const t=Ie((()=>e.get().linksMetadata)),a=Ie((()=>e.get().objectMetadata)),s=Ie((()=>e.get().onViewLinkSettingsClick)),n=Ie((()=>e.get().onEditLinkSettingsClick)),r=Ie((()=>e.get().sharingPrefs)),i=Ie((()=>Vt(e.get().linksMetadata,{".tag":"editor"}))),o=Ie((()=>{const e=i.get();return null!==e?Bt(e):null})),c=Ie((()=>null!=i.get())),l=Ie((()=>{const e=na(r.get());return Rt(a.get(),{".tag":"editor"},e)})),d=Ie((()=>{const e=l.get(),t=c.get();return e||t})),g=Ie((()=>Vt(e.get().linksMetadata,{".tag":"viewer"}))),p=Ie((()=>{const e=g.get();return null!==e?Bt(e):null})),m=Ie((()=>null!=g.get())),u=Ie((()=>{const e=na(r.get());return Rt(a.get(),{".tag":"viewer"},e)})),_=Ie((()=>{const e=u.get(),t=m.get();return e||t})),h=Ie((()=>{const e=d.get(),t=_.get();return!(e||t)}));return{$objectMetadata:a,$linksMetadata:t,$canCreateEditLink:l,$canCreateViewLink:u,$editLinkMetadata:i,$viewLinkMetadata:g,$editLinkAudience:o,$viewLinkAudience:p,$isEditLinkExisting:c,$isViewLinkExisting:m,$onViewLinkSettingsClick:s,$onEditLinkSettingsClick:n,$shouldShowEditLinkInfo:d,$shouldShowViewLinkInfo:_,$shouldShowNoPermissionsPage:h,$sharingPrefs:r,$props:e}})))(e);return a.react.exports.createElement("div",{style:{height:"260px"}},a.react.exports.createElement(_a,{store:t}))};ha.displayName="ShareModalManageLinksInner";const Ea=e=>e.formatMessage({id:"R8tdDL",defaultMessage:"Can edit"}),fa=e=>e.formatMessage({id:"2kS9ex",defaultMessage:"Can view"}),ba=e=>e.formatMessage({id:"pI4aSB",defaultMessage:"View-only"}),Sa="empty-member-list",Aa=`${Sa}-info`,va=`${Sa}-warn`,xa=({subtitle:e})=>{const s=(e=>e.formatMessage({id:"f7F1sF",defaultMessage:"Keep track of people and permissions"}))(t.useIntl());return a.react.exports.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},a.react.exports.createElement("div",{style:{height:"48px",width:"48px"}},a.react.exports.createElement(t.InfoPictogram,{"data-testid":Aa})),a.react.exports.createElement("div",null,a.react.exports.createElement("div",{style:{textAlign:"center",paddingTop:"20px"}},a.react.exports.createElement(t.Title,{size:"small"},s)),a.react.exports.createElement("div",{style:{textAlign:"center",padding:"0 24px 0 24px",width:"420px"}},a.react.exports.createElement(t.Text,{size:"standard"},e))))};xa.displayName="EmptyMemberListWithPermissions";const Ta=()=>{const e=t.useIntl(),s=(e=>e.formatMessage({id:"XURAv9",defaultMessage:"Can't manage people with access"}))(e),n=(e=>e.formatMessage({id:"e0jVSh",defaultMessage:"This folder contains subfolders that you don't own."}))(e);return a.react.exports.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},a.react.exports.createElement("div",{style:{height:"48px",width:"48px"}},a.react.exports.createElement(t.WarningPictogram,{"data-testid":va})),a.react.exports.createElement("div",null,a.react.exports.createElement("div",{style:{textAlign:"center",paddingTop:"20px"}},a.react.exports.createElement(t.Title,{size:"small"},s)),a.react.exports.createElement("div",{style:{textAlign:"center",padding:"0 24px 0 24px"}},a.react.exports.createElement(t.Text,{size:"standard"},n))))};Ta.displayName="EmptyMemberListNoPermissions";const Ma=({isFile:e,isFileFolder:s,canInviteMembers:n})=>{const r=t.useIntl(),i=ka(e,s,r);return a.react.exports.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},n?a.react.exports.createElement(xa,{subtitle:i}):a.react.exports.createElement(Ta,null))};Ma.displayName="EmptyMemberList";const ka=(e,t,a)=>e?(e=>e.formatMessage({id:"7453qx",defaultMessage:"When specific people are invited to this file, they’ll be listed here."}))(a):t?(e=>e.formatMessage({id:"rgZZgG",defaultMessage:"When specific people are invited to this folder, they’ll be listed here."}))(a):"",Ca="scl-action-section";class ya extends a.react.exports.Component{render(){const{children:e,className:s,layout:n,header:r,footerContent:i,footerActions:o,isHeaderBold:c}=this.props,l=t.classnames(s,Ca,{[`scl-action-section--${n}`]:!!n});return a.react.exports.createElement("div",{className:l},r&&a.react.exports.createElement(t.Text,{className:"scl-action-section__header",tagName:"div",size:"small",isBold:c},r),a.react.exports.createElement("div",{className:"scl-action-section__children"},e),a.react.exports.createElement("div",{className:"scl-action-section__footer"},i&&a.react.exports.createElement("div",{className:"scl-action-section__footer-content"},i),o&&a.react.exports.createElement("div",{className:"scl-action-section__footer-actions"},o)))}}ya.displayName="ActionSection",ya.defaultProps={isHeaderBold:!0,layout:"rows"};const Oa="scl-checkbox-with-label";class Na extends a.react.exports.Component{render(){const{label:e,fontSize:s,isChecked:n,isCheckboxDisabled:r,onCheckboxToggled:i,className:o}=this.props,l=t.classnames(o,Oa);return a.react.exports.createElement("span",{className:l},a.react.exports.createElement(c.Checkbox,{"aria-label":e,onChange:i,checked:n,disabled:r,id:"checkbox"}),a.react.exports.createElement(t.Text,{className:`${Oa}__text`,tagName:"label",size:s,htmlFor:"checkbox"},e))}}Na.displayName="CheckboxWithLabel";const Ia="scl-help-info";class wa extends a.react.exports.PureComponent{render(){const{id:e,className:s,text:n,placement:r,iconSize:i,children:o}=this.props,c=t.classnames(s,Ia);return a.react.exports.createElement(t.Tooltip,{className:c,id:e,placement:r,title:n},a.react.exports.createElement("span",{className:Ia},o,a.react.exports.createElement(t.UIIcon,{src:t.HelpLine,className:"scl-help-info__icon",size:i,"aria-label":""})))}}wa.displayName="HelpInfo",wa.defaultProps={placement:"top",iconSize:"small"};const La=e=>e,Ra=tt({name:"sharing.targetsSearch"},(t=>a=>l.__awaiter(void 0,void 0,void 0,(function*(){const s=yield et(t.sharingTargetsSearch(a));return"SUCCESS"===s.status?{status:e.Status.SUCCESS,output:s.output.entries.map(La)}:s})))),Da=tt({name:"profileServices.listLinkedServices"},(e=>()=>et(e.profileServicesListLinkedServices()))),Pa=e=>{const t=e.toUpperCase().split(" ").filter((e=>e));return`${t.length>0?t[0][0]:""}${t.length>1?t[t.length-1][0]:""}`};function ja(e,t){if(!e)return"";const a=(e=e.toUpperCase()).trim().split(" "),s=$a(a[0]),n=$a(a[a.length-1]);if(a.length>=2)return Fa(t)?n[0]+s[0]:s[0]+n[0];const r=$a(e);return Fa(t)&&!function(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>=128)return!1;return!0}(e)&&r.length>1?r[0]+r[1]:r[0]}function Fa(e){return-1!==["zh","ja","ko"].indexOf(e)}function $a(e){const t=[],a=e.length;let s=0;for(;s<a;){const n=e[s];if(n>="\ud800"&&n<="\udb7f"){if(!(s<a-1))break;{const a=n+e[s+1];t.push(a),s+=2}}else t.push(n),s+=1}return t}const Ha=/['&A-Za-z0-9\._%+-]+@[A-Za-z0-9-][A-Za-z0-9\.-]*\.[A-Za-z]{2,15}/gi,Va=/[,|;>\s]/,Ba="IMPORT_CONTACTS",Ua=[Ba],Ga="Google",Ka="/static/images/index/google-logo-color.svg",Wa=e=>{const t=a.react.exports.useRef(null);return Re(e,(e=>{const a=Ne(!1),s=Ne(!1),n=Ne(!1),r=Ne(!1),i=Ne(!1),o=Ne(null),c=Ne(""),l=Ie((()=>e.get().user)),d=Ie((()=>e.get().accessLevel)),g=Ie((()=>e.get().inviteTargets),(t=>e.get().onInviteTargetsChange(Za(Ya(t))))),p=Ie((()=>e.get().inviteTargetValidation)),m=Ie((()=>e.get().objectMetadata)),u=Ie((()=>Lt(m.get(),d.get()))),_=Ie((()=>{const e=o.get();return e?((e,t)=>{const a=e.linked_services.find((e=>e.service_type[".tag"]===t[".tag"]));return!!a&&"is_connected"===a.connection_state[".tag"]})(e,{".tag":"google"})&&((e,t,a)=>{const s=e.linked_services.find((e=>e.service_type[".tag"]===t[".tag"]));return!!s&&s.granted_permissions.some((e=>e[".tag"]===a[".tag"]))})(e,{".tag":"google"},{".tag":"contacts"}):null})),h=Ie((()=>l.get().is_team)),E=Ie((()=>Ot(m.get()))),f=Ie((()=>r.get())),b=Ne([]),S=Ie((e=>{const t=E.get(),a=l.get().email,s=g.get().map(ea),n={},r=b.get().filter((e=>{const r=ea(e);return!n[r]&&(n[r]=!0,!s.includes(r)&&((!t||"group"===e[".tag"])&&("email"!==e[".tag"]&&("user"!==e[".tag"]||e.email!==a))))}));return null!==e&&e.length===r.length&&e.every(((e,t)=>e===r[t]),!0)?e:r})),A=Ie((e=>{const t=E.get(),a=c.get(),s=t||""===a,n=[...S.get().slice(0,9),...s?[]:Ua];return null!==e&&e.length===n.length&&e.reduce(((e,t,a)=>e&&t===n[a]),!0)?e:n}));return{$accessLevel:d,$user:l,$canInvite:u,$inviteTargets:g,$inviteTargetValidation:p,$isConnectedToGoogle:_,$isConnectingToGoogle:a,$isFocused:s,$isImportContactsExpanded:n,$isLinkedServicesUpdating:r,$isTeamAccount:h,$isTeamFolder:E,$isTypeaheadForcedOpen:i,$isUpdatingGoogleConnectionStatus:f,$linkedServices:o,$objectMetadata:m,$query:c,$searchSuggestionsRaw:b,$searchSuggestions:S,$suggestions:A,inputRef:t}}))},za=e=>(e.match(Ha)||[]).map(Qt),qa=e=>a.react.exports.useCallback((t=>{const a=t.currentTarget.value,s=(n=a,Va.test(n)?za(n):[]);var n;we((()=>{e.$isTypeaheadForcedOpen.set(!1),s.length>0?(e.$inviteTargets.set([...e.$inviteTargets.get(),...s]),e.$query.set("")):e.$query.set(a)}))}),[e]),Za=e=>e.map((e=>{if("email"===e[".tag"]||"user"===e[".tag"]){const t=e.email.trim();return t.length===e.email.length?e:Object.assign(Object.assign({},e),{email:t})}return e})),Ya=e=>{const t={};return e.filter((e=>{const a=ea(e);return!t[a]&&(t[a]=!0,!0)}))},Xa=e=>{const t=(e=>{const t=qt(Ra),s=fe(),n=Ue();return a.react.exports.useCallback((()=>l.__awaiter(void 0,void 0,void 0,(function*(){let a;const r=e.$objectMetadata.get();Tt(r)&&(a=r.id);const i=e.$query.get();s("TARGETS_TOKENIZER__TARGETS_SEARCH__API_START",null);const o=yield t({content_id:a,query:i,force_refresh:!1,limit:10});if("SUCCESS"===o.status?s("TARGETS_TOKENIZER__TARGETS_SEARCH__API_SUCCESS",{response:o}):"ERROR"===o.status?s("TARGETS_TOKENIZER__TARGETS_SEARCH__API_ERROR",{response:o}):s("TARGETS_TOKENIZER__TARGETS_SEARCH__API_FATAL",{response:o}),e.$query.get()===i)return"SUCCESS"!==o.status?(n(),void e.$searchSuggestionsRaw.set([])):void e.$searchSuggestionsRaw.set(o.output)}))),[e,t,n,s])})(e);a.react.exports.useEffect((()=>{const a=[e.$query.obs(t)];return()=>a.forEach((e=>e()))}),[e,t])},Ja=e=>{const t=qt(Da);return a.react.exports.useCallback((()=>l.__awaiter(void 0,void 0,void 0,(function*(){if(e.$isLinkedServicesUpdating.get())return;const a=yield t(null);"SUCCESS"===a.status?we((()=>{e.$linkedServices.set(a.output),e.$isLinkedServicesUpdating.set(!1)})):we((()=>{e.$linkedServices.set(null),e.$isLinkedServicesUpdating.set(!1)}))}))),[e,t])},Qa=e=>{const s=t.useIntl(),n=He(),r=fe(),i=Ja(e),o=Me();return a.react.exports.useCallback((()=>l.__awaiter(void 0,void 0,void 0,(function*(){if(e.$isConnectingToGoogle.get()||null===o)return;e.$isConnectingToGoogle.set(!0);let t=null;const a=()=>{n.showFailure({message:s.formatMessage({id:"sgP44K",defaultMessage:"Failed to connect your contacts from Google"}),intl:s}),null!==t&&clearInterval(t),window.removeEventListener("message",d),i().then((()=>{e.$isConnectingToGoogle.set(!1)}))},c=new URLSearchParams({service:"1",is_popup:"true",action:"link_contacts",prompt_select:"true",token:o,user_id:e.$user.get().id.toString(),is_desktop:"false"}),l=window.open(`/profile_services/start_auth_flow?${c.toString()}`,"Google","width=600,height=600,resizable=1,scrollbars=1");if(null===l)return a();t=setInterval((()=>{l.closed&&a()}),1e3);const d=o=>{let c;try{c=JSON.parse(o.data)}catch(e){return}if(Ye({type:(g="db:profile_service:auth_complete",e=>e===g),payload:Ye({success:We})})(c)){var g,m;if(c.payload.success)return m=l,r("TEAMS_WEB",{name:p.TeamsWebEventName.ImportContactsComplete,extra:{provider:"google",path:window.location.pathname}}),n.showCompleted({message:s.formatMessage({id:"Au33+R",defaultMessage:"Successfully connected your contacts from Google"}),intl:s}),null!==t&&clearInterval(t),window.removeEventListener("message",d),i().then((()=>{e.$isConnectingToGoogle.set(!1)})),void(null==m||m.close());a(),l.close()}};window.addEventListener("message",d)}))),[e,s,n,r,i,o])},es=(e,t)=>"user"===e[".tag"]?ja(e.name,t.locale):"group"===e[".tag"]?Pa(e.name):"email"===e[".tag"]?"":it(0,""),ts=(e,t)=>"user"===e[".tag"]?t&&t!==e.dbx_team_id?e.email:e.name:"group"===e[".tag"]?e.name:"email"===e[".tag"]?e.email:"",as=({store:e,target:s})=>{const n=t.useIntl(),r=((e,t)=>a.react.exports.useCallback((()=>{const a=e.$inviteTargets.get().filter((e=>e!==t));we((()=>{e.$inviteTargets.set(a),e.$query.set("")}))}),[e,t]))(e,s),i=e.$user.get().team_dbtid,o=$.em_snippet(ts(s,i),t.SNIPPET_SIZES.EMAIL),c="user"===s[".tag"]&&i&&i!==s.dbx_team_id?"":es(s,n),l=ta(s),d=t.avatarColorForUserIdentifier(c),g=ea(s),p=Le(e.$inviteTargetValidation)[g],m=p&&"disallowed"===p.result[".tag"],u=p&&"allowed"===p.result[".tag"]&&"no_warning"!==p.result.allowed[".tag"];return a.react.exports.createElement(t.InputChip,{size:"small",onDelete:r,isAlert:m,isWarning:u,withAvatarLeft:(c||l)&&a.react.exports.createElement(t.Avatar,{src:l||"",size:"xsmall",backgroundColor:c&&d,hasNoOutline:!0},c)},o)};as.displayName="Chip";const ss=({target:e})=>{const s=t.useIntl(),n=ea(e),r=es(e,s),i=ts(e),o=((e,t)=>"user"===e[".tag"]||"email"===e[".tag"]?e.email:"group"===e[".tag"]?t.formatMessage({id:"XMHn5C",defaultMessage:"{count, plural, one{# member} other{# members}}"},{count:e.group_size||0}):"")(e,s),c=ta(e),l=t.avatarColorForUserIdentifier(r);return a.react.exports.createElement(E.Typeahead.Row,{"data-testid":"typeahead-suggestion",key:n,value:e,withTitle:i,withSubtitle:o,withLeftAccessory:a.react.exports.createElement(t.Avatar,{src:c||"",backgroundColor:l,hasNoOutline:!0},r)})};ss.displayName="Suggestion";const ns=({store:e})=>{const s=t.useIntl(),n=Le(e.$isConnectingToGoogle),r=Le(e.$isConnectedToGoogle),i=Le(e.$isImportContactsExpanded),o=Le(e.$isLinkedServicesUpdating);return Me()?n?a.react.exports.createElement(E.Typeahead.Row,{"data-testid":"typeahead-import-contacts",key:Ba,withLeftAccessory:a.react.exports.createElement(t.Avatar,{src:Ka}),value:Ba,withTitle:Ga,withSubtitle:s.formatMessage({id:"JbMFlW",defaultMessage:"Importing contacts"})}):o?null:i?r?a.react.exports.createElement(E.Typeahead.Row,{"data-testid":"typeahead-import-contacts",key:Ba,withLeftAccessory:a.react.exports.createElement(t.Avatar,{src:Ka}),value:Ba,withTitle:Ga,withSubtitle:s.formatMessage({id:"2/+46g",defaultMessage:"Connected"})}):a.react.exports.createElement(E.Typeahead.Row,{"data-testid":"typeahead-import-contacts",key:Ba,withLeftAccessory:a.react.exports.createElement(t.Avatar,{src:Ka}),value:Ba,withTitle:Ga,withSubtitle:s.formatMessage({id:"CkYgqG",defaultMessage:"Sign in to import contacts"})}):a.react.exports.createElement(E.Typeahead.Row,{"data-testid":"typeahead-import-contacts",key:Ba,withLeftAccessory:a.react.exports.createElement(t.Avatar,{src:"/static/images/icons/icon-import.png"}),value:Ba,withTitle:s.formatMessage({id:"H3lmrv",defaultMessage:"Import contacts"}),withSubtitle:s.formatMessage({id:"fcpqv/",defaultMessage:"Import contacts from another service"})}):null};ns.displayName="ImportContacts";const rs=s=>{const n=Wa(s),r=t.useIntl(),i=a.react.exports.useRef(null),o=Le(n.$query),c=Le(n.$inviteTargets),d=Le(n.$suggestions),g=Le(n.$canInvite),p=Le(n.$isTypeaheadForcedOpen);Xa(n),(e=>{const t=qt(Ra),s=fe();a.react.exports.useEffect((()=>{l.__awaiter(void 0,void 0,void 0,(function*(){s("TARGETS_TOKENIZER__TARGETS_SEARCH__API_START",null);const a=yield t({content_id:void 0,query:"",force_refresh:!0,limit:10});"SUCCESS"===a.status?s("TARGETS_TOKENIZER__TARGETS_SEARCH__API_SUCCESS",{response:a}):"ERROR"===a.status?s("TARGETS_TOKENIZER__TARGETS_SEARCH__API_ERROR",{response:a}):s("TARGETS_TOKENIZER__TARGETS_SEARCH__API_FATAL",{response:a}),"SUCCESS"===a.status&&e.$searchSuggestionsRaw.set(a.output)}))}),[])})(n),(e=>{const t=Ja(e);a.react.exports.useEffect((()=>{t()}),[t])})(n);const m=(e=>{const t=Qa(e);return a.react.exports.useCallback((a=>{we((()=>{if(a===Ba){if(e.$isTypeaheadForcedOpen.set(!0),!e.$isImportContactsExpanded.get())return void e.$isImportContactsExpanded.set(!0);if(e.$isConnectingToGoogle.get())return;if(e.$isConnectedToGoogle.get())return;return e.$query.set(""),void t()}e.$query.set(""),e.$inviteTargets.set([...e.$inviteTargets.get(),a])}))}),[e,t])})(n),u=(e=>a.react.exports.useCallback((t=>{const a=e.$query.get();if(8===t.keyCode&&""===a&&e.$inviteTargets.set(e.$inviteTargets.get().slice(0,-1)),13===t.keyCode)if(e.$searchSuggestions.get().length>0)we((()=>{e.$inviteTargets.set([...e.$inviteTargets.get(),e.$searchSuggestions.get()[0]]),e.$query.set("")}));else if(""!==a){const t=za(a);t.length>0?we((()=>{e.$inviteTargets.set([...e.$inviteTargets.get(),...t]),e.$query.set("")})):we((()=>{e.$inviteTargets.set([...e.$inviteTargets.get(),Qt(a)]),e.$query.set("")}))}}),[e]))(n),_=qa(n);let h=(e=>{const s=t.useIntl(),n=Le(e.$isTeamFolder),r=Le(e.$isTeamAccount);return a.react.exports.useMemo((()=>n?s.formatMessage({id:"VMGE6I",defaultMessage:"Group names"}):r?s.formatMessage({id:"+nKRfb",defaultMessage:"Add an email, name, or group"}):s.formatMessage({id:"bdV6O3",defaultMessage:"Add an email or name"})),[n,r,s])})(n);h=c.length>0?"":h;const f=(e=>a.react.exports.useCallback((()=>{const t=za(e.$query.get());we((()=>{t.length>0&&(e.$inviteTargets.set([...e.$inviteTargets.get(),...t]),e.$query.set("")),e.$isTypeaheadForcedOpen.set(!1),e.$isFocused.set(!1)}))}),[e]))(n),b=(e=>a.react.exports.useCallback((()=>{e.$isTypeaheadForcedOpen.set(!1),e.$isFocused.set(!0)}),[e]))(n),S=(e=>a.react.exports.useCallback((t=>t===Ba?a.react.exports.createElement(ns,{store:e}):a.react.exports.createElement(ss,{target:t})),[e]))(n),A=xe()!==e.Platforms.DESKTOP,v=a.react.exports.useRef(!1),x=a.react.exports.useCallback(((e,t)=>{const a=t.includes(Ba)?t.length-1:t.length,n=e&&a>0;if(v.current!==n){v.current=n;(s.onTargetsDropdownFocusChange||(()=>{}))(n)}}),[s.onTargetsDropdownFocusChange]);return a.react.exports.createElement(a.react.exports.Fragment,null,a.react.exports.createElement(E.Typeahead.Wrapper,{onSelection:m,hasMaxHeight:!0,isPortaled:!1},(({getTriggerProps:e,getContentProps:s})=>{const m=s({}),{open:v}=m,T=l.__rest(m,["open"]),M=v||p;return x(M,d),a.react.exports.createElement(a.react.exports.Fragment,null,a.react.exports.createElement(t.TextInput.Container,{ref:i,disabled:!g},a.react.exports.createElement(t.TextInput.ChipsContainer,null,c.map(((e,t)=>a.react.exports.createElement(as,{store:n,key:t,target:e}))),a.react.exports.createElement(t.TextInput.Input,Object.assign({},e({onChange:_,onKeyDown:u,onBlur:f,onFocus:b}),{ref:n.inputRef,disabled:!g,value:o,"aria-label":h,placeholder:h,"data-testid":"targets-tokenizer-input",id:"targets-tokenizer-input-search"})))),a.react.exports.createElement(E.Typeahead.Container,Object.assign({},T,{triggerRef:i,open:M,"data-testid":"typeahead-container",auto:A}),a.react.exports.createElement(E.Typeahead.Results,{title:r.formatMessage({id:"ZusjWv",defaultMessage:"Suggested people"}),results:d,renderRow:S,initialResults:""==o?3:10,maxResults:10})))})))};rs.displayName="TargetsTokenizer";const is="scl-info-box";class os extends a.react.exports.Component{componentDidMount(){setTimeout((()=>{(new Image).src=this.props.imgPath}),200)}render(){const{imgPath:e,imgAlt:s,title:n,message:r}=this.props;return a.react.exports.createElement("div",{className:is},a.react.exports.createElement("img",{src:e,className:"scl-info-box__img",alt:s}),a.react.exports.createElement("div",{className:"scl-info-box__text"},a.react.exports.createElement(t.Title,{size:"small",isBold:!0},n),a.react.exports.createElement(t.Text,{size:"small"},r)))}}os.displayName="InfoBox",e.ACL_UPDATE_POLICY="acl_update_policy",e.ActionContainer=le,e.ActionSection=ya,e.Banner=X,e.CHANGE_OPTIONS_TAG=ht,e.CREATE_EDIT_LINK_TAG=_t,e.CREATE_VIEW_LINK_TAG=ut,e.Card=O,e.CheckboxWithLabel=Na,e.DISABLE_VIEWER_INFO_TAG=xt,e.DROPDOWN=x,e.DisableDownloadsBanner=e=>{const{intl:t,linkPolicy:s,linkPermissions:n}=e;return!s.allow_download&&n.can_disallow_download?a.react.exports.createElement(o.SharingModalBanner,{className:"sharing-settings-modal__banner",type:"warn",message:t.formatMessage({id:"+EZZAD",defaultMessage:"This applies only within Dropbox."})}):null},e.EDITOR=lt,e.EDIT_LINK_SETTINGS="edit_link_settings",e.ENABLE_VIEWER_INFO_TAG=vt,e.EmptyMemberList=Ma,e.Emstring=$,e.FILE_SETTINGS="file_settings",e.FOLDER_LINK_AUDIENCE_POLICY="shared_link_policy",e.FOLDER_SETTINGS="folder_settings",e.FormValidationMessage=function({message:e,variant:s}){if(!e)return null;const n="error"===s?"alert":"warning";return a.react.exports.createElement(t.Banner,{type:n},a.react.exports.createElement(t.Banner.Message,{className:"scl-sharing-modal-validation-warning__message"},e))},e.HelpInfo=wa,e.INVITE_EDITOR_TAG=gt,e.INVITE_VIEWER_NO_COMMENT_TAG=mt,e.INVITE_VIEWER_TAG=pt,e.IconLink=({className:e,variant:t})=>a.react.exports.createElement("svg",{className:e,width:"32px",height:"32px",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a.react.exports.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.react.exports.createElement("circle",{stroke:"#D0D4D9",strokeWidth:"1.32",cx:"16",cy:"16",r:"15.34",fill:K[t||"default"]}),(e=>{switch(e){case"edit":return W();case"view":return z();default:return q()}})(t||"default"))),e.InfoBox=os,e.MEMBER_POLICY="member_policy",e.MetadataProvider=be,e.NO_ONE=Dt,e.OTHER={".tag":"other"},e.PASSWORD=Pt,e.PUBLIC=Ft,e.Provider=Jt,e.RELINQUISH_MEMBERSHIP_TAG=Et,e.REMOVE_DOWNLOAD_POLICY_TAG=ft,e.SET_DOWNLOAD_POLICY_TAG=bt,e.SHARE_MESSAGE_AS_COMMENT_TAG=St,e.ScooterLoader=Z,e.SettingDropdown=k,e.SettingPolicyRow=N,e.SettingsToggle=w,e.ShareModalManageLinksInner=ha,e.SharingAvatarInitials=oe,e.SharingModalDowngradeBanner=Q,e.SharingModalHeader=te,e.SharingModalHeaderInput=se,e.SharingModalHeaderTitle=ae,e.SharingModalHeaderWithBackButton=ie,e.SharingModalSettingsRow=C,e.SharingSettingsAudience=function(e){const{intl:t,linkPermissions:s}=e;let n;s.audience_options.filter((e=>e.allowed)).length>1||(n=a.react.exports.createElement(H,{intl:t,linkPermissions:s}));const r=e.getPolicyDict(A),i=a.react.exports.createElement(B,Object.assign({},e));return a.react.exports.createElement(N,{policyName:A,policyDict:r,selector:i,extra:n})},e.SharingSettingsDownload=e=>{const t=e.getPolicyDict(b),s=e.isEditFolderLink?void 0:a.react.exports.createElement(G,Object.assign({},e)),n=e.isEditFolderLink?"setting-disabled":"";return a.react.exports.createElement(N,{policyName:b,policyDict:t,selector:s,onLinkClicked:e.onLinkClicked,extra:e.banner,className:n})},e.SharingSettingsExpire=e=>{const t=e.getPolicyDict(f),s=t=>{t&&t.expires instanceof Date&&(t.expires.setHours(23),t.expires.setMinutes(59),t.expires.setSeconds(59)),e.onPolicyUpdate(t)},n=null!=e.linkPolicy.expires,r=a.react.exports.createElement(R,Object.assign({},e,{onPolicyUpdate:s})),i=a.react.exports.createElement("div",null,r,n&&a.react.exports.createElement(L,Object.assign({},e,{onPolicyUpdate:s})));return a.react.exports.createElement(N,{policyName:f,policyDict:t,selector:i})},e.SharingSettingsLinkPolicies=e=>({getShmodelInMultipleLinksPolicyDict(t,a){switch(t){case A:return{title:e.formatMessage({id:"uCVAxq",defaultMessage:"Who has access"}),description:a?e.formatMessage({id:"4HZCOQ",defaultMessage:"Control who can view the folder with this link."}):e.formatMessage({id:"xb28qW",defaultMessage:"Control who can view the file with this link."}),optionsDict:{public:{label:e.formatMessage({id:"JWcJZ7",defaultMessage:"Anyone with link"}),description:a?e.formatMessage({id:"ysL13U",defaultMessage:"Anyone with this link can view the folder."}):e.formatMessage({id:"oxZeg7",defaultMessage:"Anyone with this link can view the file."})},team:{label:e.formatMessage({id:"i9dq7T",defaultMessage:"Team members"}),description:a?e.formatMessage({id:"AvhnVi",defaultMessage:"Team members with this link can view the folder."}):e.formatMessage({id:"YTZEp1",defaultMessage:"Team members with this link can view the file."})},password:{label:e.formatMessage({id:"DDCDRp",defaultMessage:"People with password"}),description:a?e.formatMessage({id:"uos+ms",defaultMessage:"Password protect this link for viewing the folder."}):e.formatMessage({id:"oPivFQ",defaultMessage:"Password protect this link for viewing the file."})},no_one:{label:e.formatMessage({id:"kuFRq0",defaultMessage:"Only people invited"}),description:e.formatMessage({id:"+ZBQS4",defaultMessage:"The link is off and does not grant additional access to anyone."})}},type:x};case f:return{title:e.formatMessage({id:"HIIRnD",defaultMessage:"Expiration"}),description:e.formatMessage({id:"92TP40",defaultMessage:"Disable this link on a specific date."}),optionsDict:{enabled:{label:e.formatMessage({id:"J8zY2i",defaultMessage:"On"}),value:!0},disabled:{label:e.formatMessage({id:"w6dVgn",defaultMessage:"Off"}),value:!1}},type:T};case b:return{title:e.formatMessage({id:"d8lth0",defaultMessage:"Disable downloads"}),description:e.formatMessage({id:"B5ygR1",defaultMessage:"Prevent people with this link from downloading."}),descriptionLinkUrl:"/help/files-folders/set-link-permissions",descriptionLinkText:e.formatMessage({id:"gk12sS",defaultMessage:"Learn more"}),optionsDict:{enabled:{label:e.formatMessage({id:"47AlCD",defaultMessage:"On"}),value:!0},disabled:{label:e.formatMessage({id:"0oEiHx",defaultMessage:"Off"}),value:!1}},type:T};case S:return{title:e.formatMessage({id:"LtXXzz",defaultMessage:"Default sharing settings"}),description:e.formatMessage({id:"dVXrDR",defaultMessage:"Go to account settings to set a default sharing permission"}),optionsDict:{},type:M};default:throw new Error("Policy name not found")}},getRLPolicyDict(t,a,s,n=!1){const r="editor"===a;switch(t){case A:return{title:e.formatMessage({id:"uCVAxq",defaultMessage:"Who has access"}),description:r?s?e.formatMessage({id:"inMOXx",defaultMessage:"Control who can edit the folder with this link."}):n?e.formatMessage({id:"q43j+5",defaultMessage:"Control who can edit the collection with this link."}):e.formatMessage({id:"/1cHLH",defaultMessage:"Control who can edit the file with this link."}):n?e.formatMessage({id:"RE27lR",defaultMessage:"Control who can view the collection with this link."}):e.formatMessage({id:"xb28qW",defaultMessage:"Control who can view the file with this link."}),optionsDict:{public:{label:e.formatMessage({id:"JWcJZ7",defaultMessage:"Anyone with link"}),description:r?s?e.formatMessage({id:"w/+tle",defaultMessage:"Anyone with this link can edit the folder."}):n?e.formatMessage({id:"6f9EIg",defaultMessage:"Anyone with this link can edit the collection."}):e.formatMessage({id:"a3Sd0R",defaultMessage:"Anyone with this link can edit the file."}):n?e.formatMessage({id:"anz5bU",defaultMessage:"Anyone with this link can view the collection."}):e.formatMessage({id:"oxZeg7",defaultMessage:"Anyone with this link can view the file."})},team:{label:e.formatMessage({id:"i9dq7T",defaultMessage:"Team members"}),description:r?s?e.formatMessage({id:"qUcOUf",defaultMessage:"Team members with this link can edit the folder."}):n?e.formatMessage({id:"+rwKpP",defaultMessage:"Team members with this link can edit the collection."}):e.formatMessage({id:"dyCqAa",defaultMessage:"Team members with this link can edit the file."}):n?e.formatMessage({id:"p6witM",defaultMessage:"Team members with this link can view the collection."}):e.formatMessage({id:"YTZEp1",defaultMessage:"Team members with this link can view the file."})},no_one:{label:e.formatMessage({id:"kuFRq0",defaultMessage:"Only people invited"}),description:e.formatMessage({id:"+ZBQS4",defaultMessage:"The link is off and does not grant additional access to anyone."})}},type:x};case v:return{title:e.formatMessage({id:"8stY8L",defaultMessage:"Require password"}),description:s?e.formatMessage({id:"1Syz7Y",defaultMessage:"Set a password to limit access to the folder via link."}):n?e.formatMessage({id:"7ahyOy",defaultMessage:"Set a password to limit access to the collection via link."}):e.formatMessage({id:"AH/PXS",defaultMessage:"Set a password to limit access to the file via link."}),optionsDict:{enabled:{label:e.formatMessage({id:"oUP+qL",defaultMessage:"On"}),value:!0},disabled:{label:e.formatMessage({id:"h58mvf",defaultMessage:"Off"}),value:!1}},type:T};case b:{const t=r&&(s||n);return{title:e.formatMessage({id:"d8lth0",defaultMessage:"Disable downloads"}),description:t?e.formatMessage({id:"RQ2sAU",defaultMessage:"To disable downloads, share the link for viewing."}):e.formatMessage({id:"B5ygR1",defaultMessage:"Prevent people with this link from downloading."}),descriptionLinkUrl:"/help/files-folders/set-link-permissions",descriptionLinkText:t?void 0:e.formatMessage({id:"gk12sS",defaultMessage:"Learn more"}),optionsDict:{enabled:{label:e.formatMessage({id:"47AlCD",defaultMessage:"On"}),value:!0},disabled:{label:e.formatMessage({id:"0oEiHx",defaultMessage:"Off"}),value:!1}},type:T}}case f:return{title:e.formatMessage({id:"HIIRnD",defaultMessage:"Expiration"}),description:e.formatMessage({id:"92TP40",defaultMessage:"Disable this link on a specific date."}),optionsDict:{enabled:{label:e.formatMessage({id:"J8zY2i",defaultMessage:"On"}),value:!0},disabled:{label:e.formatMessage({id:"w6dVgn",defaultMessage:"Off"}),value:!1}},type:T};case S:return{title:e.formatMessage({id:"LtXXzz",defaultMessage:"Default sharing settings"}),description:e.formatMessage({id:"dVXrDR",defaultMessage:"Go to account settings to set a default sharing permission"}),optionsDict:{},type:M};default:throw new Error("Policy name not found")}}}),e.SharingSettingsPassword=e=>{const{getPolicyDict:t,linkPolicy:s}=e,r=t(v),i=a.react.exports.createElement("div",null,(e=>{const{linkPolicy:t,linkPermissions:s,getPolicyDict:r,onPolicyUpdate:i}=e,o=r(v).optionsDict,c=t.require_password?"enabled":"disabled";return a.react.exports.createElement(w,{currentValue:c,optionsDict:o,onOptionChange:(e,t)=>{i({require_password:e})},disabled:!n.canTogglePassword(s)||P(s,t.audience)||e.readOnlyPolicy})})(e),(s.require_password||P(e.linkPermissions,s.audience)&&!e.readOnlyPolicy)&&a.react.exports.createElement(F,Object.assign({},e)));return a.react.exports.createElement(N,{policyName:v,policyDict:r,selector:i})},e.TEAM=jt,e.TOGGLE=T,e.TargetsTokenizer=rs,e.UNSHARE_TAG=At,e.VIEWER=ct,e.VIEWER_INFO_POLICY="viewer_info_policy",e.VIEW_LINK_SETTINGS="view_link_settings",e.batch=we,e.create=dt,e.createFromEmail=Qt,e.define=tt,e.defineProxy=(e,t)=>({name:e.name,useFetch:t,type:"proxy"}),e.exhausts=it,e.formatAccessName=(e,t)=>"editor"===t[".tag"]?Ea(e):"owner"===t[".tag"]?(e=>e.formatMessage({id:"/epRg4",defaultMessage:"Owner"}))(e):"viewer"===t[".tag"]?fa(e):"viewer_no_comment"===t[".tag"]?ba(e):fa(e),e.formatAccessNameEditor=Ea,e.formatAccessNameViewer=fa,e.formatAccessNameViewerNoComment=ba,e.formatChangeAccessCantChangeAccess=(e,a)=>e.formatMessage({id:"b2R7ut",defaultMessage:"Can't change access for {memberName}"},{memberName:$.em_snippet(a,t.SNIPPET_SIZES.DISPLAY_NAME)}),e.formatChangeAccessCantChangeAccessParentAccess=(e,s)=>e.formatMessage({id:"yBb3AO",defaultMessage:"Because they can edit the parent folder, their access to <b>{contentName}</b> can't be changed."},{contentName:$.em_snippet(s,t.SNIPPET_SIZES.FILENAME),b:e=>a.react.exports.createElement("b",{style:{fontWeight:500}},e)}),e.formatChangeAccessCouldntChangeAccess=(e,a)=>e.formatMessage({id:"fP62vP",defaultMessage:"Couldn't change access for {memberName}"},{memberName:$.em_snippet(a,t.SNIPPET_SIZES.DISPLAY_NAME)}),e.formatChangeAccessFromInheritedMember=(e,s,n,r)=>e.formatMessage({id:"kQXitL",defaultMessage:"{count, plural, one{To change their access to <b>{contentName}</b>, you'll need to change their access to the parent folder <b>{singleParentFolderName}</b>.} other{To change their access to <b>{contentName}</b>, you'll need to change their access to the parent folders listed.}}"},{count:s,contentName:$.em_snippet(n,t.SNIPPET_SIZES.FILENAME),singleParentFolderName:$.em_snippet(r,t.SNIPPET_SIZES.FILENAME),b:e=>a.react.exports.createElement("b",{style:{fontWeight:500}},e)}),e.formatCloseAriaLabelText=e=>e.formatMessage({id:"6K7VUR",defaultMessage:"Close"}),e.formatDowngradeBannerGotIt=e=>e.formatMessage({id:"YCTkuR",defaultMessage:"Got It"}),e.formatDowngradeBannerHeader=e=>e.formatMessage({id:"YBKCoS",defaultMessage:"People who can view could still edit via link"}),e.formatDowngradeBannerManageLinks=e=>e.formatMessage({id:"J9wEBS",defaultMessage:"Manage Links"}),e.formatDowngradeBannerSubheader=e=>e.formatMessage({id:"iYhJt/",defaultMessage:"You can delete the link to further restrict access."}),e.formatManageAccessFailureButtonText=e=>e.formatMessage({id:"DzCuYI",defaultMessage:"Okay"}),e.formatMemberActionMakeCollectionEditor=e=>e.formatMessage({id:"WlnggN",defaultMessage:"People can edit, delete, and add items to this collection"}),e.formatMemberActionMakeCollectionViewer=e=>e.formatMessage({id:"svq/mv",defaultMessage:"People can view and download items in this collection"}),e.formatMemberActionMakeFileEditor=e=>e.formatMessage({id:"ScDA/0",defaultMessage:"People can edit, delete, comment, and add the file to their Dropbox"}),e.formatMemberActionMakeFolderEditor=e=>e.formatMessage({id:"UznKXK",defaultMessage:"People can edit, delete, comment, and add the files to their Dropbox"}),e.formatMemberActionMakeViewer=e=>e.formatMessage({id:"jSEExB",defaultMessage:"People can view, download, and comment"}),e.formatMemberActionMakeViewerNoComment=e=>e.formatMessage({id:"5AmS1v",defaultMessage:"People can only view and download the file"}),e.formatRelinquishAccessDropdownOption=e=>e.formatMessage({id:"4xmHQa",defaultMessage:"Remove my access"}),e.formatRelinquishAccessKeepACopy=e=>e.formatMessage({id:"lLVlO2",defaultMessage:"Keep a copy of this folder"}),e.formatRelinquishAccessOtherAccessMessage=e=>e.formatMessage({id:"1aWCsg",defaultMessage:"You may still have access to this folder through a company group or parent folder."}),e.formatRelinquishAccessRemoveYourAccessConfirmation=e=>e.formatMessage({id:"6NPSkt",defaultMessage:"If you continue, you won’t be able to access this file anymore."}),e.formatRelinquishAccessRemoveYourAccessPrompt=e=>e.formatMessage({id:"FCMIIX",defaultMessage:"Remove your access to this file?"}),e.formatRelinquishAccessUserConfirmationPrompt=e=>e.formatMessage({id:"bsRTH6",defaultMessage:"Remove your access to this folder?"}),e.formatRelinquishAccessUserConfirmationWarning=e=>e.formatMessage({id:"fchbsZ",defaultMessage:"If you continue, you won’t be able to access this folder anymore."}),e.formatRemoveAccessAccessReminder=e=>e.formatMessage({id:"WhoBZ9",defaultMessage:"Keep in mind, if they have a shared link to this file, they might still be able to view or edit it."}),e.formatRemoveAccessAccessReminderGroupMembers=e=>e.formatMessage({id:"oax1/b",defaultMessage:"Keep in mind, if group members have a shared link to this file, they might still be able to view or edit it."}),e.formatRemoveAccessCantRemoveAccess=(e,a)=>e.formatMessage({id:"jc0mkL",defaultMessage:"Couldn't remove {memberName}"},{memberName:$.em_snippet(a,t.SNIPPET_SIZES.DISPLAY_NAME)}),e.formatRemoveAccessCantRemoveAccessParentAccess=(e,s)=>e.formatMessage({id:"hUvz9T",defaultMessage:"Because they have access to the parent folder, they can't be removed from <b>{contentName}</b>."},{contentName:$.em_snippet(s,t.SNIPPET_SIZES.FILENAME),b:e=>a.react.exports.createElement("b",{style:{fontWeight:500}},e)}),e.formatRemoveAccessFromInheritedMember=(e,s,n,r)=>e.formatMessage({id:"wslHDy",defaultMessage:"{count, plural, one{To remove them from <b>{contentName}</b>, you'll need to remove them from the parent folder <b>{singleParentFolderName}</b>.} other{To remove them from <b>{contentName}</b>, you'll need to remove them from the parent folders listed.}}"},{count:s,contentName:$.em_snippet(n,t.SNIPPET_SIZES.FILENAME),singleParentFolderName:$.em_snippet(r,t.SNIPPET_SIZES.FILENAME),b:e=>a.react.exports.createElement("b",{style:{fontWeight:500}},e)}),e.formatRemoveAccessKeepACopy=(e,t)=>e.formatMessage({id:"82sluj",defaultMessage:"Let {name} keep a copy of this shared folder"},{name:t}),e.formatRemoveAccessMakeUserOwnerConfirmation=e=>e.formatMessage({id:"3Do/LR",defaultMessage:"Make owner"}),e.formatRemoveAccessMakeUserOwnerInformation=(e,t)=>e.formatMessage({id:"y7GDnJ",defaultMessage:"{name} will become the owner of all items in this folder. Only they will be able to unshare or change folder settings."},{name:t}),e.formatRemoveAccessMakeUserOwnerPrompt=(e,t)=>e.formatMessage({id:"khEZSl",defaultMessage:"Make {name} the owner of this folder?"},{name:t}),e.formatRemoveAccessRemoveAccessRemoveButton=e=>e.formatMessage({id:"VVzPdA",defaultMessage:"Remove"}),e.formatRemoveAccessRemoveUserAccessPrompt=(e,t)=>e.formatMessage({id:"WJ0lPe",defaultMessage:"Remove {name}?"},{name:t}),e.formatRemoveAccessRemoveUserFutureChangesWarning=(e,t)=>e.formatMessage({id:"RL/0uv",defaultMessage:"If you remove <strong>{name}</strong>, they won’t be able to see future changes to this shared folder."},{strong:e=>a.react.exports.createElement("strong",null,e),name:t}),e.formatRemoveAccessRemoveUserFutureChangesWarningExtended=(e,t)=>e.formatMessage({id:"eBf70w",defaultMessage:"If you remove <strong>{name}</strong>, they won’t be able to see future changes to this shared folder. Keep in mind that anyone who can access the parent folder will still be able to access this folder."},{strong:e=>a.react.exports.createElement("strong",null,e),name:t}),e.formatRemoveAccessRemoveUserWarning=(e,t,s)=>e.formatMessage({id:"pnMbuO",defaultMessage:"If you remove <strong>{name}</strong>, they won’t be able to see future changes to this shared folder. Keep in mind that anyone who can access <strong>{parentname}</strong> will still be able to access this folder."},{strong:e=>a.react.exports.createElement("strong",null,e),name:t,parentname:s}),e.formatRemoveBannerHeader=e=>e.formatMessage({id:"w/RnTZ",defaultMessage:"People might still have access via link"}),e.formatUrl=Ce,e.getByAccessLevel=Vt,e.getCanChangeOptions=e=>wt(e,ht),e.getCanCreateLink=Rt,e.getCanDeleteLink=e=>{if(e){return e.link_permissions.can_revoke}return!1},e.getCanDisableViewerInfo=e=>wt(e,xt),e.getCanDoAction=wt,e.getCanDoSomeActions=(e,t)=>t.some((t=>wt(e,t))),e.getCanEnableViewerInfo=e=>wt(e,vt),e.getCanInvite=Lt,e.getCanUnshareObject=e=>wt(e,At),e.getCurrentAudience=Bt,e.getDaysUntilExpiration=e=>{const t=e.expires;if(!t)return null;const a=(new Date(t).getTime()-Date.now())/864e5;return Math.floor(Math.max(a,0))},e.getDefaultAudience=(e,t,a,s)=>{if(!e)return Dt;if("members"===t.shared_link_policy[".tag"])return Dt;if(null!==a){if("members"===a.shared_folder_link_restriction_policy[".tag"])return Dt;const e=a.shared_link_create_policy[".tag"];if("team_only"===e||"default_team_only"===e)return jt;if("default_no_one"===e)return Dt}return null!=s?s:Ft},e.getEditLinkMetadata=Ht,e.getFolderPolicy=It,e.getGroupInitials=Pa,e.getIsCollection=Ct,e.getIsConfidentialFolder=yt,e.getIsFile=Tt,e.getIsFolder=Mt,e.getIsInsideTeamFolderTree=Nt,e.getIsLowerAccess=(e,t)=>{const a=Object.keys(ot);return e!==t&&-1!==a.indexOf(e)&&-1!==a.indexOf(t)&&ot[t]<ot[e]},e.getIsNonSharedFolder=e=>"file_folder"===e[".tag"],e.getIsSharedFolder=kt,e.getIsTeamFolderTree=e=>Ot(e)&&Nt(e),e.getIsTeamMemberFolder=e=>!Nt(e)&&e.owner_team,e.getIsTeamSharedFolder=Ot,e.getLinkAudiencePolicy=e=>{var t;return null===(t=It(e).shared_link_policy)||void 0===t?void 0:t[".tag"]},e.getParentFolderName=e=>{if(Tt(e)){const t=e.path_display;if(t){const e=t.split("/");if(e.length>1)return e[e.length-2]}}return Mt(e)&&"parent_folder_name"in e&&e.parent_folder_name||""},e.getParentSharedFolderId=e=>e.parent_shared_folder_id||null,e.getPermissionInfo=(e,t)=>{var a;return(null!==(a=e.permissions)&&void 0!==a?a:[]).find((e=>e.action[".tag"]===t[".tag"]))},e.getUniqueId=ea,e.getUserDefaultAccessLevel=e=>{const a=e.default_sharing_access_level_setting;if(!a)return lt;switch(a[".tag"]){case t.SharingAccessLevel.UNKNOWN:case t.SharingAccessLevel.EDIT:return lt;case t.SharingAccessLevel.VIEW:return ct;default:return lt}},e.getUserDefaultLinkAudience=e=>{const a=e.default_sharing_link_audience_setting;if(!a)return Ft;switch(a[".tag"]){case t.SharingLinkAudience.UNKNOWN:case t.SharingLinkAudience.PUBLIC:return Ft;case t.SharingLinkAudience.NO_ONE:return Dt;case t.SharingLinkAudience.TEAM:return jt;default:return Ft}},e.getUserInitials=ja,e.getViewLinkMetadata=$t,e.getViewerInfoPolicyEnabled=e=>{var t;return"enabled"===(null===(t=It(e).viewer_info_policy)||void 0===t?void 0:t[".tag"])},e.handler=et,e.initializeSdk=e=>{const t=window.location.hostname;if(!aa.test(t)&&!sa.test(t))throw new Error("Cannot initialize the SDK on an unsupported domain.");const a=new m.DropboxAuth({domain:window.location.hostname,domainDelimiter:""});return new m.Dropbox({auth:a,fetch:(t,a)=>{const s=new Headers((null==a?void 0:a.headers)||[]),n=window.location.hostname;(aa.test(n)||sa.test(n))&&s.append("X-CSRF-Token",u.Cookies.read("__Host-js_csrf")||""),s.append("X-Dropbox-Uid",e.id.toString());const r=Object.assign(Object.assign({},a||{}),{headers:s});return fetch(t,r)}})},e.isBoolean=We,e.isConfidentialFolderLinksEnabled=na,e.isObjectOf=Ye,e.isString=qe,e.proxy=Ie,e.store=Ne,e.toMemberSelector=e=>"email"===e[".tag"]?{".tag":"email",email:e.email}:"group"===e[".tag"]?{".tag":"dropbox_id",dropbox_id:e.group_id}:"user"===e[".tag"]?""===e.dbx_account_id?{".tag":"email",email:e.email}:{".tag":"dropbox_id",dropbox_id:e.dbx_account_id}:{".tag":"other"},e.useEndpoint=qt,e.useInitStore=Re,e.useLogger=fe,e.useOpenUrl=Fe,e.usePlatform=xe,e.useSnackbar=He,e.useStore=Le}));
//# sourceMappingURL=c_components_form_validation_message.js-vfl8cc2wH.map
