define(["exports","./e_edison","./e_ui_page_files_router","./c_action_bar_action_bar_strings","./c_core_i18n","./c_extensions_extensions_menu_component_v2","./c_file_store_utils","./c_action_plugins_open_in_action_utils","./c_file_viewer_sdk_file_viewer_file_viewer","./c_core_logging_constants","./c_tslib","./c_core_uri","./c_lodash-es_lodash","./c_apex-metrics_src_types","metaserver/static/js/modules/constants/files_spa","./e_core_exception","./c_core_exception_info","metaserver/static/js/modules/constants/page_load","metaserver/static/js/modules/constants/request","./c_core_notify","metaserver/static/js/modules/constants/env","metaserver/static/js/modules/constants/web_experience_constants","metaserver/static/js/modules/constants/viewer","metaserver/static/js/modules/constants/auth","./c_api_v2_noauth_client","./c_browser_cookies","./c_src_sink_index","./c_core_browser_detection","metaserver/static/js/modules/constants/time","metaserver/static/js/modules/constants/ajax_strings","./c_csrf","./c_core_xhr","metaserver/static/js/modules/constants/locales","metaserver/static/js/modules/constants/webtiming","metaserver/static/js/modules/constants/sharing","metaserver/static/js/modules/constants/trademark","metaserver/static/js/modules/constants/campaigns_orchestration","metaserver/static/js/modules/constants/maestro_nav_strings","metaserver/static/js/modules/constants/search","metaserver/static/js/modules/constants/undo_strings","metaserver/static/js/modules/constants/contacts","metaserver/static/js/modules/constants/login_and_register","metaserver/static/js/modules/core/langpack","./c_ui-icon_line_download","./c_spectrum_tooltip","./c_extensions_data_selectors","./c_downloads","./c_share_download_ui_api","./c_integrations_data_selectors","./c_ui-icon_line_dropbox-replay","./c_ui-icon_line_dropbox","./c_ui-icon_line_finder","./c_ui-icon_line_folder-show","./c_ui-icon_line_globe","./c_ui-icon_line_show","./c_extensions_extensions_utils","./c_spectrum_modal_utility_modal","./c_spectrum_tertiary_link_tertiary_list","./c_icon_templates_actionable_index","./c_spectrum_svg_icon_bundle","./c_spectrum_icon_form_index","./c_icon_templates_stateless_index","./c_exenv_index","./c_ux_analytics_modal_tracking","metaserver/static/js/modules/constants/payments","./c_account_email","./c_account_email_verify_reasons","./c_ui_modal_dig","./c_ui_input_dig","./c_ui-icon_fill_fail","./c_file_viewer_sdk_file_viewer_experiments","metaserver/static/js/modules/constants/file_viewer_configuration","metaserver/static/js/modules/constants/file_viewer_feature_experiments","metaserver/static/js/modules/constants/file_viewer_flows_experiments","./c_unity_check_file_cache","./c_unity_features","metaserver/static/js/modules/constants/unity","./c_sdk_file_viewer_action_plugins_utils","./c_file_actions_strings","./c_files_view_file_actions_snackbars","./c_core_types_preview_type","./c_pap-events_enums_file_type-utils","./c_sdk_file_viewer_action_plugins_file_actions","./c_portable_delete_snackbars","./c_portable_delete_strings","./c_file_actions_portable_copy","./c_files_view_file_actions_file_from_metadata","./c_hive_schemas_web-modal-activity","./c_file_actions_portable_move","./c_ui_fileops_actions","./c_data_action_creators_index","./c_history","./c_ux_analytics_dispatch_custom_event","./c_browse_crypto_subtle_digest","./c_action_bar_file_actions_logging","./c_sharing_async_share_modal_util","./c_portable_rename","./c_form_row_index","./c_file_actions_portable_go_to_folder","./c_publish_publish_modal","./c_table_index","./c_ui-icon_line_arrow-down","./c_ui-icon_line_arrow-up","./c_combinations_index","./c_controls_index","./c_ui-icon_external-logo_youtube","./c_ui-icon_external-logo_instagram","metaserver/static/js/modules/constants/publish","./c_carousel_index","./c_ui-icon_line_more-horizontal","./c_hooks_lib_index","./c_ui-icon_line_calendar","./c_preview_audio_video_helper_image_size","./c_pap-events_publish_modal_select_publish_entrypoint","./c_core_utils_redesign2023","./c_src_file_viewer_components","./c_api_v2_redux_files","./c_resize-observer-polyfill_dist_ResizeObserver","./c_ui-icon_line_collapse-right","./c_ui-icon_line_expand-left","./c_truncate_index","./c_src_file_extension_extension_constants","./c_src_logging_performance","./c_ui-icon_line_sidebar-show","./c_src_simple-action-bar_action_bar_types","./c_src_toolbar","./c_ui-icon_line_zoom-out","./c_breadcrumb_index","./c_ui-icon_line_move","./c_ui-icon_line_copy","./c_ui-icon_line_cursor","./c_ui-icon_line_delete","./c_auth_login_or_register_types","./c_file_viewer_utils","./c_loggers_device_type","./c_ui_tree_view","./c_sharing_ui_notifications_util","./c_src_utils_logging","./c_dig-illustrations_spot_file-folders","./c_previews_util","./c_sharing_share_page_action_types","metaserver/static/js/modules/constants/python","./c_flux_base_store","./c_sharing_ui_util","./c_contacts_contact_token_state","./c_icon_icon_helper","./c_sharing_gating_util","./c_sharing_settings_utils_sharing_settings_util","./c_core_logging_video","./c_pap-events_previews_delete_file","./c_pap-events_previews_create_folder","./c_photo-editor_plugin_show-edit-plugin","./c_keymaster","./c_bug_reporting_routing","./c_clipboard_v3","./c_ui-icon_line_rocket","./c_file_viewer_data_store","./c_previews_data_actions","./c_src_mobile_web","./c_capture_redux_selectors","./c_flows_flows_client","./c_docsend_src_utils","./c_src_common_filepath","./c_flows_approval_approval_io_client","./c_typeahead_index","./c_src_preview-photo-editor_types","./c_ui-icon_line_edit","./c_ui-icon_line_share-arrow","./c_src_common_format_bytes","./c_info_blade_content_metadata_image_metadata","./c_ui-icon_line_closed-captions","./c_src_simple-action-bar_inline_action_bar","./c_assets_pictogram_lightbulb","./c_src_highlighted-truncated-string_em-string","./c_size_class_constants","./c_extensions_split_share_button","./c_ui-icon_line_link","./c_share_modal_evolution_utils_logging","./c_team_discovery_data_utils","./c_growth_ui_teams_web_actions_logger_events","./c_teams_let_members_invite_non_admin_invite_modal","./c_loggers_join_flow_logger","./c_contacts_tokenizer_v2","./c_ui-icon_line_import-contacts","./c_integrations_notify","./c_src_text","./c_spectrum_colorized_icon","./c_src_instrumentation_common_context","./c_src_instrumentation_constants","./c_src_instrumentation_function_wrapper","./c_spectrum_facepile_facepile_members","./c_spectrum_avatar_avatar_initials","./c_spectrum_avatar_avatar_color_util","./c_src_components_action-bar-strings","./c_ui-icon_line_crop","./c_ui-icon_line_cut","./c_ui-icon_line_shape-rotate-right","./c_ui-icon_line_flip-vertical","./c_ui-icon_line_slider","./c_ui_hoc","./c_capture_api"],(function(e,_,t,i,c,n,s,o,a,r,l,u,m,p,d,g,v,f,h,b,w,x,y,j,k,O,I,R,E,T,$,N,A,P,C,D,S,z,U,M,B,L,W,F,G,H,q,J,K,Q,V,X,Y,Z,ee,_e,te,ie,ce,ne,se,oe,ae,re,le,ue,me,pe,de,ge,ve,fe,he,be,we,xe,ye,je,ke,Oe,Ie,Re,Ee,Te,$e,Ne,Ae,Pe,Ce,De,Se,ze,Ue,Me,Be,Le,We,Fe,Ge,He,qe,Je,Ke,Qe,Ve,Xe,Ye,Ze,e_,__,t_,i_,c_,n_,s_,o_,a_,r_,l_,u_,m_,p_,d_,g_,v_,f_,h_,b_,w_,x_,y_,j_,k_,O_,I_,R_,E_,T_,$_,N_,A_,P_,C_,D_,S_,z_,U_,M_,B_,L_,W_,F_,G_,H_,q_,J_,K_,Q_,V_,X_,Y_,Z_,et,_t,tt,it,ct,nt,st,ot,at,rt,lt,ut,mt,pt,dt,gt,vt,ft,ht,bt,wt,xt,yt,jt,kt,Ot,It,Rt,Et,Tt,$t,Nt,At,Pt,Ct,Dt,St,zt,Ut){"use strict";const Mt={surface:"previews"},Bt=e=>s.isBrowseFile(e.file)?_.React$1.createElement(n.WithUnity,{file:e.file,user:e.user,render:t=>_.React$1.createElement(n.ExtensionsPopoverContent,Object.assign({},e,{unityInfo:t}))}):_.React$1.createElement(n.ExtensionsPopoverContent,Object.assign({},e));Bt.displayName="OpenMenuContent";const Lt=({file:e,shareToken:i,icon:c,label:n,content:s,hideIcon:a,handleSelection:r,onToggle:l})=>o.useShouldRenderOpen(e,i)?_.React$1.createElement(t.Menu.Wrapper,{onSelection:r,onToggle:l},(({getTriggerProps:e,getContentProps:i})=>_.React$1.createElement(_.React$1.Fragment,null,_.React$1.createElement(t.Button,Object.assign({},e(),{variant:"opacity",withIconLeft:a?null:c,withDropdownIcon:!0}),n),_.React$1.createElement(t.Menu.Content,Object.assign({},i()),s)))):null;Lt.displayName="OpenButton";const Wt=({file:e,shareToken:i,icon:c,label:n,content:s})=>o.useShouldRenderOpen(e,i)?_.React$1.createElement(t.Menu.Submenu,{withTriggerContent:n,withLeftAccessory:c},s):null;Wt.displayName="OpenOverflow";const Ft=({file:e,shareToken:n,user:s,store:l,context:u})=>{const m=_.React$1.createElement(Bt,{user:s,file:e,isInActionBar:!0,telemetryContext:Mt,openDesktopActionHandler:o.makeOpenInDesktopHandler(e,s,u)}),p=_.React$1.createElement(t.UIIcon,{src:t.OpenLine}),d=c.intl.formatMessage(i.OPEN_IN_ACTION_STRING),g=e=>{e.menuItem.handler(),u.logUserAction(e.menuItem.userAction||"unknown",r.UserActionContext.Toolbar,Object.assign({},e.menuItem.actionName&&{app_action_name:e.menuItem.actionName}))},v=e=>{e.isOpen&&u.logUserAction(r.UserAction.OpenInMenu)};return{renderButton:i=>_.React$1.createElement(t.Provider,{store:l},_.React$1.createElement(Lt,{icon:p,content:m,file:e,shareToken:n,handleSelection:g,onToggle:v,hideIcon:i,label:d})),overflowItem:_.React$1.createElement(t.Provider,{store:l},_.React$1.createElement(Wt,{icon:p,content:m,file:e,shareToken:n,handleSelection:g,label:d})),id:a.OPEN_DROPDOWN_ACTION_PLUGIN_ID}};Ft.displayName="OpenDropdownPreview";e.makeOpenDropdownAction=e=>({actionDefinitions:()=>{const _=o.validateOpenInActionProps(e);if(!_)return{};const t=Ft(_);return{atTopLevelIfSpace:[t],alwaysInOverflow:[[t]]}}})}));
//# sourceMappingURL=c_action_plugins_open_in_action_legacy_plugin.js-vflG_yh6y.map
