define(["exports","./e_edison"],(function(e,_){"use strict";var t;e.PreviewsTimingEvents=void 0,(t=e.PreviewsTimingEvents||(e.PreviewsTimingEvents={})).START_SESSION="previews_start_session",t.CONTAINER_CODE_START="previews_container_code_start",t.CONTAINER_MOUNT="previews_container_mount",t.COLLECTION_VIEWER_CODE_START="previews_collection_viewer_code_start",t.COLLECTION_VIEWER_MOUNT="previews_collection_viewer_mount",t.SDK_FILE_VIEWER_CODE_START="previews_sdk_file_viewer_code_start",t.FVSDK_CONSTRUCTOR="previews_fvsdk_constructor",t.FVSDK_INITIALIZE_START="previews_fvsdk_initialize_start",t.FVSDK_PLUGINS_INITIALIZED="previews_fvsdk_plugins_initialized",t.FVSDK_GET_PREVIEW_METADATA="previews_fvsdk_get_preview_metadata",t.FVSDK_GET_RIVIERA_DATA_START_START="previews_get_riviera_data_start",t.FVSDK_GET_RIVIERA_DATA="previews_fvsdk_get_riviera_metadata",t.FVSDK_INITIALIZE_COMPLETE="previews_fvsdk_initialize_complete",t.FVSDK_APP_MOUNT="previews_fvsdk_app_mount",t.FVSDK_RIGHT_RAIL_MOUNT="previews_fvsdk_right_rail_mount",t.FVSDK_TITLE_BAR_MOUNT="previews_fvsdk_title_bar_mount",t.FVSDK_IMAGE_CONTAINER_START="previews_fvsdk_img_container_start",t.FVSDK_IMAGE_CONTAINER_MOUNT="previews_fvsdk_img_container_mount",t.FVSDK_IMAGE_ON_LOAD="previews_fvsdk_img_onload",t.FVSDK_FULL_IMAGE_ON_LOAD="previews_fvsdk_full_img_onload",t.FVSDK_DOC_CONTAINER_START="previews_fvsdk_doc_container_start",t.FVSDK_DOC_CONTAINER_MOUNT="previews_fvsdk_doc_container_mount",t.FVSDK_FIRST_DOC_PAGE_ON_LOAD="previews_fvsdk_first_doc_page_onload",t.FVSDK_VIDEO_CONTAINER_START="previews_fvsdk_video_container_start",t.FVSDK_VIDEO_CONTAINER_MOUNT="previews_fvsdk_video_container_mount",t.FVSDK_VIDEO_PLAYER_READY="previews_fvsdk_video_player_ready",t.FVSDK_MARK_TTI="previews_fvsdk_mark_tti",t.FVSDK_MARK_LCP="previews_fvsdk_mark_lcp",t.FVSDK_MARK_TTVC="previews_fvsdk_mark_ttvc";const r=Object.values(e.PreviewsTimingEvents);const i=new class{constructor(){this.getPerfEntry=e=>{var _;const t=null===(_=performance.getEntriesByName)||void 0===_?void 0:_.call(performance,e,"mark");return t?t[0]:null},this.getStartEntry=()=>{var _;const t=null===(_=performance.getEntriesByName)||void 0===_?void 0:_.call(performance,e.PreviewsTimingEvents.START_SESSION,"mark");return t?t[0]:null},this.endCurrentSession=()=>{r.forEach((e=>{var _;null===(_=performance.clearMarks)||void 0===_||_.call(performance,e)}))},this.startLoggingSession=()=>{var _;this.endCurrentSession(),null===(_=performance.mark)||void 0===_||_.call(performance,e.PreviewsTimingEvents.START_SESSION)},this.mark=e=>{var _;!this.getPerfEntry(e)&&this.getStartEntry()&&(null===(_=performance.mark)||void 0===_||_.call(performance,e))},this.getEventTimeline=()=>{const _={},t=this.getStartEntry();return t?(r.forEach((r=>{if(r!==e.PreviewsTimingEvents.START_SESSION){const e=this.getPerfEntry(r);e&&e.startTime>=t.startTime&&(_[r]=e.startTime-t.startTime)}})),_):_},this.getEventTimelineWithStartTime=()=>{const e={},_=this.getStartEntry();return _?(r.forEach((t=>{const r=this.getPerfEntry(t);r&&r.startTime>=_.startTime&&(e[t]=r.startTime)})),e):e},this.getTimeSinceSessionStart=()=>{var e;const _=this.getStartEntry();return _?(null===(e=performance.now)||void 0===e?void 0:e.call(performance))-_.startTime:null}}};e.PreviewsEventLogger=i,e.useMarkTimingEventOnMount=e=>{_.React$1.useEffect((()=>{i.mark(e)}),[e])},e.usePreviewTimingSession=()=>{const e=_.React$1.useRef(!1);e.current||(i.startLoggingSession(),e.current=!0)}}));
//# sourceMappingURL=c_src_logging_performance.js-vflSRm9UU.map
