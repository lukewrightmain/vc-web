define(["exports","./c_tslib","./e_edison","./e_ui_page_files_router","./c_ui-icon_line_file-history","./c_api_v2_redux_files","./c_src_right-rail_hooks","./c_src_common_filepath","./c_combinations_index","./c_controls_index","./c_ui-icon_line_more-horizontal","./c_core_i18n"],(function(e,t,a,i,s,n,r,c,d,l,o,m){"use strict";const g="file_activity_blade_state";var u,f;e.EventState=void 0,(u=e.EventState||(e.EventState={})).loading="loading",u.error="error",u.loaded="loaded",function(e){e.added="added",e.viewed="viewed",e.moved="moved",e.renamed="renamed",e.edited="edited",e.shared="shared",e.commented="commented"}(f||(f={}));const _=[f.added,f.viewed,f.moved,f.renamed,f.edited,f.shared,f.commented],v={added:!0,viewed:!0,moved:!0,renamed:!0,edited:!0,shared:!0,commented:!0},p=i.defineMessage({id:"aYLqOs",defaultMessage:"You added this file"}),h=i.defineMessage({id:"r350bw",defaultMessage:"{name} added this file"}),y=i.defineMessage({id:"WoiUCT",defaultMessage:"You edited this file"}),M=i.defineMessage({id:"PP4asw",defaultMessage:"{name} edited this file"}),E=i.defineMessage({id:"YWTgGL",defaultMessage:"You moved this file"}),x=i.defineMessage({id:"dy7I1D",defaultMessage:"{name} moved this file"}),b=i.defineMessage({id:"9Jrqwg",defaultMessage:"You moved this file from {source} to {destination}"}),S=i.defineMessage({id:"P/MCW3",defaultMessage:"{name} moved this file from {source} to {destination}"}),R=i.defineMessage({id:"LC8/hs",defaultMessage:"You moved this file to {destination}"}),w=i.defineMessage({id:"BYEslL",defaultMessage:"{name} moved this file to {destination}"}),C=i.defineMessage({id:"LUhKEK",defaultMessage:"You renamed this file"}),T=i.defineMessage({id:"CnmSS0",defaultMessage:"{name} renamed this file"}),A=i.defineMessage({id:"6JV0MA",defaultMessage:"You renamed this file from {source} to {destination}"}),L=i.defineMessage({id:"HM1XZN",defaultMessage:"{name} renamed this file from {source} to {destination}"}),Y=i.defineMessage({id:"8xmD+i",defaultMessage:"You viewed this file"}),I=i.defineMessage({id:"3Lujbg",defaultMessage:"{name} viewed this file"}),F=i.defineMessage({id:"9rTtPu",defaultMessage:"You turned on viewer info"}),N=i.defineMessage({id:"SpYtHi",defaultMessage:"You turned off viewer info"}),k=i.defineMessage({id:"YreIO/",defaultMessage:"{name} turned off viewer info"}),O=i.defineMessage({id:"Bxed/V",defaultMessage:"You changed the file settings"}),$=i.defineMessage({id:"ylS32o",defaultMessage:"{name} changed the file settings"}),j=i.defineMessage({id:"CuL293",defaultMessage:"You turned on commenting for {entity}"}),B=i.defineMessage({id:"3GsixE",defaultMessage:"{name} turned on commenting for {entity}"}),H=i.defineMessage({id:"IHPb9R",defaultMessage:"You gave view-only access to {entity}"}),P=i.defineMessage({id:"knYfRN",defaultMessage:"{name} gave view-only access to {entity}"}),D=i.defineMessage({id:"fISzu/",defaultMessage:"You removed {entity} from this file"}),U=i.defineMessage({id:"BPYbF7",defaultMessage:"{name} removed {entity} from this file"}),z=i.defineMessage({id:"hs2ngj",defaultMessage:"You shared this file with {entity}"}),G=i.defineMessage({id:"IU0MF2",defaultMessage:"{name} shared this file with {entity}"}),V=i.defineMessage({id:"152Ljh",defaultMessage:"{count, plural, one{You shared this file with {entity} and 1 other} other{You shared this file with {entity} and {count} others}}"}),W=i.defineMessage({id:"ccCFDs",defaultMessage:"{count, plural, one{{name} shared this file with {entity} and 1 other} other{{name} shared this file with {entity} and {count} others}}"}),X=i.defineMessage({id:"YLJCy8",defaultMessage:"You locked this file"}),q=i.defineMessage({id:"hfFN3P",defaultMessage:"{name} locked this file"}),Q=i.defineMessage({id:"HdrdWl",defaultMessage:"You unlocked this file"}),Z=i.defineMessage({id:"1vj0Yj",defaultMessage:"{name} unlocked this file"}),J=i.defineMessage({id:"+hvlZB",defaultMessage:"You commented on this file"}),K=i.defineMessage({id:"Zqv2X5",defaultMessage:"{name} commented on this file"}),ee=i.defineMessage({id:"VXfrbS",defaultMessage:"You replied to a comment on this file"}),te=i.defineMessage({id:"MK98nK",defaultMessage:"{name} replied to a comment on this file"});var ae;!function(e){e.event="event",e.dateBanner="date-banner",e.emptyDay="empty-day"}(ae||(ae={}));const ie=e=>t=>{const a=ce(Object.assign({activity:t},e));return a?Object.assign({type:ae.event,id:t.id,user:t.user,timestamp:t.timestamp},a):void 0},se=(e,t)=>{const a=new Date;a.setHours(0,0,0,0);const i=a.getTime(),s=i-864e5,n=new Date(t),r=n.getTime();return r>=i?e.formatMessage({id:"ihD7Zm",defaultMessage:"Today"}):r>=s?e.formatMessage({id:"ZA9ZwS",defaultMessage:"Yesterday"}):e.formatDate(n,{year:"numeric",month:"short",day:"numeric"})},ne=e=>(t,a)=>{if(void 0===a)return t;const i=0===t.length?void 0:t[t.length-1],s=se(e,a.timestamp);return!i||"timestamp"in i&&se(e,i.timestamp)!==s?t.concat({type:ae.dateBanner,eventCardDate:s},a):t.concat(a)},re=(e,t,a)=>t===a.id?e.formatMessage({id:"fGE/Cv",defaultMessage:"You"}):a.display_name,ce=e=>{var{activity:a}=e,i=t.__rest(e,["activity"]);switch(a[".tag"]){case"add":return de(Object.assign({activity:a},i),p,h);case"edit":return de(Object.assign({activity:a},i),y,M);case"move":return le(Object.assign({activity:a},i));case"rename":return oe(Object.assign({activity:a},i));case"view":return de(Object.assign({activity:a},i),Y,I);case"file_settings_change":return me(Object.assign({activity:a},i));case"shared_content_change":return ge(Object.assign({activity:a},i));case"shared_content_invite":return ue(Object.assign({activity:a},i));case"file_lock_change":return fe(Object.assign({activity:a},i));case"comment_new":return de(Object.assign({activity:a},i),J,K);case"comment_reply":return de(Object.assign({activity:a},i),ee,te);case"trello_file_activity":case"shared_link_change":case"slack_link_share":case"zoom_screen_share":return}};function de(e,t,a,i={},s){const{intl:n,viewingUserId:r,activity:{user:c}}=e;return{eventHeadline:r===c.id?n.formatMessage(t,i):n.formatMessage(a,Object.assign(Object.assign({},i),{name:c.display_name})),cardSubheading:s}}const le=e=>{const{activity:t,rootNamespaceName:a}=e;if("path"in t){const i=c.parentDirName(t.path)||a,s=t.last_path&&(c.parentDirName(t.last_path)||a);return s?de(e,b,S,{source:s,destination:i}):de(e,R,w,{destination:i})}return de(e,E,x)},oe=e=>{const{activity:t}=e;return"filename"in t&&t.last_filename?de(e,A,L,{source:t.last_filename,destination:t.filename}):de(e,C,T)},me=e=>{const{activity:t}=e,a="changed_viewer_info_policy"in t?t.changed_viewer_info_policy:void 0;switch(null==a?void 0:a[".tag"]){case"enabled":return de(e,F,k);case"disabled":return de(e,N,k);default:return de(e,O,$)}};const ge=e=>{const{activity:t}=e;if(!("access_type"in t))return;const a=function(e){return e.changed_group?e.changed_group.name:e.changed_user?e.changed_user.display_name:e.changed_email?e.changed_email:void 0}(t);if(!a)return;const i={entity:a};switch(t.access_type[".tag"]){case"writer":case"owner":case"reader":return de(e,j,B,i);case"reader_no_comment":return de(e,H,P,i);case"no_access":return de(e,D,U,i)}},ue=e=>{const{activity:t,intl:a,viewingUserId:i}=e;if(!("shared_users"in t))return;const{shared_users:s,shared_emails:n,shared_groups:r}=t;s.sort(((e,t)=>re(a,i,e).localeCompare(re(a,i,t)))),n.sort(),r.sort(((e,t)=>e.name.localeCompare(t.name)));const c=[...s.map((e=>re(a,i,e))),...n,...r.map((e=>e.name))],d={entity:c[0],count:c.length-1};return 1===c.length?de(e,z,G,d):c.length>1?de(e,V,W,d):void 0},fe=e=>{const{activity:t}=e;if("activity_type"in t)return"lock"===t.activity_type[".tag"]?de(e,X,q):de(e,Q,Z)},_e=e=>_.reduce(((t,a)=>e[a]?t+1:t),0),ve=e=>(e=0===_e(e)?v:e,t=>{switch(t[".tag"]){case"add":return e[f.added];case"edit":return e[f.edited];case"move":return e[f.moved];case"rename":return e[f.renamed];case"view":return e[f.viewed];case"file_settings_change":case"file_lock_change":case"shared_content_change":case"shared_content_invite":return e[f.shared];case"comment_new":case"comment_reply":return e[f.commented];case"trello_file_activity":case"shared_link_change":case"slack_link_share":case"zoom_screen_share":return!1}}),pe={status:e.EventState.loading},he=e=>e.file_activity_blade_state,ye=(e,{fileId:t})=>he(e).eventHistory[t]||pe,Me=e=>he(e).filter;var Ee=a.react.exports.createContext({isSelectable:!1,spacing:"medium",verticalAlign:"center"}),xe=(e,t,...a)=>{const i=a.find((e=>void 0!==e));return void 0===i?e:{...e,[t]:i}},be=({padding:e,paddingBottom:t,paddingLeft:i,paddingRight:s,paddingTop:n,paddingY:r,paddingX:c})=>a.react.exports.useMemo((()=>{let a={};return a=xe(a,"padding",e),a=xe(a,"paddingLeft",c,i),a=xe(a,"paddingRight",c,s),a=xe(a,"paddingTop",r,n),a=xe(a,"paddingBottom",r,t),a}),[e,t,i,s,n,c,r]),Se=({children:e,className:t,isSelected:s=!1,minHeight:n="auto",spacing:r,verticalAlign:c,padding:d,paddingLeft:l,paddingRight:o,paddingTop:m,paddingBottom:g,paddingX:u,paddingY:f,style:_,isSelectable:v,withSubList:p,tagName:h="div",gap:y="medium",...M})=>{const E=a.react.exports.useContext(Ee),x=a.react.exports.useMemo((()=>"xsmall"===y?"4px":"small"===y?"8px":"medium"===y?"12px":"large"===y?"16px":y+"px"),[y]),b={...be({padding:d,paddingLeft:l,paddingRight:o,paddingTop:m,paddingBottom:g,paddingX:u,paddingY:f}),minHeight:"auto"!==n?n:void 0,..._,"--dig-list-item-gap":x},S=i.useFirstDefined(v,E.isSelectable),R=c||E.verticalAlign,w=(e=>{switch(e){case"xsmall":case"small":case"medium":case"large":return e}return"small"})(r||E.spacing),C="top"===R?"Top":"Center";return a.react.exports.createElement("div",{className:"dig-List-item-wrapper",role:"listitem"},a.react.exports.createElement(h,{className:i.classnames("dig-List-item",`dig-List-item--${w}`,`dig-list-item--align${C}`,t,{"dig-List-item--isSelected":S&&s,"dig-List-item--isSelectable":S}),style:b,...M},e),p)};Se.displayName="Item";var Re=({children:e,className:t,...s})=>a.react.exports.createElement("div",{className:i.classnames("dig-List-content dig-List-item-element",t),...s},e);Re.displayName="Content";var we=({withText:e,children:t,...s})=>a.react.exports.createElement(Se,{isSelectable:!1,...s},e&&a.react.exports.createElement(Re,null,a.react.exports.createElement(i.Text,{variant:"label",size:"small",color:"faint",isBold:!0},e)),!e&&t);we.displayName="List.Label";var Ce=({isSelectable:e,spacing:t="medium",children:s,className:n,padding:r,paddingLeft:c,paddingRight:d,paddingTop:l,paddingBottom:o,paddingX:m,paddingY:g,style:u,verticalAlign:f="center",..._})=>{const v=a.react.exports.useContext(Ee),p=i.useFirstDefined(e,v.isSelectable)||!1,h=be({padding:r,paddingLeft:c,paddingRight:d,paddingTop:l,paddingBottom:o,paddingX:m,paddingY:g});return a.react.exports.createElement(Ee.Provider,{value:{isSelectable:p,spacing:t,verticalAlign:f}},a.react.exports.createElement("div",{role:"list",className:i.classnames("dig-List",n),style:{...u,...h},..._},s))};Ce.displayName="List",Ce.Item=Se,Ce.Content=Re,Ce.Accessory=({className:e,children:t,...s})=>a.react.exports.createElement("div",{className:i.classnames("dig-List-accessory dig-List-item-element",e),...s},t),Ce.Label=we;i.injectInternalStyle("typescript/component_libraries/files_components/src/blades/file_activity/component/index.module.out.css",(e=>"._activity-history-event-list-container_1fomv_1{flex-grow:1;min-height:0}._activity-history-event-list-container--empty_1fomv_6{padding-left:var(--spacing__unit--0_5);padding-top:var(--spacing__unit--2)}._activity-history-event-header_1fomv_11{padding-left:var(--spacing__unit--0_5);padding-top:var(--spacing__unit--1_5)}._event-history-loading-indicator-container_1fomv_16{align-items:center;display:flex;height:100%;justify-content:center;width:100%}._activity-history-container_1fomv_24 ._activity-history-filter-menu_1fomv_24{background-color:var(--color__standard__background);padding-top:3px;position:-webkit-sticky;position:sticky;top:0;width:100%;z-index:2}._activity-history-container_1fomv_24{display:flex;flex-direction:column;height:auto;position:relative;width:100%}._activity-history-version-history-menu_1fomv_41{margin-left:auto}"));const Te="_activity-history-event-list-container_1fomv_1",Ae="_activity-history-event-list-container--empty_1fomv_6",Le="_activity-history-event-header_1fomv_11",Ye="_event-history-loading-indicator-container_1fomv_16",Ie="_activity-history-container_1fomv_24",Fe="_activity-history-filter-menu_1fomv_24",Ne="_activity-history-version-history-menu_1fomv_41",ke=({activity:e})=>{const t=i.useIntl();return a.react.exports.createElement("div",{className:i.classnames(Te,{[Ae]:0===e.length})},0===e.length?a.react.exports.createElement(i.Text,{color:"faint",size:"small"},t.formatMessage({id:"4hDYQO",defaultMessage:"There's nothing in our records"})):a.react.exports.createElement(Ce,null,e.map(Oe)))};ke.displayName="ActivityList";const Oe=e=>e.type===ae.event?a.react.exports.createElement($e,Object.assign({key:e.id},e)):e.type===ae.dateBanner?a.react.exports.createElement(Be,Object.assign({key:e.eventCardDate},e)):a.react.exports.createElement(He,{key:e.id});Oe.displayName="ActivityCard";const $e=e=>{const t=i.useIntl();return a.react.exports.createElement(Ce.Item,null,a.react.exports.createElement(Ce.Accessory,null,a.react.exports.createElement(je,{user:e.user})),a.react.exports.createElement(Ce.Content,null,a.react.exports.createElement(d.LabelGroup,{withText:e.eventHeadline,withSubtext:t.formatDate(new Date(e.timestamp),{hour:"numeric",minute:"2-digit"})})))};$e.displayName="EventCard";const je=({user:e})=>{const t=e.photo_url?e.photo_url:void 0,s=e.display_name.split(/\s+/g).slice(0,2).map((e=>e[0])).join("").toUpperCase();return a.react.exports.createElement(i.Avatar,{src:t,backgroundColor:i.avatarColorForUserIdentifier(s),size:"small",hasNoOutline:!0},s)};je.displayName="CardAvatar";const Be=e=>a.react.exports.createElement("div",{className:Le},a.react.exports.createElement(i.Text,{isBold:!0,variant:"label"},e.eventCardDate));Be.displayName="DateBannerCard";const He=()=>{const e=i.useIntl();return a.react.exports.createElement(Ce.Item,null,a.react.exports.createElement(i.Text,{variant:"label"},e.formatMessage({id:"NYLgxb",defaultMessage:"Nothing happened on this day"})))};He.displayName="EmptyDayCard";const Pe={GetActivityStream:"@@apiv2_redux/file_activity_stream/get_activity_stream",GetActivityStreamResult:"@@apiv2_redux/file_activity_stream/get_activity_stream_result",GetActivityStreamBatch:"@@apiv2_redux/file_activity_stream/get_activity_stream_batch",GetActivityStreamBatchResult:"@@apiv2_redux/file_activity_stream/get_activity_stream_batch_result",RecentFilesWithLatestEvents:"@@apiv2_redux/file_activity_stream/recent_files_with_latest_events",RecentFilesWithLatestEventsResult:"@@apiv2_redux/file_activity_stream/recent_files_with_latest_events_result"},De=n._createAction(Pe.GetActivityStream),Ue=n._createAction(Pe.GetActivityStreamResult),ze=n._createAction(Pe.GetActivityStreamBatchResult),Ge=n._createAction(Pe.RecentFilesWithLatestEventsResult),Ve={[Pe.GetActivityStream]:{endpoint:"get_activity_stream",action:Ue},[Pe.GetActivityStreamBatch]:{endpoint:"get_activity_stream_batch",action:ze},[Pe.RecentFilesWithLatestEvents]:{endpoint:"recent_files_with_latest_events",action:Ge}},We=n._createMiddleware(Ve),Xe={added:i.defineMessage({id:"pQdQ0E",defaultMessage:"Added"}),viewed:i.defineMessage({id:"nw8m8S",defaultMessage:"Viewed"}),moved:i.defineMessage({id:"jqrPlN",defaultMessage:"Moved"}),renamed:i.defineMessage({id:"+bqj0P",defaultMessage:"Renamed"}),edited:i.defineMessage({id:"eq7WUQ",defaultMessage:"Edited"}),shared:i.defineMessage({id:"2Vp/+6",defaultMessage:"Shared"}),commented:i.defineMessage({id:"nih9gu",defaultMessage:"Commented"})};function qe(e){return _e(e)===_.length}const Qe=e=>a.React$1.createElement(i.Menu.ActionItem,{key:e.value,value:e.value,role:"menuitemcheckbox","aria-checked":e.isChecked,"aria-label":e.label,withLeftAccessory:a.React$1.createElement(l.Checkbox,{checked:e.isChecked,readOnly:!0,tabIndex:-1})},e.label);var Ze;e.FilterUserEvent=void 0,(Ze=e.FilterUserEvent||(e.FilterUserEvent={})).SELECT_ALL_HISTORY_TYPE="select_all_history_type",Ze.CLEAR_SELECT_HISTORY_TYPE="clear_select_history_type",Ze.SELECT_HISTORY_TYPE="select_history_type",Ze.UNSELECT_HISTORY_TYPE="unselect_history_type";const Je=({filter:t,setFilter:s,logFilterChange:n,logUserAction:r})=>{const c=i.useIntl(),d=_e(t),l=a.React$1.useCallback((a=>{s(Object.assign(Object.assign({},t),{[a]:!t[a]})),null==n||n(t[a]?e.FilterUserEvent.UNSELECT_HISTORY_TYPE:e.FilterUserEvent.SELECT_HISTORY_TYPE),null==r||r("add_activity_filter",a)}),[t,n,s]),o=a.React$1.useCallback((({isOpen:e})=>{e&&(null==r||r("activity_filter_menu"))}),[r]),m=a.React$1.useCallback((()=>{qe(t)?(s({}),null==n||n(e.FilterUserEvent.CLEAR_SELECT_HISTORY_TYPE)):(s(v),null==n||n(e.FilterUserEvent.SELECT_ALL_HISTORY_TYPE))}),[t,n,s]);return a.React$1.createElement("div",{className:Fe},a.React$1.createElement(i.Menu.Wrapper,{closeOnSelection:!1,isPortaled:!1,onSelection:l,onToggle:o},(({getContentProps:e,getTriggerProps:s})=>a.React$1.createElement(a.React$1.Fragment,null,a.React$1.createElement(i.FilterChip,Object.assign({withDropdownIcon:!0},s()),c.formatMessage({id:"k7FRk3",defaultMessage:"Filter"}),d>0?` â€¢ ${d}`:null),a.React$1.createElement(i.Menu.Content,Object.assign({},e(),{style:{width:296}}),a.React$1.createElement(i.Menu.Segment,{withLabel:a.React$1.createElement(a.React$1.Fragment,null,a.React$1.createElement(i.Text,{isBold:!0},c.formatMessage({id:"YAOfjz",defaultMessage:"Select type"})),a.React$1.createElement(i.Button,{variant:"transparent",onClick:m},a.React$1.createElement(i.Text,{isBold:!0,size:"small"},qe(t)?c.formatMessage({id:"JPzwuS",defaultMessage:"Clear"}):c.formatMessage({id:"JlWpUr",defaultMessage:"Select all"}))))},_.map((e=>a.React$1.createElement(Qe,{key:e,value:e,label:c.formatMessage(Xe[e]),isChecked:!!t[e]})))))))))};Je.displayName="ActivityFilter",e.FileActivityActionTypes=void 0,(e.FileActivityActionTypes||(e.FileActivityActionTypes={})).SET_FILTER="FILE_ACTIVITY/SET_FILTER";const Ke=a.React$1.memo((({fileId:t,user:s,rootNamespaceName:n="Dropbox",logFilterChange:r,logUserAction:c})=>{const d=i.useIntl(),l=i.useDispatch(),o=a.React$1.useMemo((()=>i.createSelector(ye,Me,((t,a)=>t.status===e.EventState.loaded?{status:t.status,activity:t.activity.filter(ve(a))}:t))),[]),m=i.useSelector((e=>o(e,{fileId:t}))),g=i.useSelector(Me),u=i.useSelector((a=>((t,a)=>{const i=ye(t,a);return i.status===e.EventState.loaded&&i.activity.length})(a,{fileId:t}))),f=a.React$1.useMemo((()=>{return t=m,a={intl:d,viewingUserId:s.account_id,rootNamespaceName:n},t.status!==e.EventState.loaded?[]:t.activity.sort(((e,t)=>e.timestamp<t.timestamp?1:e.timestamp>t.timestamp?-1:0)).map(ie(a)).reduce(ne(a.intl),[]);var t,a}),[m,d,s,n]);a.React$1.useEffect((()=>{l(De({arg:{file_path_or_id:t},params:{subjectUserId:String(s.id)}}))}),[t,s,l]);const _=a.React$1.useCallback((t=>{l({type:e.FileActivityActionTypes.SET_FILTER,filter:t})}),[l]);return a.React$1.createElement("div",{className:Ie},m.status===e.EventState.loading?a.React$1.createElement("div",{className:Ye},a.React$1.createElement(i.Spinner,{size:"standard","aria-valuetext":d.formatMessage({id:"csFB2E",defaultMessage:"Loading"})})):m.status===e.EventState.error?a.React$1.createElement(i.Text,{color:"faint",size:"small"},m.errorString):u?a.React$1.createElement(a.React$1.Fragment,null,a.React$1.createElement(Je,{filter:g,setFilter:_,logFilterChange:r,logUserAction:c}),a.React$1.createElement(ke,{activity:f})):a.React$1.createElement(i.Text,{size:"small",color:"faint"},d.formatMessage({id:"E5o8M1",defaultMessage:"When people work with this file, you'll see their activity here."})))}));Ke.displayName="FileActivity";var et=Object.freeze({__proto__:null,FileActivity:Ke});const tt=({onVersionHistoryClicked:e,iconSize:t="small"})=>{const s=i.useIntl(),n=a.React$1.useCallback((t=>{"version-history"===t&&e()}),[e]);return a.React$1.createElement(i.Menu.Wrapper,{onSelection:n,className:Ne},(({getTriggerProps:e,getContentProps:n})=>{const r=e();return a.React$1.createElement(i.IconButton,Object.assign({variant:"transparent"},r,{onClick:e=>{var t;e.stopPropagation(),null===(t=r.onClick)||void 0===t||t.call(r,e)},size:"small","aria-label":s.formatMessage({id:"eCPSMy",defaultMessage:"Other actions"})}),a.React$1.createElement(i.UIIcon,{src:o.MoreHorizontalLine,size:t,"aria-label":""}),a.React$1.createElement(i.Menu.Content,Object.assign({},n()),a.React$1.createElement(i.Menu.Segment,null,a.React$1.createElement(i.Menu.ActionItem,{value:"version-history"},s.formatMessage({id:"h+Ew4R",defaultMessage:"Version history"})))))}))};tt.displayName="VersionHistoryMenu";const at=c=>{var{id:d,versionHistory:l,intl:o}=c,g=t.__rest(c,["id","versionHistory","intl"]);!function(t){const s=i.useDispatch();a.react.exports.useEffect((()=>{s({type:e.FileActivityActionTypes.SET_FILTER,filter:{}})}),[s,t])}(g.fileId);const u=r.useIsExpanded(d);return a.react.exports.createElement(m.Provider,{value:o},a.react.exports.createElement(n.RightRail.Blade,{withTitle:o.formatMessage({id:"avG+QD",defaultMessage:"Activity"}),withIcon:a.react.exports.createElement(i.UIIcon,{src:s.FileHistoryLine}),id:d,withTitleRightAccessory:u&&l&&l.enabled&&a.react.exports.createElement(tt,{onVersionHistoryClicked:l.onVersionHistoryClicked})},a.react.exports.createElement(Ke,Object.assign({},g))))};at.displayName="FileActivityBlade";const it=({id:e,intl:t})=>a.react.exports.createElement(n.RightRail.CollapsedBladeIcon,{id:e,withIcon:a.react.exports.createElement(i.UIIcon,{src:s.FileHistoryLine,"aria-label":t.formatMessage({id:"Qimr0o",defaultMessage:"Open activity panel"})}),tooltip:t.formatMessage({id:"huSYqM",defaultMessage:"Activity"})});it.displayName="CollapsedFileActivityBladeButton",e.Action=Pe,e.CollapsedFileActivityBladeButton=it,e.FILE_ACTIVITY_BLADE_NAMESPACE_KEY=g,e.FileActivityBlade=at,e.VersionHistoryMenu=tt,e.defaultFileActivityState={filter:{},eventHistory:{}},e.file_activity_esnext=et,e.middleware=We}));
//# sourceMappingURL=c_file_activity_component_file_activity_blade.js-vfl5ZQpek.map
