define(["exports","./e_ui_page_files_router","./e_edison","./c_ui_section_header_tooltip","./c_ui_section_section_header","./c_core_i18n","./c_hooks_resize_observer"],(function(e,t,i,s,a,n,l){"use strict";const o=[t.DisplayTypes.DOC,t.DisplayTypes.MSDOC_DEPRECATED,t.DisplayTypes.PDF,t.DisplayTypes.SPREADSHEET,t.DisplayTypes.FILE],d={DOC:t.FileTypes.FILE,MSDOC:t.FileTypes.FILE,PDF:t.FileTypes.FILE,SPREADSHEET:t.FileTypes.FILE,FILE:t.FileTypes.FILE,FOLDER:t.FileTypes.FOLDER,SHARED_FOLDER:t.FileTypes.SHARED_FOLDER,TEAM_FOLDER:t.FileTypes.TEAM_SHARED_FOLDER,CDM_TEAM_MEMBER_FOLDER:t.FileTypes.TEAM_MEMBER_FOLDER,TEAM_MEMBER_FOLDER:t.FileTypes.TEAM_MEMBER_FOLDER,SHARED_FOLDER_READ_ONLY:t.FileTypes.SHARED_FOLDER,TEAM_READ_ONLY:t.FileTypes.TEAM_SHARED_FOLDER,RESTRICTED_FOLDER:t.FileTypes.FOLDER,CAMERA_UPLOADS:t.FileTypes.FOLDER};var E;e.SuggestItemTypes=void 0,(E=e.SuggestItemTypes||(e.SuggestItemTypes={})).FILE="file",E.PAPER_DOCUMENT="paper_document";var r;e.SuggestLoadingState=void 0,(r=e.SuggestLoadingState||(e.SuggestLoadingState={})).FETCHING="FETCHING",r.SUCCESS="SUCCESS",r.FAILURE="FAILURE",r.PREFETCHING="PREFETCHING";const c=e=>{const{minTileWidth:t,maxColWidth:i,tilePadding:s}={minTileWidth:134,maxColWidth:180,tilePadding:8},a=e-2*s-2;if(a<400)return{itemsToShow:2,tileWidth:(a-s)/2};let n=Math.max(1,Math.floor(a/i)),l=200;if(a%i>1){const e=a/(n+1)-s;e>=t&&(n++,l=e)}return{itemsToShow:n,tileWidth:l}},g=({isHiddenByUser:e,buttonAction:t})=>i.React$1.createElement(a.SectionHeader,{title:n.intl.formatMessage({id:"47aM5Y",defaultMessage:"Suggested from your activity"}),ueName:"suggest",isHidden:e,onToggleHidden:t,infoIcon:i.React$1.createElement(s.HeaderTooltip,{title:n.intl.formatMessage({id:"Sx3SWG",defaultMessage:"Quick access to files youâ€™ve been working on."}),size:"standard",label:n.intl.formatMessage({id:"WYQtmB",defaultMessage:"More info"})})}),_=({isHiddenByUser:e,children:s,onHeightChanged:a})=>{const n=m(a);return i.React$1.createElement("section",{ref:n,className:t.classnames({"home-access-section":!0,"home-access-section-suggest-nonempty":!e})},s)},m=e=>{const[t,s]=l.useResizeObserver(),a=null==s?void 0:s.contentRect,n=t.current;return i.React$1.useEffect((()=>{if(!e)return;let t=0;if(a&&(t+=a.height),n){const{marginTop:e,marginBottom:i}=window.getComputedStyle(n);t+=Math.ceil(parseFloat(e)+parseFloat(i))}e(t)}),[a,n,e]),t};class T extends i.React$1.PureComponent{render(){const{isHiddenByUser:e,containerWidth:t}=this.props,{itemsToShow:s,tileWidth:a}=c(t);return i.React$1.createElement(_,{isHiddenByUser:e},i.React$1.createElement(g,{isHiddenByUser:e}),i.React$1.createElement(R,{isHiddenByUser:e,itemsToShow:s,tileWidth:a}))}}T.displayName="SuggestLoading";class R extends i.React$1.PureComponent{renderLoadingTile(e,s,a){return this.props.suggestLoadingTile?this.props.suggestLoadingTile({tileWidth:e,tileMarginRight:a}):i.React$1.createElement("div",{key:s,className:t.classnames(["tile","home-suggest-preview-tile"])},i.React$1.createElement("div",{className:"tile__loading-container",style:{width:e+"px"}},i.React$1.createElement("div",{className:"tile__loading-thumbnail",style:{width:e+"px"}})),i.React$1.createElement("div",{className:"loading-tile-label"},i.React$1.createElement("div",{className:"loading-tile-label__detail-text"}),i.React$1.createElement("div",{className:"loading-tile-label__detail-subheader"})))}render(){const{itemsToShow:e,tileWidth:s,tileMarginRight:a,isHiddenByUser:n}=this.props,l=[];for(let t=0;t<e;t++)l.push(this.renderLoadingTile(s,t,a));return n?null:i.React$1.createElement("div",{className:t.classnames({"home-access-section__content":!0,"home__suggest-items":!0})},i.React$1.createElement("div",{className:"home-tile__container"},l))}}R.displayName="SuggestLoadingInner",e.PreviewableDisplayTypes=o,e.SUGGEST_SECTION_IS_HIDDEN_LOCAL_STORAGE_KEY="suggest_section_is_hidden",e.SuggestFrame=_,e.SuggestHeader=g,e.SuggestLoadingInner=R,e.getFolderPath=e=>e,e.getLayout=c,e.isLoading=t=>t===e.SuggestLoadingState.FETCHING||t===e.SuggestLoadingState.PREFETCHING,e.suggestedItemToFileIconFields=function(e,i){const s=(a=e.displayType,d[a]||t.FileTypes.FILE);var a;return{type:s,icon:s===t.FileTypes.TEAM_MEMBER_FOLDER?"folder_team_member":"",fq_path:e.fqPath,thumbnail_url_tmpl:i?null:e.thumbnailUrl,isDeleted:!1}},e.suggestedItemToIdTypePair=function(e){return null===e.encodedFileObjId||void 0===e.encodedFileObjId?{id:e.fqPath,type:t.HOME_RESOURCE_ID_TYPE.FQ_PATH}:{id:e.encodedFileObjId,type:t.HOME_RESOURCE_ID_TYPE.ENCODED_FILE_OBJ_ID}}}));
//# sourceMappingURL=c_content_suggestions_models_suggested_item.js-vflnm9fsl.map
