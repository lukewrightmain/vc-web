define(["exports","./c_tslib","./e_edison","./c_ui-icon_line_zip","./e_ui_page_files_router","./c_flows_constants","./c_flows_conversions_convert","./c_core_i18n","./c_core_uri"],(function(e,t,i,o,a,s,n,r,l){"use strict";const c="unzip",d={actionText:r.intl.formatMessage({id:"u1R/iY",defaultMessage:"Extract all"}),actionIcon:o.ZipLine,selector:n.singleFileWithExtensionSelector(s.SUPPORTED_UNZIP_EXTENSIONS),convert:(e,i,o)=>{const{source:a}=o;return n.convertFileAndShowSnackbar(Object.assign(Object.assign({},o),{file:e[0],user:i,loggingFunctions:n.getConversionLoggingFunctions(c),conversionType:c,folderRuleAction:"unzip",getStrings:(e,t)=>u(e,i,t),conversionFn:(e,i,o)=>t.__awaiter(void 0,void 0,void 0,(function*(){return(yield n.unzip(i.id,n.getFileIdentifier(e,o))).path})),getAdoptionSnackbarProps:t=>n.getAdoptionSnackbarProps({user:i,conversionType:c,folderRuleAction:"unzip",resultPath:t,source:a,nsId:e[0].ns_id}),template:{sequence:[{workflow_action:{".tag":"unzip"}}]},outputExt:""}))}},u=(e,t,o)=>{const s=r.intl.formatMessage({id:"gJnC96",defaultMessage:"Couldn't extract files"}),c=n.getSuccessString(e,((s,n)=>r.intl.formatMessage({id:"oxpxVW",defaultMessage:"Files extracted to <a>{folderName}</a> in {parentFolderName} folder"},{folderName:s,parentFolderName:n,a:s=>(null==o?void 0:o.clickableFileName)?i.React$1.createElement(a.Link,{inverse:!0,href:a.get_browse_root(t)+l.URI.encode_parts(e),onClick:()=>{var e;null===(e=null==o?void 0:o.loggingFunctions)||void 0===e||e.logConvertOpen(null==o?void 0:o.source)}},s):s})),(e=>r.intl.formatMessage({id:"TRohxO",defaultMessage:"Files extracted to {folderName} in your main Dropbox folder"},{folderName:e})));return{saving:r.intl.formatMessage({id:"Jk+n/I",defaultMessage:"Extracting files..."}),success:c,successAutomatedAdoption:c,failGeneric:s,failRetryable:s,failOverQuota:r.intl.formatMessage({id:"atcchQ",defaultMessage:"Couldn't extract because your Dropbox account is out of space"}),failTooLarge:r.intl.formatMessage({id:"Hgd1fQ",defaultMessage:"Couldn't extract files. Can only handle files up to {fileSize} MB"},{fileSize:512}),failCorrupt:r.intl.formatMessage({id:"00qMd1",defaultMessage:"Couldn't extract because the file is damaged"}),failPassword:r.intl.formatMessage({id:"xbgxEF",defaultMessage:"Couldn't extract because the file is password protected"}),failPasswordLink:r.intl.formatMessage({id:"UvS9P9",defaultMessage:"Couldn't extract because the file was shared using a password-protected link"})}};e.UnzipAction=d}));
//# sourceMappingURL=c_conversions_actions_unzip.js-vflJb0MpE.map
