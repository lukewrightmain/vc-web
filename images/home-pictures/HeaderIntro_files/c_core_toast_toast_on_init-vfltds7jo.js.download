define(["require","exports","./c_tslib","./c_core_notify","./c_browser_cookies","./c_security_csrf_hmac","./c_csrf","./e_edison","./c_core_uri","./c_lodash-es_lodash","./c_apex-metrics_src_types","./c_security_crypto","./c_core_browser_detection"],(function(e,o,t,i,s,r,n,c,u,_,a,d,f){"use strict";const l="toast";function y(e,o){return t.__awaiter(this,void 0,void 0,(function*(){const t=yield r.readHmacCookieToken(e,o);if(null==t)return null;if(t.startsWith("er:"))return[!0,t.substring(3)];if(t.startsWith("ok:"))return[!1,t.substring(3)];throw new Error("unrecognized format of message in toast cookie")}))}o.decodeToastCookie=y,o.showToastFromCookie=function(){var o;return t.__awaiter(this,void 0,void 0,(function*(){const t=s.Cookies.read(l);if(t){const r=yield y(t,null!==(o=n.readCsrfToken())&&void 0!==o?o:void 0);if(null!=r){const o=i.require_css("/static/metaserver/static/css/notify-vfl4oJv2S.css"),[t,n]=r,{default:c}=yield new Promise((function(o,t){e(["./c_core_notify"],o,t)})).then((function(e){return e.purify_es})),u=c.sanitize(n),_=document.getElementById("flash");null!=_&&(_.innerHTML=u,_.style.display="block");setTimeout((()=>s.Cookies.delete(l)),2e3),yield o,t?i.Notify.error(new i.HTML(u),10):i.Notify.success(new i.HTML(u),10)}}}))}}));
//# sourceMappingURL=c_core_toast_toast_on_init.js-vflrFPcyk.map
