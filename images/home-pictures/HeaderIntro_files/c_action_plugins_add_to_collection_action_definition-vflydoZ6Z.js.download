define(["require","exports","./e_edison","./e_ui_page_files_router","./c_ui-icon_line_add-to-collection","./c_action_bar_action_bar_strings","./c_core_i18n","./c_file_viewer_sdk_file_viewer_file_viewer","./c_sdk_file_viewer_action_plugins_utils","./c_file_viewer_sdk_file_viewer_experiments"],(function(e,i,o,t,n,r,c,l,_,s){"use strict";const a=[l.SDKPreviewSurface.BROWSE,l.SDKPreviewSurface.COLLECTIONS,l.SDKPreviewSurface.SEARCH,l.SDKPreviewSurface.VIDEO_HOME],f=e=>_.isLiveFile(e)&&s.fileViewerFeatureExperiments.enableAddToCollection,u={filterValidUser:l.filterLoggedInUser,filterValidFile:(e,i)=>{if(f(e)&&(!i||l.isDownloadAllowed(i)))return e},shouldShowForPreviewSurface:l.filterSurfaceIn(a),shouldShowForPreviewType:l.alwaysShow};i.addToCollectionActionConditions=u,i.addToCollectionPluginDefinition=function(i){const _=function(e){const{context:i,user:o}=e,{file:t}=e.getActiveFile();return o&&f(t)?{context:i,file:t,user:o}:void 0}(i);if(_)return{label:c.intl.formatMessage(r.ADD_TO_COLLECTION_STRING),icon:o.React$1.createElement(t.UIIcon,{src:n.AddToCollectionLine}),id:l.ADD_TO_COLLECTION_ACTION_PLUGIN_ID,action:{importer:()=>new Promise((function(i,o){e(["./c_action_plugins_add_to_collection_action_action"],i,o)})).then((({addToCollectionAction:e})=>e)),args:_}}},i.extractProps=function({context:e,getActiveFile:i,user:o}){if(e&&i&&o)return{context:e,getActiveFile:i,user:o}}}));
//# sourceMappingURL=c_action_plugins_add_to_collection_action_definition.js-vflJSbxli.map
