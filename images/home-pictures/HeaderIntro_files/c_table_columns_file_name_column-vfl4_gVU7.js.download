define(["exports","./c_tslib","./e_edison","./c_src_table","./e_ui_page_files_router","./c_ui-icon_line_arrow-down","./c_ui-icon_line_arrow-up","./c_lodash-es_lodash","./c_react-table_index","./c_resize-observer-polyfill_dist_ResizeObserver","./c_src_icons_file_icon","./c_combinations_index"],(function(e,t,s,r,a,o,l,n,c,i,u,p){"use strict";const d=(...e)=>(...t)=>e.forEach((e=>e(t)));function m(...e){const t={};for(const s of e){for(const e in t)/^on[A-Z]/.test(e)&&"function"==typeof t[e]&&"function"==typeof s[e]?t[e]=d(t[e],s[e]):"className"===e&&"string"==typeof t.className&&"string"==typeof s.className?t[e]=`${t.className} ${s.className}`:t[e]=void 0!==s[e]?s[e]:t[e];for(const e in s)void 0===t[e]&&(t[e]=s[e])}return t}const g=c.reactTable.exports.useTable,b=c.reactTable.exports.ensurePluginOrder,f=c.reactTable.exports.useAbsoluteLayout,x=c.reactTable.exports.useBlockLayout,y=c.reactTable.exports.useColumnOrder,h=c.reactTable.exports.useExpanded,T=c.reactTable.exports.useFilters,v=c.reactTable.exports.useFlexLayout,w=c.reactTable.exports.useGlobalFilter,N=c.reactTable.exports.useGroupBy,F=c.reactTable.exports.usePagination,_=c.reactTable.exports.useResizeColumns,C=c.reactTable.exports.useRowSelect,E=c.reactTable.exports.useRowState,O=c.reactTable.exports.useSortBy;f.pluginName="useAbsoluteLayout",x.pluginName="useBlockLayout",y.pluginName="useColumnOrder",h.pluginName="useExpanded",T.pluginName="useFilters",v.pluginName="useFlexLayout",w.pluginName="useGlobalFilter",N.pluginName="useGroupBy",F.pluginName="usePagination",_.pluginName="useResizeColumns",C.pluginName="useRowSelect",E.pluginName="useRowState",O.pluginName="useSortBy";const P=g,S=e=>{var{instance:a,getPropsForRow:o,showHeader:l=!0}=e,n=t.__rest(e,["instance","getPropsForRow","showHeader"]);const{getTableProps:c,getTableBodyProps:i,headerGroups:u,rows:p,prepareRow:d}=a;return s.react.exports.createElement(r.Table,Object.assign({},m(c(),n)),l&&s.react.exports.createElement(r.Table.Header,null,u.map((e=>e.headers.map((e=>s.react.exports.createElement(r.Table.Cell,Object.assign({},e.getHeaderProps()),e.render("Header"))))))),s.react.exports.createElement(r.Table.Body,Object.assign({},i()),p.map((e=>(d(e),s.react.exports.createElement(L,{key:e.id,row:e,getPropsForRow:o}))))))},L=({row:e,getPropsForRow:t})=>{const a=Object.assign(Object.assign({},e.getRowProps()),{isSelected:e.isSelected||!1}),o=(null==t?void 0:t(e.original))||{},l=s.react.exports.useMemo((()=>m(a,o)),[a,o]);return s.react.exports.createElement(r.Table.Row,Object.assign({},l),e.cells.map((e=>s.react.exports.createElement(r.Table.Cell,Object.assign({align:"left"},e.getCellProps()),e.render("Cell")))))};S.displayName="UnmanagedTable";const B=e=>{e.useInstance.push((e=>{b(e.plugins,["useSortBy"],"useSortableHeaders")})),e.getHeaderProps.push(((e,{column:t})=>n.merge(e,t.getSortByToggleProps()))),e.columns.push((e=>e.map((e=>{const t=Object.assign({},e);return t.Header=t=>{const r=t.column.isSortedDesc?o.ArrowDownLine:l.ArrowUpLine;return s.react.exports.createElement(s.react.exports.Fragment,null,"function"==typeof e.Header?s.react.exports.createElement(e.Header,Object.assign({},t)):e.Header,t.column.isSorted&&s.react.exports.createElement(a.UIIcon,{size:"small",src:r}))},t}))))};B.pluginName="useSortableHeaders";const k="react-table--keyboarding-selectable",R=e=>{let t;e.useInstance.push((e=>{const{ref:r,focusGroup:o}=((e,t)=>{const[r,o]=s.react.exports.useState(null),l=s.react.exports.useMemo((()=>a.createFocusGroup({trackTabIndexOnFocus:!0,addTabIndextoChildrenOnFocus:!0})),[]);return s.react.exports.useEffect((()=>(l.activate(),()=>{l.deactivate()})),[l]),s.react.exports.useEffect((()=>{if(r){const s=()=>Array.from((null==r?void 0:r.querySelectorAll(e))||[]),a=()=>{l.setMembers(s())};a();const o=new MutationObserver(a);return o.observe(r,{subtree:t,childList:!0}),()=>o.disconnect()}return()=>{}}),[l,e,r,t]),{ref:s.react.exports.useCallback((e=>o(e)),[o]),focusGroup:l}})("."+k,!1);t=r,Object.assign(e,{focusNodeAtIndex:o.focusNodeAtIndex,moveFocusForward:o.moveFocusForward,moveFocusBack:o.moveFocusBack,moveFocusToFirst:o.moveFocusToFirst,moveFocusToLast:o.moveFocusToLast})})),e.getTableBodyProps.push((e=>Object.assign(Object.assign({},e),{ref:t}))),e.getRowProps.push((e=>Object.assign(Object.assign({},e),{className:a.classnames(e.className,k)})))};R.pluginName="useKeyboarding";const j=({getRowProps:e})=>{e.push(((e,{row:{original:{url:t,performOpenAction:s,ariaLabelledBy:r}}})=>[e,Object.assign({onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),s(e.shiftKey||e.ctrlKey))},onClick:e=>{e.preventDefault(),e.stopPropagation(),s(e.shiftKey||e.ctrlKey,{href:t,middleClick:!1})},onAuxClick:e=>{e.preventDefault(),e.stopPropagation(),s(e.shiftKey||e.ctrlKey,{href:t,middleClick:!0})}},t?{tabIndex:-1,"aria-labelledby":r}:{})]))};j.pluginName="UseLinkBehavior";const H=e=>{const[t,r]=s.react.exports.useState(null),a=s.react.exports.useRef();e.useInstance.push((e=>{b(e.plugins,["useKeyboarding"],"useColumnCollapsing"),a.current=e})),e.getTableBodyProps.push((e=>[e,{ref:t=>{var s;e.ref instanceof Function&&(null===(s=e.ref)||void 0===s||s.call(e,t)),r(t)}}])),s.react.exports.useEffect((()=>{if(t){const e=new i.index((()=>I(a,(null==t?void 0:t.clientWidth)||Number.MIN_VALUE)));return e.observe(t),()=>e.disconnect()}}),[t])};H.pluginName="useColumnCollapsing";const I=(e,t)=>{var s;const r=e.current;if(!r)return;const a=r.totalColumnsMinWidth||0,o=r.visibleColumns,l=r.allColumns;if(a>=t&&o.length>1){for(const e of o.reverse())if(e.minWidth){e.toggleHidden();break}}else if(a<t&&l.length!==o.length){const e=t-a,r=null===(s=l.filter((e=>!e.isVisible&&e.minWidth)))||void 0===s?void 0:s[0];r&&r.minWidth&&r.minWidth<e&&r.toggleHidden()}},A=({file:e,labelID:t,subTitle:r=""})=>{const o=e.url?s.react.exports.createElement(a.Link,{id:t,"data-testid":"files-filename",href:e.url},e.title):s.react.exports.createElement("span",{id:t,"data-testid":"files-filename"},e.title);return s.react.exports.createElement(s.react.exports.Fragment,null,s.react.exports.createElement(p.LabelGroup,{withLeftAccessory:s.react.exports.createElement(u.FileIcon,{file:e}),withText:o,withSubtext:r}))};A.displayName="FileNameCell";const M={id:"filename",Header:()=>s.react.exports.createElement(s.react.exports.Fragment,null,s.react.exports.createElement("div",{style:{width:"48px"}})," ",a.useIntl().formatMessage(K)),Cell:({row:e})=>{return s.react.exports.createElement(A,{file:e.original,labelID:(t=e.index,`files-table-label-${t}`)});var t},accessor:e=>e.title,width:300},K=a.defineMessage({id:"A2npVi",defaultMessage:"Name"});e.FileNameCell=A,e.FileNameColumn=M,e.createManagedTable=(...e)=>{const r=r=>{var{data:a,columns:o}=r,l=t.__rest(r,["data","columns"]);const n=P({columns:o,data:a},...e);return s.react.exports.createElement(S,Object.assign({instance:n},l))};return r.displayName="ManagedTable",r},e.useColumnCollapsing=H,e.useFlexLayout=v,e.useKeyboarding=R,e.useLinkBehavior=j,e.useSortBy=O,e.useSortableHeaders=B}));
//# sourceMappingURL=c_table_columns_file_name_column.js-vflhEll6k.map
