define(["exports","./c_src_sink_index","./e_core_exception","./c_apex-metrics_src_types","./c_core_exception_info","./c_tslib","./e_edison","./e_ui_page_files_router","./c_react-error-boundary"],(function(e,t,o,_,i,n,r,a,s){"use strict";var c;!function(e){e.WEB="web",e.DESKTOP_SSCV="desktop_sscv",e.MOBILE_WEB="mobile_web"}(c||(c={}));const E="smb_funnel",I=["platform","variant","isJoiner"],T=e=>{const t={};return Object.keys(e).forEach((o=>{I.indexOf(o)>=0&&(t[o]=e[o])})),t};const O=new class{constructor(e={}){this.setCommonTags=e=>{const t=T(e);Object.keys(t).forEach((t=>{this.commonTags[t]&&this.commonTags[t]!==e[t]&&o.reportStack(`Attempting to change ${t} after it was already set`,{severity:i.SEVERITY.NONCRITICAL,tags:["team-activation","smb-funnel"]})})),this.commonTags=t},this.log=(e,t={})=>{const o=Object.assign(Object.assign({},this.commonTags),t),_=this.metricsReporter.createCounter({ns:E,name:e},o);_.increment(),_.record()},this.logDuration=(e,t,o={})=>{const i=Object.assign(Object.assign({},this.commonTags),o);this.metricsReporter.createStats({ns:E,name:e},i).recordDuration(t,_.TimeUnit.MILLISECONDS)},this.commonTags=T(e),this.metricsReporter=t.getMetricsReporter$1()}};var A,S,N,C,l,p,d;e.Steps=void 0,(A=e.Steps||(e.Steps={})).VERIFICATION="verification",A.RIGHTSIZING="rightsizing",A.TEAM_INFO="team_info",A.MOVE_FOLDERS="move_folders",A.CONFIRM_FOLDERS="confirm_folders",A.RESULTS_FOLDERS="results_folders",A.INVITE_MEMBERS="invite_members",A.SUGGESTED_INVITE_MEMBERS="suggested_invite_members",A.INVITE_MOBILE="invite_mobile",A.INSTALL="install",A.INSTALL_MOBILE="install_mobile",A.IMPORT_CONTACTS="import_contacts",A.ROLE="role",A.COLLABORATION="collaboration",A.LOADING_SCREEN="loading_screen",A.PAIR="team_install_page_pair",A.OPEN="team_install_page_open",A.DOWNLOAD="team_install_page_download",A.DOWNLOAD_COMPLETE="download_complete",A.MOBILE_INSTALL="mobile_install",A.DOCSEND_ONBOARD="docsend_onboard",A.JOIN_ACCEPT="join_accept",A.JOIN_LOGIN="join_login",A.JOIN_MOVE_FILES="join_move_files",A.JOIN_PRIVACY_QUESTION="privacy_question",A.JOIN_TWO_ACCOUNT_SUGGESTION="two_account_suggestion",A.JOIN_ONE_ACCOUNT_SUGGESTION="one_account_suggestion",A.JOIN_CREATE_NEW_PERSONAL="create_new_personal",A.JOIN_PERSONAL_VERIFICATION="personal_verification",A.HELP_US_HELP_YOU="help_us_help_you",A.ICEBREAKER="icebreaker",e.StepStatus=void 0,(S=e.StepStatus||(e.StepStatus={})).Inactive="inactive",S.Active="active",S.Completed="completed",e.BackgroundColors=void 0,(N=e.BackgroundColors||(e.BackgroundColors={})).CELADON="celadon",N.CLOUD="cloud",N.NAVY="navy",N.ORCHID="orchid",N.SAPPHIRE="sapphire",N.SAND="sand",N.VANILLA="vanilla",N.WHITE="white",N.STANDARD="standard",function(e){e.DESKTOP_WEB="desktop_web",e.DESKTOP_SSCV="desktop_sscv",e.MOBILE_WEB="mobile_web"}(C||(C={})),e.AMPMetrics=void 0,(l=e.AMPMetrics||(e.AMPMetrics={})).SETUP_START="setup/start",l.SETUP_FINISH="setup/finish",l.SETUP_STEP_START="setup/step/start",l.SETUP_STEP_FINISH="setup/step/finish",l.SETUP_STEP_ERROR="setup/step/error",l.SETUP_STEP_INTERRUPT="setup/step/interrupt",l.SETUP_STEP_CTA="setup/step/cta",l.SETUP_STEP_FETCH="setup/step/fetch",l.ACTIVATION_IMM_VIEW="activation/imm/view",l.ACTIVATION_IMM_ADD_MEMBERS="activation/imm/add_members",l.ACTIVATION_DESKTOP_ICON_OPEN="activation/desktop_icon/open",l.ACTIVATION_EMPTY_STATE_VIEW="activation/empty_state/view",l.ACTIVATION_EMPTY_STATE_CLICK_UPLOAD_CTA="activation/empty_state/click_browse_upload_cta",l.ACTIVATION_SUGGESTED_FOLDER_CREATE="activation/suggested_folder/create",l.ACTIVATION_SUGGESTED_FOLDER_DISMISS="activation/suggested_folder/dismiss",l.ACTIVATION_SUGGESTED_FOLDER_TOGGLE="activation/suggested_folder/toggle",l.ACTIVATION_QUICK_ACTIONS_PANEL_VIEW="activation/quick_actions_panel/view",l.ACTIVATION_QUICK_ACTION_CREATE_CF="activation/quick_action/create_cf",l.ACTIVATION_QUICK_ACTION_REDIRECT="activation/quick_action/redirect",l.ACTIVATION_QUICK_ACTION_SEE_SF="activation/quick_action/see_sf",l.ACTIVATION_QUICK_ACTION_DISMISS="activation/quick_action/dismiss",l.ACTIVATION_COLLECTION_FOLDER_VIEW="activation/collection_folder/view",l.ACTIVATION_COLLECTIONS_ACTION_REDIRECT="activation/collections_action/redirect",l.ACTIVATION_COLLECTIONS_ACTION_UPLOAD="activation/collections_action/upload",l.ACTIVATION_COLLECTIONS_ACTION_CREATE="activation/collections_action/create",l.ACTIVATION_COLLECTIONS_ACTION_PAPER="activation/collections_action/paper",l.ACTIVATION_COLLECTIONS_ACTION_OPEN_DESKTOP="activation/collections_action/open_desktop",l.ACTIVATION_COLLECTIONS_ACTION_OPEN_SETTINGS="activation/collections_action/open_settings",l.ACTIVATION_INVITE_LINK_CREATE="activation/invite_link/create",l.ACTIVATION_MOBILE_LINK_SEND="activation/mobile_link/send",l.ACTIVATION_DESKTOP_LINK_DISMISS="activation/desktop_link/dismiss",l.ACTIVATION_DESKTOP_LINK_INIT="activation/desktop_link/init",l.ACTIVATION_DESKTOP_LINK_SEND="activation/desktop_link/send",l.ACTIVATION_SUGGESTED_ITEMS_TO_MOVE_START_MOVE="activation/suggested_items_to_move/start_move",l.ACTIVATION_SUGGESTED_ITEMS_TO_MOVE_END_MOVE="activation/suggested_items_to_move/end_move",l.ACTIVATION_IN_FOLDER_OPEN_DESKTOP="activation/in_folder/open_desktop",e.FlowId=void 0,(p=e.FlowId||(e.FlowId={}))[p.ESSENTIAL_SETUP=1]="ESSENTIAL_SETUP",p[p.ICEBREAKER=2]="ICEBREAKER",p[p.ICEBREAKER_M2=3]="ICEBREAKER_M2",p[p.TEAM_JOINER_FLOW=9]="TEAM_JOINER_FLOW",function(e){e.DEFAULT="",e.WORK="/work",e.ESSENTIAL_SETUP="/team/setup/essential",e.ESSENTIAL_JOIN="/team/join/essential",e.FOR_YOU="/for_you"}(d||(d={}));const m=e=>{var{children:t}=e,o=n.__rest(e,["children"]);return r.React$1.createElement(a.ExperimentContext.Provider,{value:o},t)};m.displayName="ExperimentProvider";const R="error_boundary";const u=e=>{var{componentTag:_,exceptionTags:a=[],exceptionSeverity:c=i.SEVERITY.CRITICAL,reportMetrics:E=!1,reportMultiple:I=!1,onError:T}=e,O=n.__rest(e,["componentTag","exceptionTags","exceptionSeverity","reportMetrics","reportMultiple","onError"]);const{recordRenderMetric:A,recordRenderErrorMetric:S}=r.React$1.useMemo((()=>{let e=()=>{},o=()=>{};if(E){const i=t.getMetricsReporter$1().child({component:_}),n=i.createSet({ns:R,name:"render"}),r=i.createSet({ns:R,name:"render_error"});e=()=>n.observeOriginId(),o=()=>r.observeOriginId()}return{recordRenderMetric:e,recordRenderErrorMetric:o}}),[E,_]),N=r.React$1.useRef(!1),C=r.React$1.useMemo((()=>function(e=i.SEVERITY.CRITICAL,t=[],_,n,r,a){return(i,s)=>{_(),!r&&n.current||o.reportException({err:i,exc_extra:{component_stacktrace:s},severity:e,tags:[...t,"error-boundary:exception"],force:!0}),n.current=!0,"function"==typeof a&&a(i,s)}}(c,[`error-boundary-component:${_}`,...a],S,N,I,T)),[_,c,a,S,I,T]);return r.React$1.useEffect(A,[A]),r.React$1.createElement(s.ErrorBoundary,Object.assign({FallbackComponent:L},O,{onError:C,onResetKeysChange:A}))};u.displayName="ErrorBoundary";const L=()=>null;L.displayName="NullRenderFallbackComponent",e.ErrorBoundary=u,e.ExperimentProvider=m,e.FRAMEWORK="team_setup_essential",e.MODULE_NAME="smooth_transitions",e.SMBFunnelLogger=O}));
//# sourceMappingURL=c_error_boundary.js-vfl9y2DOC.map
