define(["exports","./e_ui_page_files_router","./c_starred_constants"],(function(t,e,a){"use strict";function r(t){return t.map((t=>{const{id:e,type:a,is_starred:r,canonical_id:s,canonical_id_type:i}=t,c={idTypePair:{id:e,type:a},starred:r};return s&&i&&(c.canonicalIdTypePair={id:s,type:i}),c}))}class s{static setStarredStatus(t,r){e.dispatcherSingleton.dispatch({type:a.StarredActionTypes.SET_STATUS,starredStatuses:[{idTypePair:t,starred:r}]})}static fetchStatuses(t,i,c=!1){return c||s.markAsLoading(i),e.fetchStatuses(t,i).then((t=>{e.dispatcherSingleton.dispatch({type:a.StarredActionTypes.SET_STATUS,starredStatuses:r(t)})})).catch((t=>(e.dispatcherSingleton.dispatch({type:a.StarredActionTypes.LOAD_FAILURE,idTypePairs:i}),Promise.reject(t))))}static markAsLoading(t){e.dispatcherSingleton.dispatch({type:a.StarredActionTypes.LOADING,idTypePairs:t})}static update(t,r,s,i){const c={id:r,type:s};let d;e.dispatcherSingleton.dispatch({type:a.StarredActionTypes.LOADING,idTypePairs:[c]});const n=e.update(t,r,s,i);return n.then((()=>d=i)).catch((t=>{throw d=!i,t})).finally((()=>{e.dispatcherSingleton.dispatch({type:a.StarredActionTypes.SET_STATUS,starredStatuses:[{idTypePair:{id:r,type:s},starred:d}]})})),n}static updateWithSnackbar(t,a,r,i,c){return s.update(t,a,r,i).then((()=>{e.displayStarSnackbar({itemName:c,isStarred:i,success:!0})})).catch((t=>{e.displayStarSnackbar({itemName:c,isStarred:i,success:!1})}))}}t.StarredActions=s}));
//# sourceMappingURL=c_starred_actions.js-vfl_GAHKL.map
