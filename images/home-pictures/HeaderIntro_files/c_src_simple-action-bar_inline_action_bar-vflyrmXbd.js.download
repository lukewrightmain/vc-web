define(["exports","./e_edison","./e_ui_page_files_router","./c_src_simple-action-bar_action_bar_types","./c_assets_pictogram_lightbulb","./c_ui-icon_line_more-horizontal","./c_truncate_index","./c_resize-observer-polyfill_dist_ResizeObserver"],(function(e,t,o,n,r,a,i,s){"use strict";const l=({icon:e})=>t.react.exports.isValidElement(e)?e:t.react.exports.createElement(o.UIIcon,{src:e});l.displayName="ActionBarIcon";const c=({variant:e,disabled:n,value:r,onClick:a,icon:i,ariaLabel:s,tooltip:c,disabledTooltip:u,className:p,useIconButton:d,anchorRef:g})=>{const m=d?t.react.exports.createElement(o.IconButton,{variant:"opacity",onClick:a,"aria-label":s,disabled:n,className:p},i?t.react.exports.createElement(l,{icon:i}):void 0):t.react.exports.createElement(o.Button,{variant:e,disabled:n,onClick:a,withIconLeft:i?t.react.exports.createElement(l,{icon:i}):void 0,"aria-label":s,className:p,"data-testid":`action-bar-${r.toLowerCase()}-button`},r),[f,_]=t.react.exports.useState(!1),[v,b]=t.react.exports.useState("bottom"),x=t.react.exports.createRef(),w=()=>{_(!0)},h=()=>{_(!1)},E=e=>b(e);return n&&u?t.react.exports.createElement(t.react.exports.Fragment,null,t.react.exports.createElement("span",{tabIndex:0,onMouseEnter:w,onMouseLeave:h,onFocus:w,onBlur:h,"aria-describedby":f&&f?"tooltip-button":void 0},t.react.exports.createElement(o.Button,{variant:e,disabled:!0,onClick:a,withIconLeft:i?t.react.exports.createElement(l,{icon:i}):void 0,"aria-label":s,ref:x,className:p},r)),t.react.exports.createElement(o.Tooltip.Control,{id:"tooltip-button",triggerRef:x,open:f,auto:!0,placement:v,onChangePlacement:E},u)):c?t.react.exports.createElement(o.Tooltip,{title:c,id:"tooltip-button",triggerRef:g},m):m};c.displayName="ActionBarActionButton";o.injectInternalStyle("typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_overflow_menu.module.out.css",(e=>":root{--action-bar-menu-width:236px}._overflow-menu-content_11g06_9,._submenu-content_11g06_5{width:var(--action-bar-menu-width)}._overflow-menu-container_11g06_13{align-items:flex-start;display:flex;flex-direction:column;max-height:inherit}._overflow-menu-header_11g06_20{flex-grow:0;width:var(--action-bar-menu-width)}._overflow-menu-bottom-container_11g06_25{padding:0!important}._overflow-menu-bottom-container_11g06_25._redesign_11g06_29{-webkit-overflow-scrolling:touch;flex-grow:1;overflow:auto;overflow-x:hidden;position:relative;width:var(--action-bar-menu-width)}._visuallyDisabled-see-DSYS-1278_11g06_38{color:var(--color__disabled__text)}._suggested-workflows-lightbulb-icon_11g06_42{color:var(--color__attention__text);height:14px;width:16px}._suggested-workflows-badge_11g06_48{background:var(--color__attention__background);height:18px;width:26px}._suggested-workflows-tooltip-image_11g06_54{max-width:100%;min-height:81px;min-width:144px}._suggested-workflows-more-actions-menu-row_11g06_60{margin:0 var(--spacing__unit--2) var(--spacing__base_unit)}._suggested-workflows-more-actions-menu-row_11g06_60:hover{background-color:transparent}._suggested-workflows-more-actions-cta_11g06_72{width:100%}"));const u="_overflow-menu-content_11g06_9",p="_submenu-content_11g06_5",d="_overflow-menu-container_11g06_13",g="_overflow-menu-header_11g06_20",m="_overflow-menu-bottom-container_11g06_25",f="_redesign_11g06_29",_="_visuallyDisabled-see-DSYS-1278_11g06_38",v="_suggested-workflows-lightbulb-icon_11g06_42",b="_suggested-workflows-badge_11g06_48",x="_suggested-workflows-tooltip-image_11g06_54",w="_suggested-workflows-more-actions-menu-row_11g06_60",h="_suggested-workflows-more-actions-cta_11g06_72",E=({variant:e,disabled:n,value:r,onSelection:a,onToggle:i,icon:s,children:c,ariaLabel:u,tooltip:d,minWidth:g,className:m,dropdownButtonClassName:f,expActionBarRedesignEnabled:_,menuOpenRequest:v,resolveOpenRequest:b})=>{const x=void 0!==g?{minWidth:g}:{};return t.react.exports.createElement(o.Menu.Wrapper,{onSelection:a,onToggle:i,className:m},(({getTriggerProps:a,getContentProps:i,triggerRef:g,openMenu:m})=>{const w=t.react.exports.createElement(o.Button,Object.assign({className:f,variant:e,withDropdownIcon:!0,disabled:n,withIconLeft:s?t.react.exports.createElement(l,{icon:s}):void 0,"aria-label":u,"data-testid":`action-bar-${r.toLowerCase()}-button`},a()),r);return t.react.exports.createElement(M,{openMenu:m,menuOpenRequest:v,resolveOpenRequest:b},t.react.exports.createElement(t.react.exports.Fragment,null,d?t.react.exports.createElement(o.Tooltip,{title:d,triggerRef:g,id:"tooltip-button"},w):w,t.react.exports.createElement(o.Menu.Content,Object.assign({},i(),{style:x,className:_?p:""}),c)))}))};E.displayName="ActionBarActionMenu";const M=({openMenu:e,menuOpenRequest:o,resolveOpenRequest:n,children:r})=>(t.react.exports.useEffect((()=>{o&&(e(o),n&&n())}),[o,n]),r),A=({menuSections:e,expActionBarRedesignEnabled:r})=>t.react.exports.createElement(t.react.exports.Fragment,null,e.map(((e,a)=>t.react.exports.createElement(o.Menu.Segment,{key:`${a}-section`,withLabel:e.label},e.menuItems.map(((e,o)=>t.react.exports.createElement(y,{menuItem:e,key:n.isActionBarActionMenuSubmenu(e)?`${a}-${o}-submenu`:`${a}-${o}-action-item`,expActionBarRedesignEnabled:r})))))));A.displayName="ActionBarActionMenuContent";const y=({menuItem:e,expActionBarRedesignEnabled:r,highlightedTextElement:a})=>{const i=!1===e.isEnabled,s=t.react.exports.createElement(t.react.exports.Fragment,null,a||e.description," ",e.badge);if(n.isActionBarActionMenuSubmenu(e))return t.react.exports.createElement(o.Menu.Submenu,{id:e.id,withTriggerContent:s,withLeftAccessory:e.icon&&t.react.exports.createElement(l,{icon:e.icon}),contentClassName:r?p:"",disabled:i,onSubmenuOpened:e.onSubmenuOpened},t.react.exports.createElement(A,{menuSections:e.submenuSections,expActionBarRedesignEnabled:r}));if(n.isActionBarCustomMenuAction(e))return e.menuItem;const c={nodeType:"dropdown",actionType:e.value.type,menuItem:e.value};return i&&e.disabledTooltip?t.react.exports.createElement(o.Tooltip,{title:e.disabledTooltip,placement:"left",id:"tooltip-item"},t.react.exports.createElement(o.Menu.ActionItem,{id:e.id,className:o.classnames(e.className,{[_]:i}),value:"NOOP_SEE_DSYS-1278",disabled:!1,withLeftAccessory:e.icon&&t.react.exports.createElement(l,{icon:e.icon})},s)):t.react.exports.createElement(o.Menu.ActionItem,{id:e.id,className:e.className,value:c,disabled:i,withLeftAccessory:e.icon&&t.react.exports.createElement(l,{icon:e.icon}),"data-testid":`menu-item-${e.description.toLowerCase().split(" ").join("_")}`},s)};y.displayName="ActionBarActionMenuContentItem";o.injectInternalStyle("typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_split_button.module.out.css",(e=>"._split-button_qljm6_1{display:flex}"));const T="_split-button_qljm6_1",S=({disabled:e,value:n,intl:r,onClick:a,onSelection:i,onToggle:s,icon:c,ariaLabel:u,menuSections:p,className:d,expActionBarRedesignEnabled:g})=>{const m=t.react.exports.useMemo((()=>({withIconLeft:c?t.react.exports.createElement(l,{icon:c}):void 0})),[c]);return t.react.exports.createElement(o.SplitButton,Object.assign({variant:"opacity",disabled:e,renderMenu:({buttonProps:e})=>t.react.exports.createElement(o.Menu.Wrapper,{onSelection:i,onToggle:s,className:d},(({getTriggerProps:a,getContentProps:i})=>t.react.exports.createElement(t.react.exports.Fragment,null,t.react.exports.createElement(o.Button,Object.assign({"aria-label":r.formatMessage({id:"y4xCgb",defaultMessage:"Expand menu for {action}"},{action:n})},e,a())),t.react.exports.createElement(o.Menu.Content,Object.assign({},i(),{placement:"bottom-end"}),t.react.exports.createElement(A,{menuSections:p,expActionBarRedesignEnabled:g}))))),onClick:a,className:T,"aria-label":u},m),n)};S.displayName="ActionBarSplitButton";const O=o.defineMessage({id:"jdgBdE",defaultMessage:"Suggested actions"}),R=o.defineMessage({id:"CEb0zm",defaultMessage:"More Actions"}),C=o.defineMessage({id:"3kB3s4",defaultMessage:"More menu"}),k=o.defineMessage({id:"06UTVR",defaultMessage:"More"}),B=o.defineMessage({id:"XyseuH",defaultMessage:"{action}, applies to {noOfFiles, plural, one{{fileName}} other{{noOfFiles} selected files}}"});function I(e,t,o){return o?e.formatMessage(B,{action:t,noOfFiles:o.noOfEntries,fileName:o.firstEntryAccessibilityHint}):t}const N=(e,t,o)=>{try{switch((e=e).nodeType){case"action":return{type:e.actionType,event:o,source:t};case"dropdown":return{type:e.actionType,menuItem:e.menuItem,event:o,source:t};default:return}}catch(e){return}};class W extends t.react.exports.Component{constructor(){super(...arguments),this.handleMenuSelection=(e,t)=>{const o=N(e,n.ActionBarActionEventSource.BUTTON_MENU,t);void 0!==o&&this.props.actionHandler.handleAction(o)},this.handleMenuToggle=({isOpen:e})=>{this.props.actionHandler.handleMenuToggle&&this.props.actionHandler.handleMenuToggle({type:this.props.actionType,isOpen:e})},this.handleActionClick=e=>{this.props.actionHandler.handleAction({type:this.props.actionType,event:e,source:n.ActionBarActionEventSource.BUTTON,anchorRef:this.props.anchorRef?this.props.anchorRef:void 0},!1)}}render(){const{menu:e,isEnabled:o,intl:r,variant:a,accessibilityConfig:i,icon:s,hideIcons:l,tooltip:u,disabledTooltip:p,menuMinWidth:d,actionType:g,className:m,dropdownButtonClassName:f,buttonVariant:_,expActionBarRedesignEnabled:v,createMenuOpenRequest:b,resolveCreateMenuOpenRequest:x,useIconButton:w,anchorRef:h}=this.props,M=this.props.labelOverride||r.formatMessage(this.props.text),y=I(r,M,"primary"===a?null==i?void 0:i.primaryActionContext:null==i?void 0:i.secondaryActionsContext);if(this.props.renderButton)return this.props.renderButton(l||!1);if(this.props.button)return this.props.button;if((null==e?void 0:e.type)===n.ActionBarMenuType.DROPDOWN){const r=g===n.ActionBarActionTypes.CREATE;return t.react.exports.createElement(E,{disabled:!o,value:M,onSelection:this.handleMenuSelection,onToggle:this.handleMenuToggle,icon:l?void 0:s,variant:_,ariaLabel:y,tooltip:u,minWidth:d,actionType:g,className:m,dropdownButtonClassName:f,menuOpenRequest:r?b:void 0,resolveOpenRequest:r?x:void 0},t.react.exports.createElement(A,{menuSections:e.menuSections,expActionBarRedesignEnabled:v}))}return(null==e?void 0:e.type)===n.ActionBarMenuType.CUSTOM_DROPDOWN?t.react.exports.createElement(E,{disabled:!o,value:M,onSelection:this.handleMenuSelection,onToggle:this.handleMenuToggle,icon:l?void 0:s,variant:_,ariaLabel:y,tooltip:u,actionType:g,className:m,dropdownButtonClassName:f,expActionBarRedesignEnabled:v},e.menuContent):(null==e?void 0:e.type)===n.ActionBarMenuType.SPLIT_BUTTON?t.react.exports.createElement(S,{disabled:!o,onClick:this.handleActionClick,onSelection:this.handleMenuSelection,onToggle:this.handleMenuToggle,value:M,intl:r,icon:l?void 0:s,ariaLabel:y,menuSections:e.menuSections,className:m,expActionBarRedesignEnabled:v}):t.react.exports.createElement(c,{disabled:!o,value:M,onClick:this.handleActionClick,icon:l?void 0:s,variant:_,ariaLabel:y,tooltip:u,disabledTooltip:p,className:m,useIconButton:!!w,anchorRef:h||void 0})}}W.displayName="ActionBarAction";const L=e=>{const n=()=>{var t,n,r;e.onMoreActionsCtaClick(),null===(t=e.overflowMenuRef.current)||void 0===t||t.updateContent(),e.menuRows.setSelectedIndex(o.NONE_SELECTED_INDEX),null===(r=null===(n=e.menuContentRef)||void 0===n?void 0:n.current)||void 0===r||r.focus()};return t.react.exports.createElement(o.Menu.Segment,{key:"suggested-workflows-more-actions-menu-segment"},t.react.exports.createElement(o.Menu.Row,{preferComposition:!0,interactive:!0,className:w,onKeyDown:e=>{e.key!==o.ENTER_KEY&&e.key!==o.SPACEBAR_KEY||(e.stopPropagation(),e.preventDefault(),n())},onKeyUp:e=>{e.key===o.SPACEBAR_KEY&&(e.stopPropagation(),e.preventDefault())}},t.react.exports.createElement(o.Button,{variant:"opacity",className:h,onClick:e=>{e.preventDefault(),e.stopPropagation(),n()},tabIndex:-1},e.label)))},D=e=>{const{actions:r,buttonVariant:s,intl:c,onToggle:p,showTooltip:_,accessibilityConfig:v,size:b,overflowMenuOpenRequest:x,overflowMenuCloseRequest:w,resolveOverflowMenuOpenRequest:h,resolveOverflowMenuCloseRequest:E,inverse:M,overflowMenuTitle:A,expActionBarRedesignEnabled:y,isMobile:T,overflowMenuCoordinates:S,hideOverflowMenuHeader:B,handleOverflowMenuToggleWithoutAction:W,expSuggestedWorkflowsLoggingCallbacks:D,fileExtension:V}=e,[F,H]=t.react.exports.useState(!1),[j,U]=t.react.exports.useState(!1),z=t.react.exports.useRef(null),$=void 0!==S,Y="V2"===e.expSuggestedWorkflowsVariant&&!!r.expSuggestedWorkflowsActions&&r.expSuggestedWorkflowsActions.suggestedWorkflowActions.length>0&&!j,K=t.react.exports.useRef(new class{constructor(){this.position=[0,0]}getBoundingClientRect(){return{height:0,width:0,top:this.position[1],right:this.position[0],bottom:this.position[1],left:this.position[0]}}}),G=e=>{e.stopPropagation(),W&&H(!0)},X=()=>{var t,o;U(!0),null===(t=e.expSuggestedWorkflowsLoggingCallbacks)||void 0===t||t.logMoreActionsCtaClicked(null!==(o=e.expSuggestedWorkflowsVariant)&&void 0!==o?o:"OFF","pdf")},J=e.intl.formatMessage(C),Q=I(c,J,null==v?void 0:v.secondaryActionsContext);return t.react.exports.createElement(o.Menu.Wrapper,{onSelection:(t,o)=>{var a;const i=N(t,n.ActionBarActionEventSource.OVERFLOW_MENU,o);e.expSuggestedWorkflowsVariant&&["V1","V2"].includes(e.expSuggestedWorkflowsVariant)&&(e=>{var t;return!!(null===(t=r.expSuggestedWorkflowsActions)||void 0===t?void 0:t.suggestedWorkflowActions)&&r.expSuggestedWorkflowsActions.suggestedWorkflowActions.some((t=>t.actionType===e))})(t.actionType)&&(null==D||D.logSuggestedWorkflowItemClicked(null!==(a=e.expSuggestedWorkflowsVariant)&&void 0!==a?a:"OFF","pdf",Y?"compact":"regular",t.actionType)),void 0!==i?e.actionHandler.handleAction(i,$):(null==t?void 0:t.handler)&&t.handler()},onToggle:t=>{null==p||p(t),t.isOpen&&e.expSuggestedWorkflowsVariant&&["V1","V2","CONTROL"].includes(e.expSuggestedWorkflowsVariant)&&".pdf"===V&&(null==D||D.logOverflowMenuImpression(e.expSuggestedWorkflowsVariant,"pdf")),W&&!t.isOpen&&(F?H(!1):W()),t.isOpen||setTimeout((()=>U(!1)),125)},closeOnBlurWhenDefaultPrevented:!1,slideSubmenu:!!T,shouldPropagateClickOutsideMouseEvents:!!S,onContextMenu:e=>{e.preventDefault(),e.stopPropagation()},ref:z},(({getTriggerProps:n,getContentProps:p,triggerRef:v,openMenu:T,closeMenu:C,menuRows:I,contentRef:N})=>{var W,V,F,H;const j=n(),U=t.react.exports.createElement(o.IconButton,Object.assign({},j,{variant:s,onClick:e=>{var t;e.preventDefault(),null===(t=null==j?void 0:j.onClick)||void 0===t||t.call(j,e)},"aria-label":Q,"data-testid":"action-bar-overflow","data-tooltip":"action-bar-overflow-menu",size:b,inverse:M}),t.react.exports.createElement(l,{icon:a.MoreHorizontalLine,"aria-hidden":"true"})),J=["V1","V2"].includes(null!==(W=e.expSuggestedWorkflowsVariant)&&void 0!==W?W:"OFF")&&!Y,Z=Y&&r.expSuggestedWorkflowsActions?[null===(V=r.expSuggestedWorkflowsActions)||void 0===V?void 0:V.suggestedWorkflowActions,...null===(F=r.expSuggestedWorkflowsActions)||void 0===F?void 0:F.compactOverflowMenuActions]:null!==(H=r.alwaysInOverflow)&&void 0!==H?H:[];return t.react.exports.createElement(P,{openMenu:T,overflowMenuOpenRequest:x,resolveOverflowMenuOpenRequest:h,resolveOverflowMenuCloseRequest:E,overflowMenuCloseRequest:w,closeMenu:C,overflowMenuCoordinates:S,virtualTriggerRef:K},t.react.exports.createElement(t.react.exports.Fragment,null,_?t.react.exports.createElement(o.Tooltip,{title:c.formatMessage(k),triggerRef:v},U):U,t.react.exports.createElement(o.Menu.Content,Object.assign({},p(),{triggerRef:S?K:v,className:y?u:"",onClick:G}),t.react.exports.createElement("div",{className:y?d:"",onMouseDown:e=>{e.preventDefault()},"data-testid":"rc-action-bar-overflow-menu-container"},y&&!B&&t.react.exports.createElement(o.Menu.Segment,{className:g},t.react.exports.createElement(o.Menu.Row,{interactive:!1},t.react.exports.createElement(o.Menu.RowTitle,{"data-testid":"rc-action-bar-overflow-menu-title"},t.react.exports.createElement(o.Text,{isBold:!0},t.react.exports.createElement(i.Truncate,{location:.5,tooltipControlProps:{placement:"top",openDelay:500}},A))))),t.react.exports.createElement(o.Menu.Segment,{className:o.classnames(m,{[f]:y})},Z.map(((n,r)=>!!n.length&&t.react.exports.createElement(o.Menu.Segment,{key:r,withLabel:Y&&0===r?c.formatMessage(O):void 0},n.map(((o,n)=>t.react.exports.createElement(q,{key:`action-bar-overflow-menu-item-${n}`,action:o,intl:c,actionHandler:e.actionHandler,closeMenu:C,expActionBarRedesignEnabled:y,isRightClickMenu:$,logPDFEditImpression:e.logPDFEditImpression,canShowSuggestedWorkflowsBadge:J,expSuggestedWorkflowsLoggingCallbacks:D,overflowMenuStyle:Y?"compact":"regular",logOverflowMenuItemImpression:e.logOverflowMenuItemImpression})))))),Y&&t.react.exports.createElement(L,{label:c.formatMessage(R),onMoreActionsCtaClick:X,overflowMenuRef:z,menuRows:I,menuContentRef:N}))))))}))};D.displayName="ActionBarOverflowMenu";const P=({openMenu:e,closeMenu:o,overflowMenuOpenRequest:n,resolveOverflowMenuOpenRequest:r,children:a,overflowMenuCloseRequest:i,resolveOverflowMenuCloseRequest:s,overflowMenuCoordinates:l,virtualTriggerRef:c})=>(t.react.exports.useEffect((()=>{n&&(e(n),r&&r())}),[n,r]),t.react.exports.useEffect((()=>{i&&(o(i),s&&s())}),[i,s]),t.react.exports.useLayoutEffect((()=>{if(l&&c){const[e,t]=l;c.current.position=[e,t]}}),[l]),a),q=({action:e,intl:a,actionHandler:i,closeMenu:s,expActionBarRedesignEnabled:c,highlightedTextElement:u,isRightClickMenu:d,logPDFEditImpression:g,canShowSuggestedWorkflowsBadge:m,logOverflowMenuItemImpression:f})=>{var w;const h=!e.isEnabled,E=u||e.labelOverride||a.formatMessage(e.text),M=t.react.exports.useRef(null),y=m&&e.isSuggestedWorkflow;var T,S;T=e.actionType===n.ActionBarActionTypes.EDIT_IMAGE,S="SHOWN_EDIT_IMAGE_MODE",t.react.exports.useEffect((()=>{!0===T&&(null==f||f(S))}),[]);const O=e=>{i.handleAction({type:n.ActionBarActionTypes.SHARE_COPY_LINK,event:e,source:n.ActionBarActionEventSource.OVERFLOW_MENU,anchorRef:M,onActionFlowComplete:()=>s({})},d)};if(t.react.exports.useEffect((()=>{e.actionType===n.ActionBarActionTypes.EDIT_PDF&&(null==g||g())}),[]),e.overflowItem)return e.overflowItem;switch(null===(w=e.menu)||void 0===w?void 0:w.type){case n.ActionBarMenuType.DROPDOWN:case n.ActionBarMenuType.SPLIT_BUTTON:return t.react.exports.createElement(o.Menu.Submenu,{disabled:h,withTriggerContent:E,withLeftAccessory:t.react.exports.createElement(l,{icon:e.icon}),contentClassName:c?p:""},t.react.exports.createElement(A,{menuSections:e.menu.menuSections,expActionBarRedesignEnabled:c}));case n.ActionBarMenuType.CUSTOM_DROPDOWN:return t.react.exports.createElement(o.Menu.Submenu,{disabled:h,withTriggerContent:E,withLeftAccessory:t.react.exports.createElement(l,{icon:e.icon}),contentClassName:c?p:""},e.menu.menuContent);default:const i={nodeType:"action",actionType:e.actionType},s={key:e.actionType,value:i,withLeftAccessory:t.react.exports.createElement(l,{icon:e.icon}),disabled:h,withRightAccessory:y?t.react.exports.createElement(o.AccessoryBadge,{className:b},t.react.exports.createElement(o.UIIcon,{src:r.LightbulbPictogram,className:v})):e.showNewBadge?t.react.exports.createElement(o.AccessoryBadge,null,a.formatMessage({id:"VgsgAq",defaultMessage:"New"})):null},u={interactive:!0,disabled:h,ref:M,withLeftAccessory:t.react.exports.createElement(l,{icon:e.icon}),withRightAccessory:y?t.react.exports.createElement(o.AccessoryBadge,{className:b},t.react.exports.createElement(o.UIIcon,{src:r.LightbulbPictogram,className:v})):null,onClick:O},d=t.react.exports.createElement(o.Menu.ActionItem,Object.assign({},s,{"data-testid":`action-bar-overflow-menu-item_${E.toString().toLowerCase().split(" ").join("-")}`}),E),g=t.react.exports.createElement(o.Menu.Row,Object.assign({},u),E),m=e.isSuggestedWorkflow&&e.suggestedWorkflowsTooltipContents?t.react.exports.createElement(t.react.exports.Fragment,null,t.react.exports.createElement("div",null,t.react.exports.createElement("img",{alt:"",className:x,src:e.suggestedWorkflowsTooltipContents.imageUrl})),t.react.exports.createElement(o.Text,{variant:"label",inverse:!0,isBold:!0,size:"small"},a.formatMessage(e.suggestedWorkflowsTooltipContents.label))):void 0;return e.disabledTooltip&&h?t.react.exports.createElement(o.Tooltip,{title:e.disabledTooltip,placement:"left",id:"tooltip-item"},t.react.exports.createElement(o.Menu.ActionItem,Object.assign({},s,{value:"NOOP_SEE_DSYS-1278",disabled:!1,className:h?_:""}),E)):e.actionType===n.ActionBarActionTypes.SHARE_COPY_LINK?g:e.suggestedWorkflowsTooltipContents?t.react.exports.createElement(o.Tooltip,{title:m,placement:"right",id:"suggested-workflows-tooltip-item",maxWidth:168,openDelay:125},d):e.tooltip?t.react.exports.createElement(o.Tooltip,{title:e.tooltip,placement:"left",id:"tooltip-item"},d):d}};q.displayName="ActionBarOverflowMenuItem";o.injectInternalStyle("typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar.module.out.css",(e=>":root{--action-bar-menu-width:236px}._action-bar-container_1gsgi_5{display:flex}._action-bar-container_1gsgi_5._responsive_1gsgi_9{margin:-3px;overflow:hidden;padding:3px}._action-bar-container_1gsgi_5>button,._action-bar-container_1gsgi_5>div:not(:empty){flex:0 0 auto;margin-right:var(--spacing__base_unit)}._action-bar-container_1gsgi_5 ._action-bar-top-level_1gsgi_34:not(:empty),._action-bar-container_1gsgi_5 ._separator_1gsgi_35{margin-right:var(--spacing__unit--2)}._action-bar-container_1gsgi_5 ._separator_1gsgi_35{border-left:1px solid var(--color__standard__border)}._action-bar-container_1gsgi_5 ._separator_1gsgi_35._small_1gsgi_44{margin-left:0;margin-right:var(--spacing__base_unit)}._action-bar-container_1gsgi_5>div:last-child{margin-right:0}"));const V="_action-bar-container_1gsgi_5",F="_responsive_1gsgi_9",H="_action-bar-top-level_1gsgi_34",j="_separator_1gsgi_35",U="_small_1gsgi_44",z={previousActions:{},offsetRight:[]};function $(e){return null!=e}o.injectInternalStyle("typescript/component_libraries/retrieval-components/src/simple-action-bar/inline_action_bar.module.out.css",(e=>"._container_enfab_1{align-items:center;background:transparent linear-gradient(to right,transparent,var(--color__faint__background) var(--spacing__unit--2),var(--color__faint__background) 100%);display:flex;height:100%;position:-webkit-sticky;position:sticky;right:0}._container_enfab_1._highlighted_enfab_16{background:linear-gradient(to right,transparent,var(--color__attention__background) var(--spacing__unit--2),var(--color__attention__background) 100%),linear-gradient(to right,transparent,var(--color__standard__background) var(--spacing__unit--2),var(--color__standard__background) 100%)}._container_enfab_1>:first-child{margin-left:var(--spacing__unit--3)}._container_enfab_1>*{margin-right:var(--spacing__base_unit)}"));e.ActionBar=function(e){const{actionHandler:r,actions:a,className:i,intl:l,handleOverflowMenuToggle:c,hideOverflowMenu:u,responsive:p,responsiveSize:d,accessibilityConfig:g,hideIcons:m,overflowMenuOpenRequest:f,overflowMenuCloseRequest:_,overflowMenuCoordinates:v,resolveOverflowMenuOpenRequest:b,overflowMenuTitle:x,expActionBarRedesignEnabled:w,hideOverflowMenuHeader:h,canShowSelectionIndicatorInToolbar:E,createMenuOpenRequest:M,resolveCreateMenuOpenRequest:A,logPDFEditImpression:y,expSuggestedWorkflowsVariant:T,handleOverflowMenuToggleWithoutAction:S,expSuggestedWorkflowsLoggingCallbacks:O,fileExtension:R,logOverflowMenuItemImpression:C}=e,k=p&&(d===n.ResponsiveSize.MOBILE||d===n.ResponsiveSize.TABLET),B=p&&d===n.ResponsiveSize.MOBILE,[I]=function(){const e=t.react.exports.useRef(null),o=t.react.exports.useRef(),[n,r]=t.react.exports.useState(),a=t.react.exports.useCallback((()=>{o.current=new s.index((e=>r(e[0]))),(null==e?void 0:e.current)&&o.current.observe(e.current)}),[e.current]);return t.react.exports.useLayoutEffect((()=>(a(),()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.disconnect()})),[a]),[e,n]}();let N;I.current&&(N=E?I.current.offsetLeft+I.current.offsetWidth-48:I.current.offsetLeft+I.current.offsetWidth);const L=t.react.exports.useRef(null),P=t.react.exports.useRef(null),q=t.react.exports.useRef(null),Y=t.react.exports.useRef(null),K=t.react.exports.useRef(null),G=t.react.exports.useRef(null),[X,J]=t.react.exports.useState(z);t.react.exports.useLayoutEffect((()=>{J({previousActions:a,offsetRight:[L,P,q,Y,K].map((e=>e.current&&e.current.offsetLeft+e.current.offsetWidth)).filter($)})}),[a]);const{alwaysAtTopLevel:Q,atTopLevelIfSpace:Z,alwaysInOverflow:ee,hasActions:te,expSuggestedWorkflowsActions:oe}=t.react.exports.useMemo((()=>{var e,t,o;return{alwaysAtTopLevel:a.alwaysAtTopLevel,atTopLevelIfSpace:a.atTopLevelIfSpace,alwaysInOverflow:a.alwaysInOverflow,hasActions:(null===(e=a.alwaysAtTopLevel)||void 0===e?void 0:e.length)||(null===(t=a.atTopLevelIfSpace)||void 0===t?void 0:t.length)||(null===(o=a.alwaysInOverflow)||void 0===o?void 0:o.length),expSuggestedWorkflowsActions:a.expSuggestedWorkflowsActions}}),[a]),{previousActions:ne,offsetRight:re}=X,ae=p&&N&&a===ne?re.filter((e=>e+43<N)).length:5,ie=o.classnames(V,i,{[F]:p}),se=e=>e.actionType===n.ActionBarActionTypes.CUSTOM_ACTION?e.id:e.actionType,le=t.react.exports.useMemo((()=>{const e=(null==Z?void 0:Z.slice(0,ae))||[];(null==Q?void 0:Q.length)&&e.unshift(...Q);const t=new Set(e.map((e=>se(e)))||[]);let o=[];ee&&(o=ee.reduce(((e,t)=>e.concat(t)),[]));const n=new Set((null==o?void 0:o.map((e=>se(e))))||[]);if(t.size!==n.size)return!0;for(const e of Array.from(t))if(!n.has(e))return!0;return!1}),[Q,Z,ee,ae]);if(!te)return t.react.exports.createElement("div",{className:ie});const ce=[L,P,q,Y,K],ue=!u&&le&&(null==ee?void 0:ee.some((e=>e.length>0)));return t.react.exports.createElement("div",{ref:I,className:ie,"data-testid":"action-bar-container",style:{width:e.fixedWidth}},!!(null==Q?void 0:Q.length)&&t.react.exports.createElement(t.react.exports.Fragment,null,Q.map(((e,o)=>t.react.exports.createElement("div",{className:H,ref:ce[o],key:`action-bar-action-${o}`},t.react.exports.createElement(W,Object.assign({},e,{buttonVariant:0===o?"primary":"opacity",actionHandler:r,intl:l,accessibilityConfig:g,hideIcons:k||m,expActionBarRedesignEnabled:w,createMenuOpenRequest:M,resolveCreateMenuOpenRequest:A}))))),(!!(null==Z?void 0:Z.length)||ue)&&t.react.exports.createElement("div",{className:o.classnames(j,{[U]:k})})),!!(null==Z?void 0:Z.length)&&(null==Z?void 0:Z.slice(0,ae).map(((e,o)=>t.react.exports.createElement("div",{ref:ce[o],key:`action-bar-action-${o}`,className:`action-bar-action-${se(e)}`},t.react.exports.createElement(W,Object.assign({},e,{buttonVariant:"opacity",actionHandler:r,intl:l,accessibilityConfig:g,hideIcons:e.actionType!==n.ActionBarActionTypes.SHARE_COPY_LINK&&(k||m),expActionBarRedesignEnabled:w,createMenuOpenRequest:M,resolveCreateMenuOpenRequest:A,useIconButton:e.actionType===n.ActionBarActionTypes.SHARE_COPY_LINK,anchorRef:G})))))),ue&&t.react.exports.createElement(D,{actions:{alwaysAtTopLevel:Q,atTopLevelIfSpace:Z,alwaysInOverflow:ee,expSuggestedWorkflowsActions:oe},actionHandler:r,buttonVariant:w?"opacity":"transparent",overflowMenuTitle:x||"",expActionBarRedesignEnabled:w||!1,intl:l,onToggle:c,accessibilityConfig:g,overflowMenuOpenRequest:f,overflowMenuCloseRequest:_,overflowMenuCoordinates:v,resolveOverflowMenuOpenRequest:b,isMobile:!!B,hideOverflowMenuHeader:h,logPDFEditImpression:y,expSuggestedWorkflowsVariant:T,handleOverflowMenuToggleWithoutAction:S,expSuggestedWorkflowsLoggingCallbacks:O,fileExtension:R,logOverflowMenuItemImpression:C}))},e.ActionBarIcon=l,e.ActionBarOverflowMenu=D,e.classes={container:"_container_enfab_1",highlighted:"_highlighted_enfab_16"}}));
//# sourceMappingURL=c_src_simple-action-bar_inline_action_bar.js-vflx0Qbut.map
