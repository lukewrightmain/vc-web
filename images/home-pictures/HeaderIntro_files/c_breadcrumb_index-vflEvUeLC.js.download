define(["exports","./e_ui_page_files_router","./e_edison","./c_ui-icon_line_more-horizontal"],(function(e,r,t,a){"use strict";var n=t.react.exports.createContext({size:"medium",inverse:!1,updateSegment:()=>{}}),o=t.react.exports.createContext(0),s={small:24,standard:32,medium:32},i={small:18.875,standard:20.016,medium:20.016},c="digBreadcrumbLink--hidden",l=(e,r,t)=>{let a=0;return e.every((e=>!e.linkProps.children||0!==e.width))?(e.forEach((e=>{a+=e.width})),0===a?0:(a+=(e.length-1)*i[t],r.length>0&&(a+=s[t]+i[t]),a)):0},d=({availableWidth:e,breadcrumbSegments:r,size:t,isRootOverflow:a,alwaysShowRoot:n})=>{let o=r,c=[],d=l(o,c,t);if(0===d)return{inline:[],overflow:[]};if(o.length>4){const e=a?0:1,r=[...o.slice(e,o.length-4+e)];o=[...o.slice(0,e),...o.slice(o.length-4+e)],c=c.concat(r),d=l(o,c,t)}for(;;)if(e>d){if(4===o.length||0===c.length)break;let r=c.length-1;1!==o.length||a||(r=0);const n=c[r];if(1===c.length){if(n.width>e-(d-s[t]))break}else if(n.width+i[t]>e-d)break;o=1===o.length||a?[n,...o]:[...o.slice(0,1),n,...o.slice(1)],c=[...c.slice(0,r),...c.slice(r+1)],d=l(o,c,t)}else{const e=!a&&n?2:1;if(o.length<=e)break;let r=1;(2===o.length||a)&&(r=0);const s=o[r];o=[...o.slice(0,r),...o.slice(r+1)],c=0!==r||a?c.concat(s):[s].concat(c),d=l(o,c,t)}return{inline:o,overflow:c}},m=[["medium","standard"]],u=e=>{const r=m.find((([r,t])=>e===t));return void 0!==r?r[0]:e},g=t.react.exports.forwardRef((({id:e,className:a,children:s,withLeftIcon:i,withMenuItemIcon:l,isCurrentPath:d=!1,href:m,onClick:g,onDrop:p,onDragEnter:v,onDragOver:f,onDragLeave:x,_originalId:h="",...b},E)=>{const{size:w,updateSegment:D,inverse:k}=t.react.exports.useContext(n),C=u(w),B=t.react.exports.useContext(o),I=d?"span":"a",N=d?void 0:0,O="medium"===C?r.Title:r.Text,y=t.react.exports.useRef(null),L=b["aria-label"],[R,z]=t.react.exports.useState(!1),S=r.classnames("dig-Breadcrumb-link",{"dig-Breadcrumb-link--current":d},{"dig-Breadcrumb-link--dragged-over":R&&!d},{"dig-Breadcrumb-link--inverse":k},a);t.react.exports.useEffect((()=>{e&&e.startsWith(c)&&D(B,{id:e,children:s,withLeftIcon:i,withMenuItemIcon:l,href:m,onClick:g,onDrop:p,onDragEnter:v,onDragOver:f,onDragLeave:x,"aria-label":L,_originalId:h},(e=>e.current?e.current.getBoundingClientRect().width:0)(y))}),[e,s,i,l,m,g,p,v,f,x,B,D,y,L,h]);const M={onClick:g};if(!d)switch(typeof m){case"string":M.href=m;break;case"function":M.href="#",M.onClick=e=>{e.preventDefault(),m(e),g&&g(e)}}const _=t.react.exports.useCallback((e=>{z(!0),f&&f(e)}),[f]),P=t.react.exports.useCallback((e=>{z(!0),v&&v(e)}),[v]),T=t.react.exports.useCallback((e=>{z(!1),x&&x(e)}),[x]),H=t.react.exports.useCallback((e=>{z(!1),p&&p(e)}),[p]);return t.react.exports.createElement(I,{id:e,className:S,tabIndex:N,ref:E,"aria-current":d?"page":void 0,...M,onDrop:H,onDragEnter:P,onDragOver:_,onDragLeave:T,...b},t.react.exports.createElement(O,{size:"small",className:"dig-Breadcrumb-link-content",color:d?"standard":"faint",inverse:k},t.react.exports.createElement("span",{ref:y,className:"dig-Breadcrumb-link-inner"},i&&t.react.exports.createElement(r.UIIcon,{className:"dig-Breadcrumb-link-icon",src:i,size:C}),t.react.exports.createElement("span",{className:"dig-Breadcrumb-link-text"},s))))}));g.displayName="Link";var p=({className:e})=>{const{size:a,inverse:o}=t.react.exports.useContext(n),s=r.classnames("dig-Breadcrumb-divider",e);return t.react.exports.createElement(r.Text,{className:s,size:a,inverse:o,color:"faint","aria-hidden":"true"},"/")};p.displayName="BreadcrumbDivider";var v=({className:e,onDragOver:a,onDragEnter:n,onDragLeave:o,onDrop:s,...i})=>{const[c,l]=t.react.exports.useState(!1),d=r.classnames({"dig-Breadcrumb-overlfow-item--dragged-over":c},e),m=t.react.exports.useCallback((e=>{l(!0),a&&a(e)}),[a]),u=t.react.exports.useCallback((e=>{l(!0),n&&n(e)}),[n]),g=t.react.exports.useCallback((e=>{l(!1),o&&o(e)}),[o]),p=t.react.exports.useCallback((e=>{l(!1),s&&s(e)}),[s]);return t.react.exports.createElement(r.Menu.ActionItem,{tagName:"a",className:d,"aria-label":i["aria-label"],onDrop:p,onDragOver:m,onDragEnter:u,onDragLeave:g,role:"menuitem",...i})};v.displayName="BreadcrumbOverflowMenuItem";var f=({className:e,overflowItemsProps:o,overflowEventHandlers:s,...i})=>{const{size:c,inverse:l}=t.react.exports.useContext(n),d=r.classnames("dig-Breadcrumb-overflow",{"dig-Breadcrumb-overflow--inverse":l},e),m=t.react.exports.useCallback(((e,r)=>s?{onDragOver:s.onDragOverTrigger?s.onDragOverTrigger(e):void 0,onDragEnter:s.onDragEnterTrigger?s.onDragEnterTrigger(e):void 0,onDragLeave:s.onDragLeaveTrigger?s.onDragLeaveTrigger(r):void 0}:{}),[s]),u=t.react.exports.useCallback(((e,r)=>s?{onDragOver:s.onDragOverContent?s.onDragOverContent(e):void 0,onDragEnter:s.onDragEnterContent?s.onDragEnterContent(e):void 0,onDragLeave:s.onDragLeaveContent?s.onDragLeaveContent(r):void 0}:{}),[s]);return t.react.exports.createElement(r.Menu.Wrapper,{className:d,onSelection:(e,r)=>{"function"==typeof e&&e(r)},inverse:l,shouldPropagateClickOutsideMouseEvents:!0},(({getContentProps:e,getTriggerProps:n,openMenu:s,closeMenu:d})=>t.react.exports.createElement(t.react.exports.Fragment,null,t.react.exports.createElement(r.IconButton,{variant:"transparent",className:"dig-Breadcrumb-overflow-button","data-testid":"digBreadcrumbOverflowButton",size:"small",inverse:l,...n(),...m(s,d),...i},t.react.exports.createElement(r.UIIcon,{src:a.MoreHorizontalLine,size:c})),t.react.exports.createElement(r.Menu.Content,{...e(),...u(s,d)},t.react.exports.createElement(r.Menu.Segment,null,o.map(((e,a)=>{const{id:n,children:o,withMenuItemIcon:s,href:i,onClick:c,onDragOver:l,onDragEnter:d,onDragLeave:m,onDrop:u}=e;return e&&t.react.exports.createElement(v,{id:n,"aria-label":e["aria-label"],value:i,href:"string"==typeof i?i:void 0,onClick:c,onDragOver:l,onDragEnter:d,onDragLeave:m,onDrop:u,children:o,withLeftAccessory:s?t.react.exports.createElement(r.UIIcon,{src:s}):void 0,key:`overflow-item-${a}`})})))))))};f.displayName="BreadcrumbOverflow";var x=({segments:e,isRootOverflow:r,overflowEventHandlers:a})=>{const n=[];if(e.inline.forEach(((a,o)=>{n.push(a.item),o!==e.inline.length-1&&(e.overflow.length>0&&!r&&0===o?n.push(t.react.exports.createElement(p,{key:`divider-${o}`,className:"dig-Breadcrumb-divider--overflowLeft"})):n.push(t.react.exports.createElement(p,{key:`divider-${o}`})))})),e.overflow.length>0){let o=2;(1===e.inline.length||r)&&(o=0),n.splice(o,0,t.react.exports.createElement(p,{key:"divider--1",className:"dig-Breadcrumb-divider--overflowRight"})),n.splice(o,0,t.react.exports.createElement(f,{overflowItemsProps:e.overflow.map((e=>e.linkProps)),overflowEventHandlers:a,key:"overflow"}))}return t.react.exports.createElement(t.react.exports.Fragment,null,n)};x.displayName="BreadcrumbRenderer";var h=t.react.exports.forwardRef((({className:e,children:a,size:s="medium",overflowEventHandlers:i,isRootOverflow:l=!1,alwaysShowRoot:m=!1,inverse:g=!1,...p},v)=>{const f=u(s),{nodeRef:h,observerEntry:b}=r.useResizeObserver(),[E,w]=t.react.exports.useState(!0),[D,k]=t.react.exports.useState(!0),[C,B]=t.react.exports.useState([]),I=t.react.exports.useRef(null),N=r.classnames("dig-Breadcrumb",{"dig-Breadcrumb--small":"small"===f},{"dig-Breadcrumb--inverse":g},e),O={size:f,inverse:g,updateSegment:t.react.exports.useCallback(((e,r,t)=>{B((a=>a.map(((a,n)=>n===e?{...a,width:Math.ceil(t),linkProps:{...r,id:r._originalId,_originalId:void 0}}:a))))}),[])},y="medium"===f?r.Title:r.Text;return t.react.exports.useImperativeHandle(v,(()=>{return e=I,{getBoundingClientRect:()=>e.current?e.current.getBoundingClientRect():new DOMRect};var e})),t.react.exports.useEffect((()=>{document.fonts?document.fonts.ready.then((()=>{k(!1)})):k(!1)}),[]),t.react.exports.useEffect((()=>{w(!0)}),[a]),t.react.exports.useEffect((()=>{E&&(B((e=>{const r=[];return t.react.exports.Children.forEach(e,(e=>{t.react.exports.isValidElement(e)&&r.push({item:e,width:0,linkProps:{}})})),r})(a)),w(!1))}),[a,E]),t.react.exports.createElement(n.Provider,{value:O},!E&&t.react.exports.createElement(y,{size:"small",className:"dig-Breadcrumb--widthCalcUtil","aria-hidden":"true"},t.react.exports.Children.map(a,((e,r)=>{if(t.react.exports.isValidElement(e))return t.react.exports.createElement(o.Provider,{value:r,key:`hidden-link-${r}`},t.react.exports.cloneElement(e,{id:`${c}-${r}`,_originalId:e.props.id}))}))),t.react.exports.createElement("nav",{className:N,...p,ref:h},t.react.exports.createElement("div",{className:"dig-Breadcrumb-inner",ref:I},!D&&t.react.exports.createElement(x,{segments:d({availableWidth:b?b.contentRect.width:0,breadcrumbSegments:C,size:f,isRootOverflow:l,alwaysShowRoot:m}),isRootOverflow:l,overflowEventHandlers:i}))))}));h.Link=g,h.displayName="Breadcrumb",e.Breadcrumb=h}));
//# sourceMappingURL=c_breadcrumb_index.js-vflYAnmfN.map
