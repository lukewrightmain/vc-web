define(["exports","./e_ui_page_files_router","./c_core_i18n"],(function(e,s,t){"use strict";e.SharingApi=class{constructor(e){this.user=e}get_sync_vars_for_ns_id(e,s,t){const r={ns_id:e,sub_path:s};this._make_request("/sharing/get_sync_vars_for_ns_id",r,t,null,!0)}validate_new_sf_path(e,s,t,r){const a={share_type:"new",folder_name:e,path:s};this._make_request("/share_ajax/validate_folder",a,t,r,!0)}validate_shareable_existing_sf_path(e,s,t){const r={share_type:"shareable_existing",path:e};this._make_request("/share_ajax/validate_folder",r,s,t,!0)}_make_request(e,t,r,a,_=!1,i=!0){const n={url:e,data:t,success(e,s,t){r(t)},error(e){a&&a(e)}};i&&(n.subject_user=this.user.id),_?s.FormWebRequest(n):s.WebRequest$2(n)}},e.extractErrors=e=>{try{return 0===e.indexOf("err:")&&(e=e.substr(4),JSON.parse(e))}catch(s){return"string"==typeof e?e:t.intl.formatMessage({id:"bLA3rA",defaultMessage:"There was a problem completing this request."})}}}));
//# sourceMappingURL=c_deprecated_ajax_ajax_form_extract_errors.js-vflep8dbr.map
