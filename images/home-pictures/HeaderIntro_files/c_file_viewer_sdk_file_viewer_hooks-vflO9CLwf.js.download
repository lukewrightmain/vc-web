define(["exports","./c_tslib","./e_edison","./e_ui_page_files_router","./c_action_bar_action_bar_strings","./c_starred_actions","./c_starred_constants","./c_starred_star","./c_core_i18n","./c_ui-icon_fill_star","./c_src_file_viewer_components","./c_sdk_file_viewer_action_plugins_utils","./c_file_store_utils"],(function(e,t,a,i,r,s,n,_,c,l,o,u,d){"use strict";e.isStarringEnabled=function(e){return u.isLiveFile(e)&&!d.isSharedFile(e)&&!u.isInsideVaultFolder(e)},e.useStarControl=function({getActiveFile:e,onChange:s}){const{file:n}=e(),_=i.useDispatch(),u=i.useSelector((e=>i.getIsStarred(e,n.file_id)));a.react.exports.useEffect((()=>{_(i.fetchMissingStarredStatuses([{id:n.file_id,type:i.HOME_RESOURCE_ID_TYPE.ENCODED_FILE_OBJ_ID}]))}),[n]);const d=a.react.exports.useCallback((()=>t.__awaiter(this,void 0,void 0,(function*(){const e=yield _(i.updateStarredStatus({id:n.file_id,newStatus:!u,showSnackbar:!1}));try{i.unwrapResult(e),i.displayStarSnackbar({itemName:i.itemNameFromStarrableItem(n),isStarred:!u,success:!0}),null==s||s(!u,!0)}catch(e){i.displayStarSnackbar({itemName:i.itemNameFromStarrableItem(n),isStarred:!u,success:!1}),null==s||s(!u,!1)}}))),[s,_,n,u]),S=o.useStabilizedCallback((e=>{e.preventDefault(),e.stopPropagation(),d()})),f=o.useStabilizedCallback((e=>{e.key===i.Key_enum.Key.Enter&&(e.preventDefault(),e.stopPropagation(),d())}));return{message:c.intl.formatMessage(u?r.UNSTAR_ACTION_STRING:r.STAR_ACTION_STRING),iconSrc:u?l.StarFill:i.StarLine,handleClick:S,handleKeyPress:f}}}));
//# sourceMappingURL=c_file_viewer_sdk_file_viewer_hooks.js-vflWOMbco.map
