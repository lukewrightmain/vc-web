define(["exports","./c_tslib","./e_ui_page_files_router","./c_core_custom_protocol","./c_core_uri","./c_web_util_errors"],(function(t,e,o,r,i,_){"use strict";const c=t=>{if(!t)return o.INSTALL_PAGE_RELATIVE_PATH;const{oqa:e}=t,r=[e&&`oqa=${e}`].filter((t=>void 0!==t)).join("&");return r.length?`${o.INSTALL_PAGE_RELATIVE_PATH}?${r}`:o.INSTALL_PAGE_RELATIVE_PATH},n=t=>{if(!t)return o.CLIENT_DEEP_LINK_BACKUP_APP;const{accountId:e,source:r,hostId:i,action:_,driveUuid:c,fqPaths:n,oqa:a}=t,u=[e&&`account_id=${e}`,i&&`host_id=${i}`,c&&`drive_uuid=${c}`,_&&`action=${_}`,r&&`web_source=${r}`,a&&`oqa=${a}`,...void 0===n?[]:n.map((t=>`fq_paths=${encodeURIComponent(JSON.stringify(t))}`))].filter((t=>void 0!==t)).join("&");return`${o.CLIENT_DEEP_LINK_BACKUP_APP}?${u}`},a=t=>r.launchUri(t).catch((()=>Promise.reject(new _.LaunchUriError("launchUri failed"))));t.launchBackupOnDesktop=t=>e.__awaiter(void 0,void 0,void 0,(function*(){const e=n(t);try{yield a(e)}catch(e){(t=>{const e=i.URI.parse(t);o.open_tab(new i.URI({path:e.getPath(),query:e.getQuery(),fragment:e.getFragment()}))})(c(t))}}))}));
//# sourceMappingURL=c_sync_everything_utils_deep_link_utils.js-vflKg3YWU.map
