define(["exports","./e_edison","./e_ui_page_files_router","./c_core_i18n","./c_tslib","./c_core_uri","./c_lodash-es_lodash","./c_apex-metrics_src_types","metaserver/static/js/modules/constants/files_spa","./e_core_exception","./c_core_exception_info","metaserver/static/js/modules/constants/page_load","metaserver/static/js/modules/constants/request","./c_core_notify","metaserver/static/js/modules/constants/env","metaserver/static/js/modules/constants/web_experience_constants","metaserver/static/js/modules/constants/viewer","metaserver/static/js/modules/constants/auth","./c_api_v2_noauth_client","./c_browser_cookies","./c_src_sink_index","./c_core_browser_detection","metaserver/static/js/modules/constants/time","metaserver/static/js/modules/constants/ajax_strings","./c_csrf","./c_core_xhr","metaserver/static/js/modules/constants/locales","metaserver/static/js/modules/constants/webtiming","metaserver/static/js/modules/constants/sharing","metaserver/static/js/modules/constants/trademark","metaserver/static/js/modules/constants/campaigns_orchestration","metaserver/static/js/modules/constants/maestro_nav_strings","metaserver/static/js/modules/constants/search","metaserver/static/js/modules/constants/undo_strings","metaserver/static/js/modules/constants/contacts","metaserver/static/js/modules/constants/login_and_register","metaserver/static/js/modules/core/langpack"],(function(e,t,a,s,n,r,i,o,c,l,m,d,p,_,u,h,g,b,f,R,k,v,x,$,T,y,E,j,N,C,L,w,U,P,I,S,B){"use strict";a.injectInternalStyle("metaserver/static/js/prompt/ui/header_link.module.out.css",(e=>"._header-link-container_71it9_1{align-self:center;white-space:nowrap}._header-link_71it9_1{display:none;margin:0 var(--spacing__unit--1)}._header-link_71it9_1 ._text-style_71it9_11{padding-right:5px}._header-link_71it9_1 ._button-style_71it9_15{padding-right:12px}@media only screen and (min-width:736px){._header-link_71it9_1{align-self:center;display:block}}"));const H="_header-link-container_71it9_1",O="_header-link_71it9_1",M="_text-style_71it9_11",D="_button-style_71it9_15";class W extends t.React$1.Component{render(){const{content:e,confirmUrl:s,onConfirm:n,linkRef:r}=this.props,i=e.linkStyle&&[a.LinkStyleTypes.PRIMARY_BUTTON_LINK,a.LinkStyleTypes.OUTLINE_BUTTON_LINK].includes(e.linkStyle)?t.React$1.createElement(a.Button,{variant:e.linkStyle===a.LinkStyleTypes.PRIMARY_BUTTON_LINK?"primary":"outline",className:`${O} ${D}`,"data-testid":"prompt-header-link","data-uxa-log":a.generateGHLogName("promp-button","link"),href:s,onClick:n},e.linkText):t.React$1.createElement(a.Link,{className:`${O} ${M}`,"data-testid":"prompt-header-link","data-uxa-log":a.generateGHLogName("promp-button","link"),href:s,hasNoUnderline:!0,onClick:n},e.linkText);return t.React$1.createElement("div",{ref:r,className:`${H} prompt-header-link--preview`},t.React$1.createElement(a.Tooltip,{title:e.linkTooltipText,placement:"bottom",hidden:!e.linkTooltipText},i))}}W.displayName="HeaderLinkRenderer";class K extends a.PromptLocationWithDefaultState{componentDidMount(){this.state_manager.onShow()}render(){return t.React$1.createElement(W,{content:this.props.campaign.content,confirmUrl:this.state_manager.buildConfirmEndpointURI(),onConfirm:this.state_manager.onConfirm,linkRef:this.props.linkRef})}}const q=a.requireCssWithComponent(K,["/static/metaserver/static/css/dig-components/index.web-vflvPodS4.css"]);function G(e){return a.PromptButton(e)}class A extends a.PromptLocationWithDefaultState{render(){const e=this.props.campaign.content,n=t.React$1.createRef(),r=t.React$1.createRef();let i;const o=this.props.campaign.campaignLocationId;e.timerEndUtctimestamp&&(i=this.getTimerComponent(e.timerEndUtctimestamp,e.timerStartUtctimestamp,o));const c=a.classnames({"prompt-header-bubble-tooltip":!0,light:!0,"has-image":!!e.imageUrl,"prompt-header-bubble-tooltip--preview":this.props.isPreview}),l=e.imageUrl?t.React$1.createElement("div",{className:"image-container"},t.React$1.createElement(a.Image$1,{src:e.imageUrl,srcHiRes:e.imageUrlHiRes,alt:e.confirmText})):null;return t.React$1.createElement(t.React$1.Fragment,null,t.React$1.createElement(a.PromptTooltipBoundary,{ref:r}),t.React$1.createElement(W,{content:e,confirmUrl:this.state_manager.buildConfirmEndpointURI(),onConfirm:this.state_manager.onConfirm,linkRef:n}),t.React$1.createElement(a.PromptTooltip,{isOpen:!this.state.isDismissed&&!this.state.isConfirmed,isPreview:this.props.isPreview,unportaled:this.props.isPreview,placement:"bottom",isInverse:!1,className:c,targetRef:n,boundaryRef:r,onRender:this.state_manager.onShow},t.React$1.createElement("div",{className:"prompt-header-bubble-content"},l,t.React$1.createElement("div",{className:"content-container"},t.React$1.createElement(a.Text,{"data-testid":"prompt-header-bubble-text",dangerouslySetInnerHTML:a.sanitizeOptionalHTML(e.text)}),i,t.React$1.createElement("div",{className:"prompt-buttons"},t.React$1.createElement(a.Button,{className:"cancel-button prompt-button",variant:"opacity",onClick:this.state_manager.onDismiss,"data-uxa-log":a.generateGHLogName("prompt-bubble","cancel")},t.React$1.createElement("span",{"data-testid":"prompt-header-bubble-cancel-text"},e.cancelText||s.intl.formatMessage({id:"tuKZQZ",defaultMessage:"Close"}))),t.React$1.createElement(G,{variant:"primary",text:e.confirmText,confirmInNewTab:e.confirmInNewTab||!1,confirmIsPost:this.state_manager.shouldConfirmUsingPost(),stateManager:this.state_manager,onClick:this.state_manager.onConfirmWithoutCallback}))))))}}const F=a.requireCssWithComponent(A,["/static/metaserver/static/css/dig-components/index.web-vflvPodS4.css"]),Y=e=>t.React$1.createElement(t.React$1.Fragment,null,e.headerLinkProps&&t.React$1.createElement(q,Object.assign({},e.headerLinkProps)),e.headerBubbleProps&&t.React$1.createElement(F,Object.assign({},e.headerBubbleProps)));Y.displayName="HeaderLinkOrBubble",e.HeaderLinkOrBubble=Y}));
//# sourceMappingURL=c_prompt_ui_header_link_or_bubble.js-vflohpjYo.map
