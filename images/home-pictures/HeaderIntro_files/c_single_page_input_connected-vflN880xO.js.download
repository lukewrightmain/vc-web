define(["exports","./e_ui_page_files_router","./e_edison","./c_react_query_api_helpers_queries_contacts","./c_react_query_api_helpers_queries_result_suggestions","./c_react_query_api_helpers_queries_search_experiments","metaserver/static/js/modules/constants/files_spa","./c_tslib","./c_apex-metrics_src_types","./e_core_exception","./c_core_exception_info","metaserver/static/js/modules/constants/page_load","metaserver/static/js/modules/constants/request","./c_lodash-es_lodash","./c_core_notify","./c_core_uri","./c_core_i18n","./c_src_sink_index","./c_core_browser_detection","metaserver/static/js/modules/core/langpack","metaserver/static/js/modules/constants/env","metaserver/static/js/modules/constants/web_experience_constants","metaserver/static/js/modules/constants/viewer","metaserver/static/js/modules/constants/auth","./c_api_v2_noauth_client","./c_browser_cookies","metaserver/static/js/modules/constants/time","metaserver/static/js/modules/constants/ajax_strings","./c_csrf","./c_core_xhr","metaserver/static/js/modules/constants/locales","metaserver/static/js/modules/constants/webtiming","metaserver/static/js/modules/constants/sharing","metaserver/static/js/modules/constants/trademark","metaserver/static/js/modules/constants/campaigns_orchestration","metaserver/static/js/modules/constants/maestro_nav_strings","metaserver/static/js/modules/constants/search","metaserver/static/js/modules/constants/undo_strings","metaserver/static/js/modules/constants/contacts","metaserver/static/js/modules/constants/login_and_register","./c_react_query_api_helpers_helpers"],(function(e,t,s,a,n,i,o,g,r,c,u,S,l,d,h,m,_,p,I,y,v,E,L,D,R,j,T,A,O,C,b,f,Q,x,q,P,w,F,k,M,U){"use strict";const G={setQuery:t.setQuery,setPath:t.setPath,clear:t.clear,setHighlightedRow:t.setHighlightedRow,setFilteredAccountId:t.setFilteredAccountId,onSearch:t.performSearch,setIsActiveInGlobalHeader:t.setIsActiveInGlobalHeader,dismissAllSuggestions:t.dismissAllSuggestions,onResultSuggestionClick:t.onResultSuggestionClick,redirectToResultDispatch:t.redirectToResult,onRecentItemSuggestionClick:t.onRecentItemSuggestionClick,fetchSuggestions:t.fetchSuggestions},H=t.connect((e=>({query:t.query(e),path:t.path$1(e),highlightedRow:t.highlightedRow(e),filteredAccountId:t.filteredAccountId(e),suggestionSectionOrder:t.suggestionSectionOrder(e),isSearchQueryUpToDateWithFilters:t.isSearchQueryUpToDateWithFilters(e),searchArgs:t.searchArgs(e),typeaheadSessionId:t.typeaheadSessionId(e),apiCommonFields:t.apiCommonFields(e),results:t.resultsList(e),allSuggestionData:t.allSuggestionData(e),filteredContact:t.filteredContact(e),highlightedSuggestion:t.highlightedSuggestion(e),highlightedSuggestionData:t.highlightedSuggestionData(e),isAdvancedSearchOperatorsEnabled:t.isAdvancedSearchOperatorsEnabled(e),manualTaggingVariant:t.manualTaggingVariant$1(e),querySuggestionsLoadingState:t.querySuggestionsLoadingState(e),peopleSuggestionsLoadingState:t.peopleSuggestionsLoadingState(e),tagsSuggestionsLoadingState:t.tagsSuggestionsLoadingState(e),resultSuggestionsLoadingState:t.resultSuggestionsLoadingState(e),recentItemSuggestionsLoadingState:t.recentItemSuggestionsLoadingState(e)})),G),V=H(t.SearchInputComponent),B=e=>{var o;const{highlightedRow:g,filteredAccountId:r,peopleSuggestionsLoadingState:c,query:u,recentItemSuggestionsLoadingState:S,suggestionSectionOrder:l,tagsSuggestionsLoadingState:d,querySuggestionsLoadingState:h,resultSuggestionsLoadingState:m,typeaheadSessionId:_}=e,p=t.mustGetActiveUser(),I=i.searchExperimentsRequestPackage.useQuery({}),y=i.formatSearchInputExperiments(null===(o=I.data)||void 0===o?void 0:o.experiments),{isAdvancedSearchOperatorsEnabled:v,manualTaggingVariant:E}=y,L=t.normalize$1(u),[D,R]=a.useContactsQueryBy(L,!0),[j,T]=a.useFilteredContactQuery(r,!0),[A,O]=n.useTagsSuggestionsQueryBy(L,t.isTaggingEnabled(E)),C=t.searchSessionManager.getSearchSessionId({searchSessionExtensionType:"PASSIVE"}),[b,f]=n.useQuerySuggestionsQueryBy(L,C,_),Q=Object.assign(Object.assign({},e.apiCommonFields),{searchSessionId:C,maxResults:t.MAX_SEARCH_RESULT_SUGGESTIONS_TO_FETCH,start:0,isDropdown:!0,isForResultSuggestions:!0,filenameOnly:!0,includeHighlights:!1,includeSnippets:!1,skipLogging:!0}),[x,q]=n.useResultSuggestionsQueryBy(Q,y),P=t.shouldUseZeroStateDropdown(),w=P&&0===L.length,[F,k]=n.useRecentItemsQuery(p,P),[M,U]=n.useZeroStatePeopleSuggestionQuery(P,n.PEOPLE_SUGGESTIONS_DROPDOWN_LIMIT),[G,H]=n.useZeroStateTagsSuggestions(P),V=Object.assign({},e.allSuggestionData);let B=t.immutable.exports.List();L.length>0?(c&&c!==t.PeopleSuggestionsLoadingState.DISMISSED&&(V[t.SuggestionSection.PEOPLE]=R),d&&d!==t.TagsSuggestionsLoadingState.DISMISSED&&(V[t.SuggestionSection.TAGS]=O),h&&h!==t.QuerySuggestionsLoadingState.DISMISSED&&(V[t.SuggestionSection.QUERY]=f),m&&m!==t.ResultSuggestionsLoadingState.DISMISSED&&(V[t.SuggestionSection.RESULT]=q,B=t.immutable.exports.List(q))):w&&(S&&S!==t.RecentItemSuggestionsLoadingState.DISMISSED&&(V[t.SuggestionSection.RECENT]=k),c&&c!==t.PeopleSuggestionsLoadingState.DISMISSED&&(V[t.SuggestionSection.PEOPLE]=U),d&&d!==t.TagsSuggestionsLoadingState.DISMISSED&&(V[t.SuggestionSection.TAGS]=H));const N=t.getHighlightedSuggestionData(V,g,l),$=t.convertSuggestionDataToHighlightedSuggestion(N,p);return s.React$1.createElement(t.SearchInputComponent,Object.assign({},e,{allSuggestionData:V,results:B,filteredContact:T,highlightedSuggestion:$,highlightedSuggestionData:N,isAdvancedSearchOperatorsEnabled:v,manualTaggingVariant:E}))},N=H(B),$=t.shouldUseReactQueryForSearchInput()?N:V;e.ConnectedSearchInput=$,e.ReactQuerySearchInputComponent=B}));
//# sourceMappingURL=c_single_page_input_connected.js-vflgsQBkL.map
