define(["exports","./c_tslib","./c_core_i18n","./e_ui_page_files_router"],(function(e,a,_,t){"use strict";class n extends t.GrowthUserActionTracker{constructor(){super(...arguments),this.project="pg_docsend_contextual_upsell"}}var s;!function(e){e.DOCSEND_UPSELL_SHARING_DIALOG_OR_BANNER_DISMISSED_ACTION="docsend_upsell_sharing_dialog_or_banner_dismissed"}(s||(s={}));const S={docsend:{acceptText:_.intl.formatMessage({id:"6dTn9+",defaultMessage:"Try DocSend"}),declineText:_.intl.formatMessage({id:"PaR0U3",defaultMessage:"Skip"}),titleText:_.intl.formatMessage({id:"hm8Dgf",defaultMessage:"Interested in analytics and advanced sharing controls?"}),bodyText:_.intl.formatMessage({id:"KKXTSe",defaultMessage:"With DocSend you can control document versions, track activity with analytics, and share multiple documents with a single link."}),afterAccept:e=>{e(!0)},redirectHref:"https://docsend.com/signup/dropbox?utm_source=Dropbox%20Referral&utm_medium=Referral&utm_campaign=sh-page-v1&signup_source=sh-page-v1",uxaPrefix:"docsend-shared-page-upsell-banner",imgSrc:"/static/metaserver/static/images/product_growth/docsend_upsell/shared_page_banner-vfll-NvSO.svg"}},d=t.getExtensionsClient(),i=e=>a.__awaiter(void 0,void 0,void 0,(function*(){return yield t.getUserMetadata(["DOCSEND_ADVANCED_SHARING_M1_HAS_OPENED_SHARING_SETTINGS","DOCSEND_ADVANCED_SHARING_M1_HAS_SEEN_DOCSEND_MODAL","DOCSEND_ADVANCED_SHARING_M1_IS_ELIGIBLE_FOR_SPLIT_SHARE_ITEM","DOCSEND_ADVANCED_SHARING_M1_HAS_CONFIRMED_DOCSEND_SPLIT_SHARE_ITEM"],e)}));e.canBeShownDocsendModal=e=>a.__awaiter(void 0,void 0,void 0,(function*(){const a=yield i(e);return a.DOCSEND_ADVANCED_SHARING_M1_HAS_OPENED_SHARING_SETTINGS&&!a.DOCSEND_ADVANCED_SHARING_M1_IS_ELIGIBLE_FOR_SPLIT_SHARE_ITEM&&!a.DOCSEND_ADVANCED_SHARING_M1_HAS_CONFIRMED_DOCSEND_SPLIT_SHARE_ITEM&&!a.DOCSEND_ADVANCED_SHARING_M1_HAS_SEEN_DOCSEND_MODAL})),e.setHasConfirmedDocsendSplitShareItemInUserMetadata=e=>{d.updateDocsendAdvancedSharingHasConfirmedSplitShareMenu(!0),t.setUserMetadata({DOCSEND_ADVANCED_SHARING_M1_HAS_CONFIRMED_DOCSEND_SPLIT_SHARE_ITEM:!0},e)},e.setHasOpenedSharingSettingsInUserMetadata=e=>{t.getStore().dispatch(t.setDocsendAdvancedSharingHasOpenedSharingSettings({docsendAdvancedSharingHasOpenedSharingSettings:!0})),d.updateDocsendAdvancedSharingHasOpenedSharingSettings(!0),t.setUserMetadata({DOCSEND_ADVANCED_SHARING_M1_HAS_OPENED_SHARING_SETTINGS:!0},e)},e.setHasSeenDocsendModalInUserMetadata=e=>a.__awaiter(void 0,void 0,void 0,(function*(){t.getStore().dispatch(t.setDocsendAdvancedSharingHasSeenShareModal({docsendAdvancedSharingHasSeenShareModal:!0})),d.updateDocsendAdvancedSharingHasSeenShareModal(!0),t.setUserMetadata({DOCSEND_ADVANCED_SHARING_M1_HAS_SEEN_DOCSEND_MODAL:!0},e)})),e.setIsEligibleForDocsendSplitShareItemInUserMetadata=e=>a.__awaiter(void 0,void 0,void 0,(function*(){t.getStore().dispatch(t.setDocsendAdvancedSharingHasShared({docsendAdvancedSharingHasShared:!0})),d.updateDocsendAdvancedSharingHasShared(!0);(yield i(e)).DOCSEND_ADVANCED_SHARING_M1_HAS_OPENED_SHARING_SETTINGS&&t.setUserMetadata({DOCSEND_ADVANCED_SHARING_M1_IS_ELIGIBLE_FOR_SPLIT_SHARE_ITEM:!0},e)})),e.trackDismissAction=e=>{if(void 0!==e){new n(e).track(s.DOCSEND_UPSELL_SHARING_DIALOG_OR_BANNER_DISMISSED_ACTION,{})}},e.upsellBannerContext=S}));
//# sourceMappingURL=c_sharing_upsells_util.js-vflV7T7mb.map
